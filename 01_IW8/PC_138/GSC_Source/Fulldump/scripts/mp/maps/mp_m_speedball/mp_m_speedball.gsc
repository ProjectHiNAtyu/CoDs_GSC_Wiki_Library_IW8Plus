// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

main()
{
    _codecomputerscriptableused::get_recent_spawn_time_threshold();
    scripts\mp\maps\mp_m_speedball\mp_m_speedball_precache::main();
    scripts\mp\maps\mp_m_speedball\gen\mp_m_speedball_art::main();
    scripts\mp\maps\mp_m_speedball\mp_m_speedball_fx::main();
    scripts\mp\maps\mp_m_speedball\mp_m_speedball_lighting::main();
    scripts\mp\load::main();
    level.outofboundstriggers = getentarray( "OutOfBounds", "targetname" );
    scripts\mp\compass::setupminimap( "compass_map_mp_m_speedball", "codcaster_compass_map_mp_m_speedball" );
    scripts\cp_mp\utility\game_utility::registerarenamap();
    level.requiresminstartspawns = 0;
    setdvar( "PKKMTTRQO", 8 );
    setdvar( "NSSMQLPRNT", 0.01 );
    setdvar( "NQTLPTNSSO", 500 );
    game["attackers"] = "allies";
    game["defenders"] = "axis";
    game["allies_outfit"] = "woodland";
    game["axis_outfit"] = "woodland";
    level thread signallightsthink();

    if ( 0 )
        scripts\mp\gametypes\trial::main();
}

signallightsthink()
{
    wait 2.0;
    var_0 = getscriptablearray( "scriptable_stationary_trainyard_signal_lights_01_spdball", "classname" );

    if ( var_0.size == 0 )
        return;

    foreach ( var_2 in var_0 )
        var_2 setscriptablepartstate( "light", "light_red" );

    if ( !scripts\mp\flags::gameflag( "prematch_done" ) )
        level scripts\mp\flags::gameflagwait( "prematch_done" );

    foreach ( var_2 in var_0 )
        var_2 setscriptablepartstate( "light", "light_green" );

    wait 3;

    foreach ( var_2 in var_0 )
        var_2 setscriptablepartstate( "light", "light_red" );
}
