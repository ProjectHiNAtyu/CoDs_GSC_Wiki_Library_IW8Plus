// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

main()
{
    scripts\mp\maps\mp_m_wallco2\mp_m_wallco2_precache::main();
    scripts\mp\maps\mp_m_wallco2\gen\mp_m_wallco2_art::main();
    scripts\mp\maps\mp_m_wallco2\mp_m_wallco2_fx::main();
    scripts\mp\maps\mp_m_wallco2\mp_m_wallco2_lighting::main();
    scripts\mp\load::main();
    level.outofboundstriggers = getentarray( "OutOfBounds", "targetname" );
    scripts\mp\compass::setupminimap( "compass_map_mp_m_wallco2", "codcaster_compass_map_mp_m_wallco2" );
    scripts\cp_mp\utility\game_utility::registerarenamap();
    level.requiresminstartspawns = 0;
    setdvar( "PKKMTTRQO", 8 );
    game["attackers"] = "allies";
    game["defenders"] = "axis";
    game["allies_outfit"] = "urban";
    game["axis_outfit"] = "woodland";
    thread hide_headicon();
}

hide_headicon()
{
    level._id_1294C = getent( "EggTruckFullCol", "targetname" );
    level._id_1294D = getent( "EggDoorLeft", "targetname" );
    level._id_1294E = getent( "EggTruckDoorLeftCol", "targetname" );
    level._id_1294E linkto( level._id_1294D );
    level._id_1294F = getent( "EggDoorRight", "targetname" );
    level._id_12950 = getent( "EggTruckDoorRightCol", "targetname" );
    level._id_12950 linkto( level._id_1294F );
    level.helperdrone_watchaltitude = getent( "EggBox", "targetname" );
    level.hide_bomb_case_timer = getentarray( "EggRolls", "targetname" );

    foreach ( var_1 in level.hide_bomb_case_timer )
        var_1 hide();

    level.brtruck_playerwelcomesplashes = getentarray( "EggBear", "script_noteworthy" );

    foreach ( var_4 in level.brtruck_playerwelcomesplashes )
        var_4 hide();

    thread helperdrone_notifyenemyplayersinrange( "EggBear1" );
}

helperdrone_notifyenemyplayersinrange( var_0 )
{
    var_1 = getent( var_0, "targetname" );
    var_1 show();
    var_1 setcandamage( 1 );
    var_1 waittill( "damage", var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9, var_10, var_11, var_12, var_13, var_14, var_15 );
    var_1 hide();

    if ( isdefined( var_1.target ) )
        helperdrone_notifyenemyplayersinrange( var_1.target );
    else
        hideallunselectedextractpads();
}

hideallunselectedextractpads()
{
    scripts\engine\utility::exploder( "last_roll" );
    thread _id_11FA6();

    foreach ( var_1 in level.hide_bomb_case_timer )
        var_1 show();

    level.helperdrone_watchaltitude hide();
    level._id_1294C hide();
    level._id_1294C connectpaths();
    level._id_1294D rotateby( ( 0, -230, 0 ), 0.5, 0, 0 );
    wait 0.05;
    level._id_1294F rotateby( ( 0, 270, 0 ), 0.45, 0, 0 );
    wait 0.45;
    level._id_1294D rotateby( ( 0, 30, 0 ), 1.5, 0, 0.5 );
    level._id_1294F rotateby( ( 0, -20, 0 ), 1, 0, 0.25 );
}

_id_11FA6()
{
    thread scripts\engine\utility::play_sound_in_space( "scn_wallco_ee_truck_open", ( -301, -42, 186 ) );
    thread scripts\engine\utility::play_sound_in_space( "mus_wallco_disco", ( -124, 2, 222 ) );
    wait 1;
    thread scripts\engine\utility::play_loopsound_in_space( "emt_disco_light_01", ( -101, 9, 234 ) );
    thread scripts\engine\utility::play_loopsound_in_space( "emt_disco_light_02", ( -165, -6, 223 ) );
    thread scripts\engine\utility::play_loopsound_in_space( "emt_sparkler_lp_01", ( -273, -66, 176 ) );
    thread scripts\engine\utility::play_loopsound_in_space( "emt_sparkler_lp_02", ( -287, -3, 176 ) );
}
