// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

main()
{
    scripts\mp\maps\mp_m_cage\mp_m_cage_precache::main();
    scripts\mp\maps\mp_m_cage\gen\mp_m_cage_art::main();
    scripts\mp\maps\mp_m_cage\mp_m_cage_fx::main();
    scripts\mp\load::main();
    level.outofboundstriggers = getentarray( "OutOfBounds", "targetname" );
    scripts\mp\compass::setupminimap( "compass_map_mp_m_cage", "codcaster_compass_map_mp_m_cage" );
    scripts\cp_mp\utility\game_utility::registerarenamap();
    level.requiresminstartspawns = 0;
    game["attackers"] = "allies";
    game["defenders"] = "axis";
    game["allies_outfit"] = "urban";
    game["axis_outfit"] = "woodland";
    thread lighting_setup_dvars();
    thread scripts\mp\animation_suite::animationsuite();
    thread spawn_bomb();
    thread teamspawnfunc();
}

lighting_setup_dvars()
{
    setdvar( "LKOLRONRNQ", 1500 );
    setdvar( "LTQMSPKRKO", 4 );
    setdvar( "MROOOROPKL", 8 );
    setdvar( "PKKMTTRQO", 8 );
    setdvar( "MNQKPNLOPT", 1 );
    setdvar( "NRSOTSLSSO", 1 );
    thread _id_12B5A();
}

_id_12B5A()
{
    setdvar( "NPONLLLSPL", 0.25 );
    setdvar( "LSNRQTOKRR", 2 );
    setdvar( "NTLKNLNPLK", 2 );
    setdvar( "TMNTMTQRM", 0 );
    setdvar( "sm_compressedSunShadowFiltering", 1 );
    setdvar( "sm_compressedSunShadowFilteringMaxRadius", 4 );
}

spawnfakepistol()
{
    setdvar( "NPONLLLSPL", 0.25 );
    setdvar( "LSNRQTOKRR", 2 );
    setdvar( "NTLKNLNPLK", 2 );
    setdvar( "TMNTMTQRM", 1 );
}

spawn_bomb()
{
    if ( level.gametype == "arena" )
    {
        wait 1;
        var_0 = scripts\mp\spawnlogic::getspawnpointarray( "mp_arena_spawn_axis_start" );

        foreach ( var_2 in var_0 )
        {
            if ( distance( var_2.origin, ( 64, -528, 16 ) ) < 10 )
            {
                var_2.origin = ( 90, -528, 16 );
                continue;
            }

            if ( distance( var_2.origin, ( -64, -528, 16 ) ) < 10 )
                var_2.origin = ( -90, -528, 16 );
        }

        var_4 = scripts\mp\spawnlogic::getspawnpointarray( "mp_arena_spawn_allies_start" );

        foreach ( var_2 in var_4 )
        {
            if ( distance( var_2.origin, ( 64, 528, 16 ) ) < 10 )
            {
                var_2.origin = ( 90, 528, 16 );
                continue;
            }

            if ( distance( var_2.origin, ( -64, 528, 16 ) ) < 10 )
                var_2.origin = ( -90, 528, 16 );
        }
    }
}

teamspawnfunc()
{
    var_0 = spawn( "script_model", ( -3, 36, 12 ) );
    var_0 setmodel( "mp_m_cage_shotblocker" );
    var_0.angles = ( 0, 0, 0 );
    var_1 = spawn( "script_model", ( 63, -36, 12 ) );
    var_1 setmodel( "mp_m_cage_shotblocker" );
    var_1.angles = ( 0, 0, 0 );
}
