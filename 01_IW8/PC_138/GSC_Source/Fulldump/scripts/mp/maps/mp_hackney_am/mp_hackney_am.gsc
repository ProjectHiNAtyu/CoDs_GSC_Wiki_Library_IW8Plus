// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

main()
{
    _calloutmarkerping_predicted_listenfornotifies::get_recent_spawn_time_threshold();
    level.music_style = "england";
    scripts\mp\maps\mp_hackney_am\mp_hackney_am_precache::main();
    scripts\mp\maps\mp_hackney_am\gen\mp_hackney_am_art::main();
    scripts\mp\maps\mp_hackney_am\mp_hackney_am_fx::main();
    scripts\mp\maps\mp_hackney_am\mp_hackney_am_lighting::main();
    scripts\mp\load::main();
    level.outofboundstriggers = getentarray( "OutOfBounds", "targetname" );
    scripts\mp\compass::setupminimap( "compass_map_mp_hackney_am", "codcaster_compass_map_mp_hackney_am" );
    level.kill_border_triggers = getentarray( "kill_border_trigger", "targetname" );
    setdvar( "PKKMTTRQO", 8 );
    setdvar( "LKOLRONRNQ", 1500 );
    setdvar( "MMNMQTSOSP", 0 );
    setdvar( "TMNTMTQRM", 0 );
    setdvar( "NPONLLLSPL", 0.325 );
    setdvar( "LSNRQTOKRR", 2 );
    setdvar( "NTLKNLNPLK", 4 );
    setdvar( "TSSONTORK", 0 );
    setdvar( "r_useCompressedSunShadow", 1 );
    setdvar( "NSSMQLPRNT", 0.01 );
    game["attackers"] = "allies";
    game["defenders"] = "axis";
    game["allies_outfit"] = "urban";
    game["axis_outfit"] = "urban";
    thread scripts\mp\motiondetectors::init();
    level thread neartrackthink();
    level thread fartrackthink();
    level thread maintvdestructibles();
    var_0 = getent( "infil_van_col", "targetname" );

    if ( isdefined( var_0 ) )
    {
        var_0 hide();
        var_0 connectpaths();
    }

    thread hide_multiple_brush();
    thread setup_vista_driving_boats();
    thread isattachmentvariantlocked();
    level ammorestock_disableusefortime();
    level thread teamsplashbr();
    level thread _id_12308();

    if ( !getdvarint( "LLQQOPKTKM" ) )
    {
        foreach ( var_2 in getentarray( "van_hackney_infil_alpha_lighting_model", "targetname" ) )
            var_2 hide();
    }

    var_4 = getnodesinradius( ( 808, -350, 185 ), 200, 0, 200 );

    foreach ( var_6 in var_4 )
    {
        if ( isdefined( var_6.animscript ) && var_6.animscript == "jump_down_136" )
            destroynavlink( var_6 );
    }

    var_4 = getnodesinradius( ( 766, 1259, 188 ), 200, 0, 200 );

    foreach ( var_6 in var_4 )
    {
        if ( isdefined( var_6.animscript ) && var_6.animscript == "jump_up_80" )
            destroynavlink( var_6 );
    }
}

spawntraincar( var_0 )
{
    var_1 = spawn( "script_model", var_0 );
    var_1 setmodel( "veh8_civ_lnd_tromeo_animated" );
    return var_1;
}

neartrackthink()
{
    level waittill( "infil_setup_complete" );

    if ( scripts\mp\flags::gameflag( "infil_will_run" ) )
        level waittill( "infil_started" );

    var_0 = [];
    var_1 = ( -5930, -605, 510 );
    var_2 = spawntraincar( var_1 );
    var_0[var_0.size] = var_2;
    var_3 = var_2;
    var_0[0].angles = ( 0, 166, 0 );
    var_4 = ( 0, 526, 0 );
    var_5 = var_1 + anglestoforward( var_4 ) * -27000;
    wait 2.0;
    var_0[0] setscriptablepartstate( "lightsFront", "on" );
    var_0[var_0.size - 1] setscriptablepartstate( "lightsRear", "on" );
    thread nearexploderthink( var_0 );

    for (;;)
    {
        var_0[0].origin = var_1;
        wait 1.0;
        var_0[0] show();
        var_0[0] moveto( var_5, 30.0, 0.1, 0.1 );
        var_0[0] setscriptablepartstate( "nearsfx", "on" );
        wait( 15.0 + randomfloatrange( 20.0, 40.0 ) );
        var_0[0] hide();
        waitframe();
    }
}

fartrackthink()
{
    var_0 = [];
    var_1 = ( 9240, -4705, 510 );
    var_2 = spawntraincar( var_1 );
    var_0[var_0.size] = var_2;
    var_3 = var_2;
    var_0[0].angles = ( 0, 346, 0 );
    var_4 = ( 0, 346, 0 );
    var_5 = var_1 + anglestoforward( var_4 ) * -35000;
    wait 2.0;
    var_0[0] setscriptablepartstate( "lightsFront", "on" );
    var_0[var_0.size - 1] setscriptablepartstate( "lightsRear", "on" );
    thread farexploderthink( var_0 );

    for (;;)
    {
        var_0[0].origin = var_1;
        wait 1.0;
        var_0[0] show();
        var_0[0] moveto( var_5, 30.0, 0.1, 0.1 );
        var_0[0] setscriptablepartstate( "farsfx", "on" );
        wait( 20.0 + randomfloatrange( 25.0, 35.0 ) );
        var_0[0] hide();
        waitframe();
    }
}

nearexploderthink( var_0 )
{
    var_1 = [];
    var_1[0] = ( 1081.93, -2260.39, 411.6 );
    var_1[1] = ( 64.6655, -2080.35, 425.455 );
    var_2 = [];
    var_2[0] = 100;
    var_2[1] = 102;
    var_3 = [];
    var_3[0] = undefined;
    var_3[1] = undefined;

    for (;;)
    {
        wait 0.1;

        for ( var_4 = 0; var_4 < var_1.size; var_4++ )
        {
            foreach ( var_6 in var_0 )
            {
                var_7 = distancesquared( var_6.origin, var_1[var_4] );

                if ( var_7 < 90000 )
                {
                    if ( !isdefined( var_3[var_4] ) || var_3[var_4] != var_6 )
                    {
                        var_3[var_4] = var_6;

                        if ( randomint( 100 ) > 25 )
                            scripts\engine\utility::exploder( var_2[var_4] );
                    }
                }
            }
        }
    }
}

farexploderthink( var_0 )
{
    var_1 = [];
    var_1[0] = ( -711.066, -2248.86, 440 );
    var_2 = [];
    var_2[0] = 101;
    var_3 = [];
    var_3[0] = undefined;

    for (;;)
    {
        waitframe();

        for ( var_4 = 0; var_4 < var_1.size; var_4++ )
        {
            foreach ( var_6 in var_0 )
            {
                var_7 = distancesquared( var_6.origin, var_1[var_4] );

                if ( var_7 < 90000 )
                {
                    if ( !isdefined( var_3[var_4] ) || var_3[var_4] != var_6 )
                    {
                        var_3[var_4] = var_6;

                        if ( randomint( 100 ) > 25 )
                            scripts\engine\utility::exploder( var_2[var_4] );
                    }
                }
            }
        }
    }
}

raindrop_fx_manager()
{
    wait 3;
    var_0 = scripts\engine\utility::spawn_tag_origin();
    level thread raindrop_fx_thread();
    var_1 = getentarray( "rain_exclusion", "script_noteworthy" );

    foreach ( var_3 in var_1 )
        thread raindrop_fx_trigger_think( var_3 );
}

raindrop_fx_thread( var_0 )
{
    self endon( "stop_raindrop_fx" );
    var_1 = "tag_origin";

    for (;;)
    {
        foreach ( var_0 in level.players )
        {
            if ( var_0.sessionstate == "spectator" )
                continue;

            if ( istrue( var_0.in_rain ) )
            {
                var_3 = angleclamp180( var_0 getplayerangles()[0] );

                if ( var_3 < -35 && !istrue( var_0.looking_up ) )
                {
                    playfxontag( level._effect["vfx_scrn_lookup_drops"], var_0, "tag_origin" );
                    var_0.looking_up = 1;
                }
                else if ( var_3 >= -35 && istrue( var_0.looking_up ) )
                {
                    if ( isdefined( "vfx_scrn_lookup_drops" ) )
                        stopfxontag( level._effect["vfx_scrn_lookup_drops"], var_0, "tag_origin" );

                    var_0.looking_up = 0;
                }
            }
        }

        wait 0.05;
    }
}

raindrop_fx_trigger_think( var_0 )
{
    for (;;)
    {
        foreach ( var_2 in level.players )
        {
            if ( var_2 istouching( var_0 ) )
            {
                var_2.in_rain = 0;
                continue;
            }

            var_2.in_rain = 1;
        }

        wait 0.05;
    }
}

maintvdestructibles()
{
    level endon( "game_ended" );
    wait 5;
    var_0 = getentarray( "destructibleTVs", "script_noteworthy" );

    foreach ( var_2 in var_0 )
        var_2 thread runtvdestructible();
}

runtvdestructible()
{
    level endon( "game_ended" );
    var_0 = scripts\engine\utility::get_target_array();
    var_1 = spawnstruct();
    var_1.lights = [];
    var_1.tvs = getscriptablearray( self.target, "targetname" );
    var_1.activetvs = var_1.tvs.size;

    foreach ( var_3 in var_0 )
    {
        if ( var_3.code_classname == "light" )
        {
            var_1.lights[var_1.lights.size] = var_3;
            var_1.lights[var_1.lights.size - 1].startvalue = var_3 getlightintensity();
            continue;
        }
    }

    foreach ( var_6 in var_1.tvs )
        var_6 thread watchdestructibletvs( var_1 );

    var_8 = var_1.activetvs;

    for (;;)
    {
        level waittill( "destructibleTV_died" );

        foreach ( var_10 in var_1.lights )
            var_10 setlightintensity( var_10.startvalue * ( var_1.tvs.size / var_8 ) );

        waitframe();
    }
}

watchdestructibletvs( var_0 )
{
    level endon( "game_ended" );
    self waittill( "scriptableNotification", var_1 );
    var_0.tvs = scripts\engine\utility::array_remove( var_0.tvs, self );
    level notify( "destructibleTV_died" );
}

hide_multiple_brush()
{
    var_0 = getentarray( "bake_shadow_brush", "targetname" );

    foreach ( var_2 in var_0 )
        var_2 delete();
}

setup_vista_driving_boats()
{
    wait 10.0;
    var_0 = getentarray( "boat_vista", "targetname" );
    var_1 = 0.00769231;
    var_2 = 0.0166667;
    var_3 = 0.0111111;
    level._effect["vfx_sailboat_wake"] = loadfx( "vfx/iw8_mp/level/overund/vfx_sailboat.vfx" );
    level._effect["vfx_tourboat_wake"] = loadfx( "vfx/iw8_mp/level/overund/vfx_tourboat.vfx" );
    wait 2.0;

    foreach ( var_5 in var_0 )
    {
        var_5.boatfx = scripts\engine\utility::spawn_tag_origin();
        var_5.boatfx.origin = var_5.origin;
        var_5.boatfx.angles = var_5.angles;
        var_5.boatfx.targetname = "boatFX";
        var_5.boatfx show();
        var_5.boatfx linkto( var_5 );
        wait 0.1;

        if ( isdefined( var_5.script_label ) )
        {
            if ( var_5.script_label == "ship" )
                thread vista_boat_drive( var_5, var_3 );
            else
            {
                thread vista_boat_drive( var_5, var_2 );
                playfxontag( scripts\engine\utility::getfx( "vfx_sailboat_wake" ), var_5.boatfx, "tag_origin" );
            }

            continue;
        }

        thread vista_boat_drive( var_5, var_1 );
        playfxontag( scripts\engine\utility::getfx( "vfx_tourboat_wake" ), var_5.boatfx, "tag_origin" );
    }
}

vista_boat_drive( var_0, var_1 )
{
    level endon( "game_ended" );
    var_2 = scripts\engine\utility::getstruct( var_0.target, "targetname" );

    for (;;)
    {
        var_3 = abs( distance( var_0.origin, var_2.origin ) * var_1 );
        var_0 moveto( var_2.origin, var_3, 0, 0 );
        var_0 rotateto( var_2.angles, var_3, 0, 0 );
        var_2 = scripts\engine\utility::getstruct( var_2.target, "targetname" );
        wait( var_3 );
    }
}

isattachmentvariantlocked()
{
    var_0 = getent( "clip64x64x8", "targetname" );
    var_1 = spawn( "script_model", ( 504, 1225, 140 ) );
    var_1.angles = ( 0, 0, 0 );
    var_1 clonebrushmodeltoscriptmodel( var_0 );
    var_2 = getent( "player32x32x256", "targetname" );
    var_3 = spawn( "script_model", ( -575, -2143, 92 ) );
    var_3.angles = ( 0, 0, 0 );
    var_3 clonebrushmodeltoscriptmodel( var_2 );
}

ammorestock_disableusefortime()
{
    var_0 = [];

    switch ( scripts\mp\utility\game::getgametype() )
    {
        case "tjugg":
        case "cranked":
        case "infect":
        case "tdef":
        case "grnd":
        case "grind":
        case "conf":
        case "war":
        case "sr":
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn", ( 128, -768, 24 ), ( 0, 0, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn", ( 720, -1112, 24 ), ( 0, 60, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn", ( -80, -1272, 30 ), ( 0, 60, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn", ( 288, -1104, 25 ), ( 0, 90, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn", ( 408, -1208, 24 ), ( 0, 180, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn", ( 456, 1016, 24 ), ( 0, 270, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn", ( 872, 608, 32 ), ( 0, 225, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn", ( 1304, 752, 32 ), ( 0, 270, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn", ( 168, -600, 24 ), ( 0, 90, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn", ( 552, -1016, 24 ), ( 0, 90, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn", ( 544, -1760, 16 ), ( 0, 45, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn", ( 8, 1168, 16 ), ( 0, 300, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn", ( 344, 1120, 24 ), ( 0, 225, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn", ( 1560, -1864, 24 ), ( 0, 90, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn", ( -424, 1376, 24 ), ( 0, 330, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn", ( 455, 1553, 28 ), ( 0, 200, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn", ( 1144, -576, 24 ), ( 0, 180, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn", ( 872, -416, 32 ), ( 0, 110, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn", ( 992, -1112, 32 ), ( 0, 110, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn", ( 856, -1248, 24 ), ( 0, 20, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn", ( -504, 1640, 106 ), ( 0, 0, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn_secondary", ( -616, 436, 36 ), ( 0, 300, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn_secondary", ( -584, -648, 40 ), ( 0, 60, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn_secondary", ( 1584, -64, 28 ), ( 0, 135, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn_secondary", ( 1592, -216, 24 ), ( 0, 225, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn_secondary", ( 232, 1312, 24 ), ( 0, 0, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn_secondary", ( -32, -488, 24 ), ( 0, 120, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn_secondary", ( 1088, -96, 32 ), ( 0, 100, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn_secondary", ( 464, -1880, 32 ), ( 0, 0, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn_secondary", ( 472, -2248, 176 ), ( 0, 45, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn_secondary", ( 1493, -1914, 184 ), ( 0, 90, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn_secondary", ( 1320, -264, 176 ), ( 0, 135, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn_secondary", ( 576, 1952, 184 ), ( 0, 300, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn_secondary", ( -600, 1520, 160 ), ( 0, 290, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn_secondary", ( -616, 416, 156 ), ( 0, 0, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_tdm_spawn_secondary", ( -48, 184, 28 ), ( 0, 200, 0 ) );
            break;
        case "dom":
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn", ( 128, -768, 24 ), ( 0, 0, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn", ( 720, -1112, 24 ), ( 0, 60, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn", ( -80, -1272, 30 ), ( 0, 60, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn", ( 288, -1104, 25 ), ( 0, 90, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn", ( 408, -1208, 24 ), ( 0, 180, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn", ( 456, 1016, 24 ), ( 0, 270, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn", ( 872, 608, 32 ), ( 0, 225, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn", ( 1304, 752, 32 ), ( 0, 270, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn", ( 168, -600, 24 ), ( 0, 90, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn", ( 552, -1016, 24 ), ( 0, 90, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn", ( 544, -1760, 16 ), ( 0, 45, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn", ( 8, 1168, 16 ), ( 0, 300, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn", ( 344, 1120, 24 ), ( 0, 225, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn", ( 1560, -1864, 24 ), ( 0, 90, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn", ( -424, 1376, 24 ), ( 0, 330, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn", ( 455, 1553, 28 ), ( 0, 200, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn", ( 1144, -576, 24 ), ( 0, 180, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn", ( 872, -416, 32 ), ( 0, 110, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn", ( 992, -1112, 32 ), ( 0, 110, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn", ( 856, -1248, 24 ), ( 0, 20, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn", ( -504, 1640, 106 ), ( 0, 0, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn_secondary", ( -616, 436, 36 ), ( 0, 300, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn_secondary", ( -584, -648, 40 ), ( 0, 60, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn_secondary", ( 1584, -64, 28 ), ( 0, 135, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn_secondary", ( 1592, -216, 24 ), ( 0, 225, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn_secondary", ( 232, 1312, 24 ), ( 0, 0, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn_secondary", ( -32, -488, 24 ), ( 0, 120, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn_secondary", ( 1088, -96, 32 ), ( 0, 100, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn_secondary", ( 464, -1880, 32 ), ( 0, 0, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn_secondary", ( 472, -2248, 176 ), ( 0, 45, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn_secondary", ( 1493, -1914, 184 ), ( 0, 90, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn_secondary", ( 1320, -264, 176 ), ( 0, 135, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn_secondary", ( 576, 1952, 184 ), ( 0, 300, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn_secondary", ( -600, 1520, 160 ), ( 0, 290, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn_secondary", ( -616, 416, 156 ), ( 0, 0, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dom_spawn_secondary", ( -48, 184, 28 ), ( 0, 200, 0 ) );
            break;
        case "dd":
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dd_spawn_defender", ( -645, 1343, 156 ), ( 0, 330, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dd_spawn_defender", ( -639, 1651, 148 ), ( 0, 270, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dd_spawn_defender", ( 598, 1855, 52 ), ( 0, 270, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dd_spawn_defender", ( 999, 1784, 36 ), ( 0, 270, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dd_spawn_defender", ( 1507, -1889, 176 ), ( 0, 90, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dd_spawn_defender", ( 553, -2234, 176 ), ( 0, 0, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dd_spawn_defender", ( 462, -2221, 176 ), ( 0, 150, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dd_spawn_defender", ( 295, -2164, 40 ), ( 0, 90, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dd_spawn_defender", ( 372, -1754, 24 ), ( 0, 180, 0 ) );
            var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_dd_spawn_defender", ( 515, -1887, 24 ), ( 0, 0, 0 ) );
            break;
    }

    if ( var_0.size > 0 )
        scripts\mp\spawnlogic::amped_wid( var_0 );
}

_id_12308()
{
    var_0 = spawn( "trigger_radius", ( 1416, -80, 97 ), 0, 64, 100 );
    var_0 thread _id_12F6A( "box" );
    var_1 = spawn( "trigger_radius", ( 1595, -150, 97 ), 0, 64, 100 );
    var_1 thread _id_12F6A( "dumpster" );
    var_2 = spawn( "trigger_radius", ( 1585, -920, 50 ), 0, 32, 100 );
    var_2 thread _id_12F6A( "trashcan" );
}

_id_12F6A( var_0 )
{
    for (;;)
    {
        self waittill( "trigger", var_1 );

        if ( !isplayer( var_1 ) )
            continue;

        if ( !isdefined( self.vehicle_collision_dvarinit ) )
            self.vehicle_collision_dvarinit = [];

        if ( scripts\engine\utility::array_contains( self.vehicle_collision_dvarinit, var_1.guid ) )
            continue;

        self.vehicle_collision_dvarinit = scripts\engine\utility::array_add( self.vehicle_collision_dvarinit, var_1.guid );

        switch ( var_0 )
        {
            case "box":
                var_1 thread _id_12F15( self );
                break;
            case "dumpster":
                var_1 thread _id_12F20( self );
                break;
            case "trashcan":
                var_1 thread _id_12F69( self );
                break;
        }
    }
}

_id_12F15( var_0 )
{
    self endon( "death_or_disconnect" );
    var_1 = self.team;
    var_2 = self.guid;
    var_3 = [];
    var_4 = spawnstruct();
    var_4.origin = ( 1579.86, -232.75, 18.1071 );
    var_4.radius = 64;
    var_3[var_3.size] = var_4;
    var_4 = spawnstruct();
    var_4.origin = ( 1564.49, -784.368, 18.125 );
    var_4.radius = 128;
    var_3[var_3.size] = var_4;
    var_4 = spawnstruct();
    var_4.origin = ( 1567.63, -2088.98, 24.0016 );
    var_4.radius = 256;
    var_3[var_3.size] = var_4;
    var_5 = [];

    foreach ( var_7 in var_3 )
        var_5[var_5.size] = scripts\mp\spawnlogic::addspawndangerzone( var_7.origin, var_7.radius, 100, var_1, undefined, self, 0, self, 1 );

    while ( isdefined( self ) && self istouching( var_0 ) )
        waitframe();

    foreach ( var_10 in var_5 )
        scripts\mp\spawnlogic::removespawndangerzone( var_10 );

    var_0.vehicle_collision_dvarinit = scripts\engine\utility::array_remove( var_0.vehicle_collision_dvarinit, var_2 );
}

_id_12F20( var_0 )
{
    self endon( "death_or_disconnect" );
    var_1 = self.team;
    var_2 = self.guid;
    var_3 = [];
    var_4 = spawnstruct();
    var_4.origin = ( 1430.82, 605.449, 23.759 );
    var_4.radius = 256;
    var_3[var_3.size] = var_4;
    var_4 = spawnstruct();
    var_4.origin = ( 1574.82, -49.8372, 23.8122 );
    var_4.radius = 64;
    var_3[var_3.size] = var_4;
    var_4 = spawnstruct();
    var_4.origin = ( 1500, 1300, 15 );
    var_4.radius = 256;
    var_3[var_3.size] = var_4;
    var_5 = [];

    foreach ( var_7 in var_3 )
        var_5[var_5.size] = scripts\mp\spawnlogic::addspawndangerzone( var_7.origin, var_7.radius, 70, var_1, undefined, self, 0, self, 1 );

    while ( isdefined( self ) && self istouching( var_0 ) )
        waitframe();

    foreach ( var_10 in var_5 )
        scripts\mp\spawnlogic::removespawndangerzone( var_10 );

    var_0.vehicle_collision_dvarinit = scripts\engine\utility::array_remove( var_0.vehicle_collision_dvarinit, var_2 );
}

_id_12F69( var_0 )
{
    self endon( "death_or_disconnect" );
    var_1 = self.team;
    var_2 = self.guid;
    var_3 = [];
    var_4 = spawnstruct();
    var_4.origin = ( 1020, -1750, 15 );
    var_4.radius = 850;
    var_3[var_3.size] = var_4;
    var_4 = spawnstruct();
    var_4.origin = ( -617, -1765, 15 );
    var_4.radius = 128;
    var_3[var_3.size] = var_4;
    var_4 = spawnstruct();
    var_4.origin = ( 1500, -1865, 160 );
    var_4.radius = 128;
    var_3[var_3.size] = var_4;
    var_5 = [];

    foreach ( var_7 in var_3 )
        var_5[var_5.size] = scripts\mp\spawnlogic::addspawndangerzone( var_7.origin, var_7.radius, 70, var_1, undefined, self, 0, self, 1 );

    while ( isdefined( self ) && self istouching( var_0 ) )
        waitframe();

    foreach ( var_10 in var_5 )
        scripts\mp\spawnlogic::removespawndangerzone( var_10 );

    var_0.vehicle_collision_dvarinit = scripts\engine\utility::array_remove( var_0.vehicle_collision_dvarinit, var_2 );
}

teamsplashbr()
{
    if ( level.gametype == "infect" )
    {
        if ( !isdefined( level.outofboundstriggers ) )
            level.outofboundstriggers = [];

        var_0 = [ ( 689, 935, 371 ) ];

        foreach ( var_2 in var_0 )
        {
            var_3 = spawn( "trigger_radius", var_2, 0, 300, 128 );
            level.outofboundstriggers[level.outofboundstriggers.size] = var_3;
        }
    }
}
