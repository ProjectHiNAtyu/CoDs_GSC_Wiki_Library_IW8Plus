// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

main()
{
    _debug_rooftop_activesat::get_recent_spawn_time_threshold();
    level._id_128BA = 1;
    scripts\mp\maps\mp_t_sn_reflex\mp_t_sn_reflex_precache::main();
    scripts\mp\maps\mp_t_sn_reflex\gen\mp_t_sn_reflex_art::main();
    scripts\mp\maps\mp_t_sn_reflex\mp_t_sn_reflex_fx::main();
    scripts\mp\maps\mp_t_sn_reflex\mp_t_sn_reflex_lighting::main();
    scripts\mp\load::main();
    setdvar( "mantle_force_legacy_system", 1 );
    level.outofboundstriggers = getentarray( "OutOfBounds", "targetname" );
    setdvar( "PKKMTTRQO", 8 );
    setdvar( "NSSMQLPRNT", 0.01 );
    game["attackers"] = "allies";
    game["defenders"] = "axis";
    game["allies_outfit"] = "urban";
    game["axis_outfit"] = "woodland";
    var_0 = spawn( "script_model", ( 1987, 830.5, 55 ) );
    var_0 setmodel( "mout_catwalk_support_brace_ibeam_96" );
    var_0.angles = ( 270, 0, 0 );
    var_1 = spawn( "script_model", ( 1987, 830.5, 151 ) );
    var_1 setmodel( "mout_catwalk_support_brace_ibeam_96" );
    var_1.angles = ( 270, 0, 0 );
    var_2 = spawn( "script_model", ( 1970.5, 1401.5, -17.5 ) );
    var_2 setmodel( "player128x128x8" );
    var_2.angles = ( 270, 0, 0 );
    var_3 = spawn( "script_model", ( 1776, 822, 73 ) );
    var_3.angles = ( 0, 0, 90 );
    var_4 = getent( "clip128x128x8", "targetname" );
    var_3 clonebrushmodeltoscriptmodel( var_4 );
    thread bullet();
}

bullet()
{
    for (;;)
    {
        level waittill( "wave_ended", var_0 );

        if ( var_0 == 2 )
            open_big_doors();
    }
}

open_big_doors()
{
    if ( istrue( level.big_doors_are_open ) )
        return;

    level.big_doors_are_open = 1;
    level.big_door_l = getentitylessscriptablearrayinradius( "big_door_l", "targetname" );
    level.big_door_r = getentitylessscriptablearrayinradius( "big_door_r", "targetname" );
    level.big_door_l[0] setscriptablepartstate( "base", "move_l" );
    level.big_door_r[0] setscriptablepartstate( "base", "move_r" );
    scripts\engine\utility::exploder( "door_open" );
}
