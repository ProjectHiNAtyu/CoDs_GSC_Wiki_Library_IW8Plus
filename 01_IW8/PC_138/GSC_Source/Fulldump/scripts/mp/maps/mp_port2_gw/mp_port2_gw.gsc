// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

main()
{
    _dangercircledurationforplayer::get_recent_spawn_time_threshold();
    scripts\mp\maps\mp_port2_gw\mp_port2_gw_precache::main();
    scripts\mp\maps\mp_port2_gw\gen\mp_port2_gw_art::main();
    scripts\mp\maps\mp_port2_gw\mp_port2_gw_fx::main();
    scripts\mp\maps\mp_port2_gw\mp_port2_gw_lighting::main();
    scripts\mp\load::main();
    level thread scripts\engine\scriptable_door::system_init();
    scripts\cp_mp\utility\game_utility::registerlargemap();

    if ( scripts\mp\utility\game::getgametype() == "arm" || scripts\mp\utility\game::propwaitminigamehudinit() )
    {
        if ( !isdefined( scripts\cp_mp\utility\game_utility::getlocaleid() ) )
            setdvar( "scr_localeID", 3 );

        thread _id_11BF3();
        scripts\mp\gametypes\arm::arm_initoutofbounds();
    }
    else
    {
        level.outofboundstriggers = getentarray( "OutOfBounds", "targetname" );
        level.kill_border_triggers = getentarray( "kill_border_trigger", "targetname" );
    }

    getscriptablelootspawnedcountbyname( 400, 1200 );
    level.outofboundstriggers = getentarray( "OutOfBounds", "targetname" );
    scripts\mp\compass::setupminimap( "compass_map_mp_port2_gw" );
    level.kill_border_triggers = getentarray( "kill_border_trigger", "targetname" );
    setdvar( "PKKMTTRQO", 8 );
    game["attackers"] = "allies";
    game["defenders"] = "axis";
    game["allies_outfit"] = "urban";
    game["axis_outfit"] = "woodland";
    level.music_style = "eastern_europe";
    thread runmisteffects();
    thread _id_1303B();
    thread isbestplayertime();
    thread new_angles( ( 38149, -15989, -710 ), 256, 32 );
    thread new_angles( ( 33872, -30160, -1200 ), 7700, 480 );
    thread new_angles( ( 36736, -17544, -1200 ), 7480, 480 );
    thread _id_11D0B();
}

runmisteffects()
{
    if ( getdvarint( "scr_disable_mist", 0 ) != 0 )
        return;

    var_0 = [];
    var_0[0] = ( 33447, 18127, 340 );
    var_0[1] = ( 47827, -16744, -40 );
    var_0[2] = ( 70050, -4854, 1501 );
    var_0[3] = ( 17964, -34000, 315 );
    var_0[4] = ( 50908, -33808, 1100 );
    var_0[5] = ( 12735, -23915, -320 );
    wait 15;

    foreach ( var_2 in var_0 )
    {
        playfx( scripts\engine\utility::getfx( "vfx_br_distant_fog_mtn" ), var_2 );
        var_3 = rotatepointaroundvector( ( 0, 0, 1 ), ( 1, 0, 0 ), randomfloatrange( 0, 90 ) );
        var_3 = var_3 * randomfloatrange( 3500, 3501 ) + var_2 + ( 0, 0, randomfloatrange( -100, 100 ) );
        playfx( scripts\engine\utility::getfx( "vfx_br_distant_fog_mtn" ), var_3 );
        var_3 = rotatepointaroundvector( ( 0, 0, 1 ), ( 1, 0, 0 ), randomfloatrange( 90, 180 ) );
        var_3 = var_3 * randomfloatrange( 3500, 3501 ) + var_2 + ( 0, 0, randomfloatrange( -100, 100 ) );
        playfx( scripts\engine\utility::getfx( "vfx_br_distant_fog_mtn" ), var_3 );
        var_3 = rotatepointaroundvector( ( 0, 0, 1 ), ( 1, 0, 0 ), randomfloatrange( 180, 270 ) );
        var_3 = var_3 * randomfloatrange( 3500, 3501 ) + var_2 + ( 0, 0, randomfloatrange( -100, 100 ) );
        playfx( scripts\engine\utility::getfx( "vfx_br_distant_fog_mtn" ), var_3 );
        var_3 = rotatepointaroundvector( ( 0, 0, 1 ), ( 1, 0, 0 ), randomfloatrange( 270, 359 ) );
        var_3 = var_3 * randomfloatrange( 3500, 3501 ) + var_2 + ( 0, 0, randomfloatrange( -100, 100 ) );
        playfx( scripts\engine\utility::getfx( "vfx_br_distant_fog_mtn" ), var_3 );
    }
}

_id_11BF3()
{
    wait 15;
    thread _id_11BF2();
    thread _id_11BF1();
    thread _id_11BF0();
}

_id_11BEF()
{
    level.run_guards_spawner = [];
    level.run_guards_spawner[0] = ( 50804, 6322, 317 );
    level.run_guards_spawner[1] = ( 50861, -32721, 1312 );
    level.run_guards_spawner[2] = ( 30572, -14651, -285 );
    level.run_guards_spawner[3] = ( 20039, -2025, -400 );
    level.run_guards_spawner[4] = ( 38519, 9487, 194 );
    level.run_guards_spawner[5] = ( 62592, -15849, 633 );
    level.run_guards_spawner[6] = ( 21343, -11066, 1400 );

    for (;;)
    {
        var_0 = randomintrange( 0, level.run_guards_spawner.size );
        var_1 = level.run_guards_spawner[var_0];
        playfx( scripts\engine\utility::getfx( "vfx_gw_lrg_explosion" ), var_1 + ( randomfloatrange( -1500, 1500 ), randomfloatrange( -1500, 1500 ), 0 ) );
        wait 0.5;
        playfx( scripts\engine\utility::getfx( "vfx_gw_lrg_explosion" ), var_1 + ( randomfloatrange( -2500, 2500 ), randomfloatrange( -2500, 2500 ), 0 ) );
        wait( randomfloatrange( 1.0, 2.0 ) );
        playfx( scripts\engine\utility::getfx( "vfx_gw_lrg_explosion" ), var_1 + ( randomfloatrange( -1500, 1500 ), randomfloatrange( -1500, 1500 ), 0 ) );
        wait 0.25;
        playfx( scripts\engine\utility::getfx( "vfx_gw_lrg_explosion" ), var_1 + ( randomfloatrange( -2500, 2500 ), randomfloatrange( -2500, 2500 ), 0 ) );
        wait( randomfloatrange( 0.5, 2.0 ) );
    }
}

_id_11BF2()
{
    var_0 = [];
    var_0[0] = ( 15522, -28390, 19 );
    var_0[1] = ( 56365, -14244, -418 );
    var_0[2] = ( 50524, 40892, -1400 );

    foreach ( var_2 in var_0 )
        playfx( scripts\engine\utility::getfx( "vfx_gw_aa_tracers" ), var_2 + ( randomfloatrange( -1500, 1500 ), randomfloatrange( -1500, 1500 ), 0 ) );
}

_id_11BF0()
{
    playfx( scripts\engine\utility::getfx( "vfx_gw_ambient_planes" ), ( 26974, 8140, 40 ), ( 9, 286, 0 ) );
}

_id_11BF1()
{
    level.run_hotjoin_loadout_thread = [];
    level.neurotoxin_damage_monitor[0] = ( 53880, -13100, -300 );
    level.neurotoxin_damage_monitor[1] = ( 23702, -1605, -300 );

    foreach ( var_1 in level.neurotoxin_damage_monitor )
        playfx( scripts\engine\utility::getfx( "vfx_gw_smoke_plume_bg_01" ), var_1, ( 0, 100, 0 ) );
}

isbestplayertime()
{
    var_0 = spawn( "script_model", ( 33380, -27608, -460 ) );
    var_0 setmodel( "hardware_plywood_bare_01" );
    var_0.angles = ( 90, 40, -6 );
    var_0 = spawn( "script_model", ( 35470, -28140.5, -509 ) );
    var_0 setmodel( "uk_wall_wood_stud_frame_01_2x120" );
    var_0.angles = ( 270, 358, -132 );
}

_id_1303B()
{
    var_0 = getdvarint( "OKSRMNKKOS", 0 );
    wait 3;

    switch ( var_0 )
    {
        case 0:
            break;
        case 1:
            playfx( scripts\engine\utility::getfx( "gas_realfar" ), ( 35851, -24450, -471 ) );
            break;
        case 2:
            playfx( scripts\engine\utility::getfx( "gas_far" ), ( 35851, -24450, -471 ) );
            break;
        case 3:
            playfx( scripts\engine\utility::getfx( "gas_medium" ), ( 35851, -24450, -471 ) );
            break;
        case 4:
            playfx( scripts\engine\utility::getfx( "gas_close" ), ( 35851, -24450, -471 ) );
            break;
    }
}

new_angles( var_0, var_1, var_2 )
{
    var_3 = spawn( "trigger_radius", var_0, 0, var_1, var_2 );

    for (;;)
    {
        var_3 waittill( "trigger", var_4 );

        if ( isplayer( var_4 ) )
            var_4 dodamage( 10000, var_4.origin, var_3, var_3, "MOD_TRIGGER_HURT" );
    }
}

_id_11D0B()
{
    var_0 = [];

    switch ( scripts\mp\utility\game::getgametype() )
    {
        case "siege":
            if ( !isdefined( game["roundsPlayed"] ) || game["roundsPlayed"] == 0 )
                break;
            else
            {
                var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_gw_spawn_allies_start_mod", ( 30936, -35872, 566 ), ( 0, 90, 0 ) );
                var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_gw_spawn_allies_start_mod", ( 31024, -35952, 566 ), ( 0, 90, 0 ) );
                var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_gw_spawn_allies_start_mod", ( 30864, -35952, 566 ), ( 0, 90, 0 ) );
                var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_gw_spawn_allies_start_mod", ( 30928, -36112, 566 ), ( 0, 90, 0 ) );
                var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_gw_spawn_allies_start_mod", ( 31456, -35952, 566 ), ( 0, 90, 0 ) );
                var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_gw_spawn_allies_start_mod", ( 31368, -35872, 566 ), ( 0, 90, 0 ) );
                var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_gw_spawn_allies_start_mod", ( 31296, -35952, 566 ), ( 0, 90, 0 ) );
                var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_gw_spawn_allies_start_mod", ( 31400, -36112, 566 ), ( 0, 90, 0 ) );
                var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_gw_spawn_allies_start_mod", ( 31808, -36112, -526 ), ( 0, 90, 0 ) );
                var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_gw_spawn_allies_start_mod", ( 31864, -35952, -526 ), ( 0, 90, 0 ) );
                var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_gw_spawn_allies_start_mod", ( 31704, -35952, -526 ), ( 0, 90, 0 ) );
                var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_gw_spawn_allies_start_mod", ( 31776, -35872, -526 ), ( 0, 90, 0 ) );
                var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_gw_spawn_axis_start_mod", ( 37128, -14960, -562.527 ), ( 0, 270, 0 ) );
                var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_gw_spawn_axis_start_mod", ( 37080, -14880, -562.527 ), ( 0, 270, 0 ) );
                var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_gw_spawn_axis_start_mod", ( 37168, -14880, -562.527 ), ( 0, 270, 0 ) );
                var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_gw_spawn_axis_start_mod", ( 37128, -14800, -562.527 ), ( 0, 270, 0 ) );
                var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_gw_spawn_axis_start_mod", ( 36752, -14960, -562.527 ), ( 0, 270, 0 ) );
                var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_gw_spawn_axis_start_mod", ( 36792, -14880, -562.527 ), ( 0, 270, 0 ) );
                var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_gw_spawn_axis_start_mod", ( 36704, -14880, -562.527 ), ( 0, 270, 0 ) );
                var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_gw_spawn_axis_start_mod", ( 36752, -14800, -562.527 ), ( 0, 270, 0 ) );
                var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_gw_spawn_axis_start_mod", ( 37496, -14960, -554.527 ), ( 0, 270, 0 ) );
                var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_gw_spawn_axis_start_mod", ( 37536, -14880, -554.527 ), ( 0, 270, 0 ) );
                var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_gw_spawn_axis_start_mod", ( 37448, -14880, -554.527 ), ( 0, 270, 0 ) );
                var_0[var_0.size] = scripts\mp\spawnlogic::force_teleport_downedplayer( "mp_gw_spawn_axis_start_mod", ( 37496, -14800, -554.527 ), ( 0, 270, 0 ) );
                break;
            }
    }

    if ( var_0.size > 0 )
        scripts\mp\spawnlogic::amped_wid( var_0 );
}
