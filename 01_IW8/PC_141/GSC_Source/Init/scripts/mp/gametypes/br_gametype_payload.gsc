// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

init()
{
    scripts\mp\gametypes\br_gametypes::handle_train_veh_collision( "circle" );
    scripts\mp\gametypes\br_gametypes::handle_train_veh_collision( "gulag" );
    scripts\mp\gametypes\br_gametypes::handle_train_veh_collision( "oneLife" );
    scripts\mp\gametypes\br_gametypes::handle_train_veh_collision( "waitLoadoutDone" );
    scripts\mp\gametypes\br_gametypes::handle_train_veh_collision( "drogBagLoadout" );
    scripts\mp\gametypes\br_gametypes::handle_train_veh_collision( "playerCountLandmarks" );
    scripts\mp\gametypes\br_gametypes::init_exit_doors( "tabletReplace" );
    scripts\mp\gametypes\br_gametypes::_id_11B97( "spawnHandled", ::_id_1255E );
    scripts\mp\gametypes\br_gametypes::_id_11B97( "playerKilledSpawn", ::playerrespawn );
    scripts\mp\gametypes\br_gametypes::_id_11B97( "playerWelcomeSplashes", ::watch_for_super_ammo_depleted );
    scripts\mp\gametypes\br_gametypes::_id_11B97( "infilSequence", ::helicleanup );
    scripts\mp\gametypes\br_gametypes::_id_11B97( "skipInfilSequence", ::_id_12339 );
    scripts\mp\gametypes\br_gametypes::_id_11B97( "modifyPlayerDamage", ::modifyplayerdamage );
    scripts\mp\gametypes\br_gametypes::_id_11B97( "playerHandleRedeploy", ::votesys_new );
    scripts\mp\gametypes\br_gametypes::_id_11B97( "playerDropPlunderOnDeath", ::playerdropplunderondeath );
    scripts\mp\gametypes\br_gametypes::_id_11B97( "spawnInitialVehicles", ::spawninitialvehicles );
    scripts\mp\gametypes\br_gametypes::_id_11B97( "onPlayerConnect", ::onplayerconnect );
    scripts\mp\gametypes\br_gametypes::_id_11B97( "skipPrimaryWeaponDrop", ::_id_1233F );
    scripts\mp\gametypes\br_gametypes::_id_11B97( "skipLootPickupAnim", ::_id_1233C );
    scripts\mp\gametypes\br_gametypes::_id_11B97( "onPlayerKilled", ::onplayerkilled );
    scripts\mp\gametypes\br_gametypes::_id_11B97( "activateKillstreakOnPurchase", ::allassassin_teamcompare );
    scripts\mp\gametypes\br_gametypes::_id_11B97( "createC130PathStruct", scripts\engine\utility::void );
    scripts\mp\gametypes\br_gametypes::_id_11B97( "postPlunder", ::x1fin_respawn );
    scripts\mp\gametypes\br_gametypes::_id_11B97( "onConnectSpawnPoint", ::toggle_plane_combat_global_settings );

    if ( istrue( game["switchedsides"] ) )
        level._id_1233E = 1;

    scripts\mp\gametypes\br_gametypes::_id_11B96( "allowedEntities", [ "br", "br_payload" ] );
    level.cloudorigin.tv_station_fastrope_one_infil_start_targetname_array = getdvar( "scr_br_payload_path", "downtown2" );
    level.cloudorigin.dropkit_marker_hints = getdvarint( "scr_br_payload_checkpoint_time", 240 );
    level.cloudorigin.maxtime = getdvarint( "scr_br_payload_max_time", 300 );
    level.cloudorigin.dropbrmissiontablet = getdvarint( "scr_br_payload_checkpoint_remain", 60 );
    level.cloudorigin._id_12FEC = getdvarfloat( "scr_br_payload_vehicle_mph", 6 );
    level.cloudorigin._id_12FED = getdvarfloat( "scr_br_payload_vehicle_mph_slow", 1 );
    level.cloudorigin._id_12FEA = getdvarfloat( "scr_br_payload_vehicle_auto_mph", 12 );
    level.cloudorigin._id_12FEB = getdvarfloat( "scr_br_payload_vehicle_mph_fast", 8 );
    level.cloudorigin._id_12FDA = getdvarfloat( "scr_br_payload_vehicle_back_mph", 2 );
    level.cloudorigin._id_12FDB = getdvarfloat( "scr_br_payload_vehicle_back_mph_slow", 1 );
    level.cloudorigin._id_1253C = getdvarfloat( "scr_br_payload_spawn_dist_defend", 7500 );
    level.cloudorigin._id_1253B = getdvarfloat( "scr_br_payload_spawn_dist_attack", 5500 );
    level.cloudorigin._id_12561 = getdvarfloat( "scr_br_payload_spawn_height_defend", 1500 );
    level.cloudorigin._id_12560 = getdvarfloat( "scr_br_payload_spawn_height_attack", 1000 );
    level.cloudorigin._id_1258A = getdvarfloat( "scr_br_payload_spawn_radius_defend", 500 );
    level.cloudorigin._id_12589 = getdvarfloat( "scr_br_payload_spawn_radius_attack", 500 );
    level.cloudorigin.so_postmatchfx = getdvarint( "scr_br_payload_max_damage_collision", 25 );
    level.cloudorigin.tutorial_tacmap = getdvarint( "scr_br_payload_econ", 1 );
    level.cloudorigin._id_11A88 = getdvarint( "scr_br_payload_radial_spawn", 1 );
    level.cloudorigin.oncrateactivate = getdvarint( "scr_br_payload_ground_spawn", 1 );
    level.cloudorigin.oncrankedhit = getdvarint( "scr_br_payload_ground_spawn_max", 20 );
    level.cloudorigin._id_1262C = getdvarint( "scr_br_payload_squad_spawn", 0 );
    level.cloudorigin._id_12510 = getdvarint( "scr_br_payload_attacker_air", 0 );
    level.cloudorigin._id_12511 = getdvarint( "scr_br_payload_attacker_air_max", 0 );
    level.cloudorigin._id_12513 = getdvarint( "scr_br_payload_spawn_protect_air_time", 5 );
    level.cloudorigin._id_1255D = getdvarint( "scr_br_payload_spawn_protect_ground_time", 10 );
    level.getfilterformodifier = getdvarint( "scr_br_payload_tacmap_zoom", 12000 );
    level.cloudorigin.brking_kickplayersatcircleedge = getdvarint( "scr_br_payload_auto_kiosks", 1 );
    level.cloudorigin.dropkit_crate_logic = getdvarint( "scr_br_payload_checkpoint_models", 1 );
    level.cloudorigin.dropbrlootchoppercrateforpublicevent = getdvarint( "scr_br_payload_bunker_price", 5000 );
    level.cloudorigin.dropminigunondeath = getdvarint( "scr_br_payload_tower_price", 2500 );
    level.cloudorigin.hoopty_initdamage = getdvarint( "scr_br_payload_vehicles", 0 );
    level.cloudorigin._id_125A2 = getdvarfloat( "scr_br_payload_spawn_vehicle_time", 10 );
    level.cloudorigin._id_13087 = getdvarfloat( "scr_br_payload_vo_help", 20000 );
    level.cloudorigin._id_13093 = getdvarfloat( "scr_br_payload_vo_same", 20000 );
    level.cloudorigin._id_13085 = getdvarfloat( "scr_br_payload_vo_help", 5000 );
    level.cloudorigin._id_1308D = getdvarfloat( "scr_br_payload_vo_next", 10000 );
    level.cloudorigin.bloadinghvt = getdvarint( "scr_br_payload_all_paths", 1 );
    level.cloudorigin.convoy = getdvarint( "scr_br_payload_convoy", 1 );
    level.cloudorigin.flare_activated = getdvarint( "scr_br_payload_convoy_dist", 750 );
    level.cloudorigin.flare_setup = level.cloudorigin.flare_activated * level.cloudorigin.flare_activated;
    level.cloudorigin.hackomnvarclamp = getdvarint( "scr_br_payload_disable_ascenders", 1 );
    var_0 = getdvarfloat( "scr_br_payload_vo_near_check", 1500 );
    level.cloudorigin._id_1308C = var_0 * var_0;
    var_1 = getdvarfloat( "scr_br_payload_vo_obs", 700 );
    level.cloudorigin._id_1308E = var_1 * var_1;
    level.cloudorigin.blueprintextract_setunlockablelootid = getdvarint( "scr_br_payload_time_per_checkpoint", 120 );
    level.cloudorigin._id_125BA = getdvarint( "scr_br_spawn_zones", 1 );
    level.cloudorigin._id_125B8 = getdvarint( "scr_br_spawn_zone_radius", 1700 );
    level.cloudorigin._id_125B4 = getdvarint( "scr_br_spawn_zones_hide", 1 );
    level.cloudorigin._id_125B7 = getdvarfloat( "scr_br_spawn_zones_outline_dur", 3 );
    level.cloudorigin._id_125BB = getdvarint( "scr_br_spawn_zone_warning", 1 );
    level.cloudorigin._id_125BE = getdvarint( "scr_br_spawn_zone_warning_rad", 300 );
    level.cloudorigin._id_125B6 = getdvarint( "scr_br_spawn_zone_oob_forgive_time", 1000 );
    level.cloudorigin._id_125B5 = getdvarint( "scr_br_spawn_zone_oob_forgive_scale", 2.0 );
    level.cloudorigin.players_camera_fly_to_start_pos = getdvarint( "scr_br_in_bounds_trigger", 1 );
    level.cloudorigin._id_12C11 = getdvarint( "scr_br_truck_armor_box", 1 );
    level.cloudorigin.laser_traps = getdvarint( "scr_br_payload_force_tiebreaker", 0 );
    level.cloudorigin._id_11D10 = getdvarint( "scr_br_payload_respawn_overview", 1 );
    level.cloudorigin.thermite_watchglstuck = getdvarint( "scr_br_payload_obstacle_pay_scale", 40 );
    level.cloudorigin.truck_minimap = getdvarint( "scr_br_payload_path_redeploy", 5 );
    level.cloudorigin.overtimemax = getdvarint( "scr_br_payload_overtime_max", 120 );
    level.cloudorigin.overtimestage1 = getdvarint( "scr_br_payload_overtime_s1", 60 );
    level.cloudorigin.overtimestage2 = getdvarint( "scr_br_payload_overtime_s2", 70 );
    level.cloudorigin.overtimestage3 = getdvarint( "scr_br_payload_overtime_s3", 80 );
    level.cloudorigin.overtimestage4 = getdvarint( "scr_br_payload_overtime_s4", 90 );
    level.wheelson_tank_death = 11;
    level._id_12A9F = 1;
    level.laser_func = 1;
    level.chopper_boss_drone_target_array = spawnstruct();
    level.chopper_boss_drone_target_array.disabled = 0;
    level.chopper_boss_drone_target_array.hostskipburndownmedium = getdvarint( "scr_br_alt_mode_payload_drop_max", -1 );
    level.chopper_boss_drone_target_array.hostvictimdamagefactorlow = getdvarfloat( "scr_br_alt_mode_payload_drop_percent", 0.33 );

    if ( level.cloudorigin.brking_kickplayersatcircleedge )
        scripts\mp\gametypes\br_gametypes::handle_train_veh_collision( "placedKiosks" );

    if ( level.mapname == "mp_br_mechanics" && level.cloudorigin.tv_station_fastrope_one_infil_start_targetname_array != "all" )
        level.cloudorigin.tv_station_fastrope_one_infil_start_targetname_array = "standard";

    level.clearsplashqueue = 4;
    level.chopper_boss = 1;
    level.cloudorigin.paths = [];
    level.lbravo_spawner_safehouse1 = [ "apc_russian", "atv", "big_bird", "cargo_truck", "cop_car", "hoopty", "hoopty_truck", "jeep", "large_transport", "light_tank", "little_bird", "little_bird_mg", "medium_transport", "pickup_truck", "tac_rover", "technical", "van", "loot_chopper" ];
    setdvar( "LKTPRPKPMR", 1 );
    setdvar( "LOSOOOTNMS", 0 );
    setdvar( "NNMLSMNTOQ", 0 );
    thread propwatchprematchsettings();
    thread cinderblock_damage_monitor();
}

propwatchprematchsettings()
{
    waittillframeend;

    if ( !isdefined( game["switchedsides"] ) )
        game["switchedsides"] = 0;

    if ( game["switchedsides"] )
    {
        var_0 = game["attackers"];
        var_1 = game["defenders"];
        game["attackers"] = var_1;
        game["defenders"] = var_0;
    }

    scripts\mp\utility\dvars::setoverridewatchdvar( "roundlimit", 2 );
    level.roundlimit = scripts\mp\utility\dvars::getwatcheddvar( "roundlimit" );
    scripts\mp\utility\game::registerroundswitchdvar( scripts\mp\utility\game::getgametype(), 1, 0, 1 );
    scripts\mp\utility\dvars::setoverridewatchdvar( "roundswitch", 1 );
    level.roundswitch = scripts\mp\utility\dvars::getwatcheddvar( "roundswitch" );
    level._id_11957 = ::cp_dntsk_raid_specific_init;
    level.spawndistancemin = ::controls_linkto_safe;
    level.chopperexfil_sh040_start = ::countdowntimer;
    level._id_11E07 = ::create_model_at;
    level.ontimelimit = ::ontimelimit;
    level.spawndragonsbreathstruct = ::wait_until_impact;
    level.spawndropbagatposition = ::wait_until_player_is_near;
    level._id_129E0 = ::timelimitclock;
    level.spawnboardroom_juggdrop = ::spawnboardroom_juggdrop;
    level.trace_to_origin_weight = ::init_player_health;
    level.modeonspawnplayer = ::course_triggers_expl;
    level.spawncrossbowbolt = ::tr_vis_facing_dist_add_override;
    level.forcegivesuper = ::countlefthand;

    if ( level.cloudorigin.tutorial_tacmap )
        level.spawndomplates = ::tv_station_fastrope_one_infil_start_targetname_array_index;

    scripts\mp\flags::gameflaginit( "infil_complete", 0 );
    scripts\mp\flags::gameflaginit( "infil_anim_started", 0 );
    level.clonekey = 1;
    level.roundenddelay = 5;
    level.brjugg_initdialog = 1;
    level._id_12343 = 1;
    level._id_12330 = 1;
    level._id_1233A = 1;
    level.onplayerconnectstream = getdvarfloat( "scr_br_payload_gunner_dmg_reduction", 0.4 );
    level.gunnerpenetrationdamagereduction = getdvarfloat( "scr_br_payload_gunner_dmg_pen", 0.4 );
    level.uavfastsweepid = "cargo_truck_mg";
    level.uavworstid = "mkilo_physics_mg_payload";
    level.cloudorigin._id_13010 = 250;
    level.cloudorigin._id_1300F = 200;
    level.cloudorigin._id_12FF2 = ( 0, 0, 200 );
    level.cloudorigin.tv_station_fastrope_two_infil_start_targetname_array_index = getdvarint( "scr_br_payload_quests", 1 );
    level.cloudorigin.tv_station_intro_already_played = getdvarint( "scr_br_payload_reset_quest_tracking", 0 );
    level.cloudorigin.tv_station_global_stealth_broken = getdvarint( "scr_br_payload_quests_num_squads", 1 );
    level.cloudorigin.tv_station_infil_enemies_attack_logic = getdvarint( "scr_br_payload_quests_tablets", 1 );
    level.cloudorigin.tv_station_infil_enemy_combat_logic = getdvarint( "scr_br_payload_versus_tablets", 1 );
    level.cloudorigin.tv_station_gas_rise = getdvarint( "scr_br_payload_quests_give_att", 1 );
    level.cloudorigin.tv_station_get_bomb_icon_on_cell_phone = getdvarint( "scr_br_payload_quests_give_def", 0 );
    level.cloudorigin.uav_dangernotifyplayersinbrrange = getdvarint( "scr_br_payload_speed_reward_time", 45 );
    level.cloudorigin.ui_init = getdvarint( "scr_br_payload_xp_checkpoint", 2000 );
    scripts\mp\rank::trial_retrieve_persistent_values( "kill", 100 );
    scripts\cp_mp\utility\script_utility::registersharedfunc( "vehicle_spawn", "gameModeSupportsRespawn", ::vehicle_spawn_mp_gamemodesupportsrespawn );
    level.vehicle.spawn._id_11D09 = getdvarint( "scr_br_payload_vehicle_respawn", 30 );
    scripts\cp_mp\vehicles\vehicle_damage::_id_12F2D( level.uavfastsweepid, ::_id_13000 );
    var_2 = scripts\cp_mp\vehicles\vehicle::vehicle_getleveldataforvehicle( "cargo_truck_mg" );
    var_2._id_12CA3 = "tur_gun_payload_truck_mp";
    scripts\cp_mp\vehicles\vehicle_interact::_id_12F53( level.uavfastsweepid, "single", [ "gunner" ] );
    var_3 = "driver";
    var_4 = scripts\cp_mp\vehicles\vehicle_occupancy::vehicle_occupancy_getleveldataforseat( level.uavfastsweepid, var_3 );
    var_4.seatswitcharray = scripts\cp_mp\vehicles\vehicle_occupancy::vehicle_occupancy_generateseatswitcharray( var_3, [ var_3 ] );
    var_3 = "gunner";
    var_4 = scripts\cp_mp\vehicles\vehicle_occupancy::vehicle_occupancy_getleveldataforseat( level.uavfastsweepid, var_3 );
    var_4.exitids = [ "back", "back_left", "back_right", "front", "side_right" ];
    var_4.seatswitcharray = scripts\cp_mp\vehicles\vehicle_occupancy::vehicle_occupancy_generateseatswitcharray( var_3, [ var_3 ] );
    var_4._id_12C9C = getcompleteweaponname( "tur_gun_payload_truck_mp" );
    scripts\cp_mp\vehicles\vehicle_interact::_id_12F5D( "upgrade", ::_id_12F43, ::_id_12F64, ::_id_12F43, ::_id_12F43 );
    scripts\cp_mp\vehicles\vehicle_interact::_id_12F5D( "copyofupgrade", ::_id_12F43, ::_id_12F64, ::_id_12F43, ::_id_12F43 );
    scripts\cp_mp\vehicles\vehicle_interact::_id_12F53( level.uavfastsweepid, "upgrade", [ "tag_screen_left", 0, ::_id_12F42 ] );
    scripts\cp_mp\vehicles\vehicle_interact::_id_12F53( level.uavfastsweepid, "copyofupgrade", [ "tag_screen_right", 0, ::_id_12F42 ] );
    scripts\cp_mp\utility\script_utility::registersharedfunc( "airdrop", "specialCase_canUseCrate", ::countdownendcallback );
    scripts\cp_mp\utility\script_utility::registersharedfunc( "killstreak", "createCustomStreakData", ::g );
    level.exfill_chopper_dialogue = undefined;
    propsetclonesleft();
    propwaitminigamecleanup();
    propheight();
    proplist();
    propabilitykeysvisible();
    pursue_players_after_awhile();
    propkilledend();
    quarry_intro1_chopper();
    processcashpileovertimemultiplier();
    prohibited_weapon_list_from_vehicle();
    prophidetime();
    initnocontesttriggers();
    level thread push_players_back_and_deal_damage();
    publiceventsenabled();
    level.teamdata[game["attackers"]]["respawnDelay"] = getdvarint( "scr_br_payload_spawn_delay_attack", 0 );
    level.teamdata[game["defenders"]]["respawnDelay"] = getdvarint( "scr_br_payload_spawn_delay_defend", 15 );
    thread _id_13282( game["attackers"] );
    thread _id_13282( game["defenders"] );

    if ( istrue( level.cloudorigin.tv_station_fastrope_two_infil_start_targetname_array_index ) )
    {
        scripts\mp\gametypes\br_capshoot_quest::init();
        thread tv_station_fastrope_two_infil_start_targetname_array();
    }

    thread tutorial_showtext();
    thread tv_station_fastrope_two_infil_rider_start_targetname();
    thread tutorial_intro();
    level.get_station_index_in_active_stations = 0;
    level.get_station_controller_struct = 0;
}

_id_12F64( var_0, var_1, var_2, var_3 )
{
    var_1.disabled = 1;
}

jugg_watchmanualreload( var_0 )
{
    if ( !isdefined( var_0 ) )
        return "super_ammo_drop";

    switch ( var_0 )
    {
        case "super_tac_insert":
        case "super_emp_drone":
        case "none":
            return "super_ammo_drop";
        default:
            return var_0;
    }
}

countlefthand( var_0, var_1, var_2, var_3 )
{
    var_0 = jugg_watchmanualreload( var_0 );
    scripts\mp\gametypes\br_pickups::forcegivesuper( var_0, var_1, var_2, var_3 );
}

tv_station_fastrope_two_infil_rider_start_targetname()
{
    level endon( "game_ended" );
    scripts\mp\flags::gameflagwait( "prematch_fade_done" );
    setomnvar( "ui_hardpoint_timer", gettime() );
    thread _id_12210( game["attackers"] );
    thread _id_12210( game["defenders"] );
    scripts\mp\flags::gameflagwait( "infil_complete" );

    foreach ( var_1 in level.players )
    {
        var_1 scripts\mp\supers::setsuperbasepoints( 0 );
        var_1 scripts\mp\supers::setsuperextrapoints( 0 );
    }
}

_id_12210( var_0 )
{
    var_1 = scripts\mp\utility\teams::getteamdata( var_0, "players" );

    foreach ( var_3 in var_1 )
        scripts\mp\utility\outline::outlineenableforteam( var_3, var_0, "outline_depth_payload", "level_script" );
}

spawnboardroom_juggdrop()
{
    setomnvar( "ui_current_round", 1 );
    setomnvarforallclients( "post_game_state", 2 );
    scripts\mp\gametypes\br_public::brleaderdialog( "halftime", 0, undefined, 1, 2 );
    wait 10;

    foreach ( var_1 in level.players )
    {
        var_1 setclientomnvar( "ui_br_extended_load_screen", 1 );
        var_1 setsoundsubmix( "fade_to_black_all_except_music_and_scripted5", 2 );
    }
}

onplayerconnect( var_0 )
{
    var_0 waittill( "spawned_player" );

    if ( var_0.team == game["attackers"] )
        var_0 _id_12140( 0 );
    else
        var_0 _id_12140( 1 );

    thread _id_12210( game["attackers"] );
    thread _id_12210( game["defenders"] );
    var_0.extractingplayers = [];
}

onplayerspawned()
{
    level endon( "prematch_done" );

    for (;;)
    {
        iswztrain( self );
        self waittill( "spawned_player" );
    }
}

onplayerkilled( var_0 )
{
    var_1 = var_0.victim;
    var_2 = var_0.attacker;

    if ( isdefined( var_2.vehicle ) && isdefined( var_2.vehicle.occupants ) && isdefined( var_2.vehicle.occupants["gunner"] ) )
    {
        if ( var_2 == var_2.vehicle.occupants["gunner"] )
        {
            var_2 thread scripts\mp\rank::giverankxp( "br_payload_kill_as_gunner", 50 );
            var_2 thread scripts\mp\rank::scoreeventpopup( "br_payload_kill_as_gunner" );
            var_2 thread scripts\mp\gametypes\br_analytics::cleanupfunc( 50, "br_payload_kill_as_gunner" );
        }
    }

    if ( isdefined( var_1.vehicle ) && isdefined( var_1.vehicle.occupants ) && isdefined( var_1.vehicle.occupants["gunner"] ) )
    {
        if ( var_1 == var_1.vehicle.occupants["gunner"] )
        {
            var_2 thread scripts\mp\rank::giverankxp( "br_payload_killed_gunner", 100, undefined );
            var_2 thread scripts\mp\gametypes\br::nvidiaansel_overridecollisionradius( "br_payload_killed_gunner", int( 50.0 ), var_2.currentweapon, 1 );
            var_2 thread scripts\mp\rank::scoreeventpopup( "br_payload_killed_gunner" );
            var_2 thread scripts\mp\gametypes\br_analytics::cleanupfunc( 100, "br_payload_killed_gunner" );
        }
    }
}

tr_vis_facing_dist_add_override( var_0 )
{
    scripts\mp\gametypes\br_weapons::control_room_button( var_0 );

    if ( scripts\mp\flags::gameflag( "prematch_done" ) )
        vehicle_playershouldignorecollisiondamage();
}

vehicle_playershouldignorecollisiondamage()
{
    var_0 = getdvarint( "scr_br_payload_start_ammo", 2 );

    if ( var_0 == -2 )
    {
        foreach ( var_2 in [ self.primaryweapon, self.secondaryweapon ] )
        {
            if ( isdefined( var_2 ) )
            {
                var_3 = weaponclipsize( var_2 );
                self setweaponammoclip( var_2, var_3 );
                self givemaxammo( var_2 );
            }
        }
    }
    else if ( var_0 == -1 )
        scripts\mp\gametypes\br_weapons::chopper_boss_fight_stage_trigger_think();
    else if ( var_0 > 0 )
    {
        scripts\mp\gametypes\br_weapons::br_ammo_player_clear();

        foreach ( var_6 in [ self.primaryweapon, self.secondaryweapon ] )
            _id_1214E( var_6, var_0 );

        _id_12109();
    }

    scripts\mp\gametypes\br_weapons::br_ammo_update_weapons( self );
}

_id_12109()
{
    foreach ( var_1 in [ self.primaryweapon, self.secondaryweapon ] )
    {
        if ( !isdefined( var_1 ) )
            continue;

        if ( scripts\engine\utility::string_starts_with( var_1, "iw8_sn_crossbow" ) || scripts\engine\utility::string_starts_with( var_1, "iw8_sn_t9crossbow" ) )
        {
            var_2 = asmdevgetallstates( var_1 );
            var_3 = scripts\mp\gametypes\br_weapons::br_ammo_type_for_weapon( var_2 );

            if ( isdefined( var_3 ) )
            {
                var_4 = getdvarint( "scr_br_crossbow_ammo_override", 20 );
                scripts\mp\gametypes\br_weapons::br_ammo_give_type( self, var_3, var_4, 0 );
            }

            break;
        }
    }
}

_id_1214E( var_0, var_1 )
{
    var_2 = asmdevgetallstates( var_0 );
    var_3 = scripts\mp\utility\weapon::getweaponbasenamescript( var_2 );
    var_4 = weaponclass( var_3 );
    var_5 = "scr_br_payload_ammoscale_" + var_4;
    var_6 = int( max( 0, getdvarint( var_5, var_1 ) ) );
    var_7 = weaponclipsize( var_0 );
    var_8 = scripts\mp\gametypes\br_weapons::br_ammo_type_for_weapon( var_2 );

    if ( isdefined( var_8 ) )
    {
        self.br_ammo[var_8] = 0;
        scripts\mp\gametypes\br_weapons::br_ammo_give_type( self, var_8, var_7 * var_6, 0 );
    }
}

allassassin_teamcompare( var_0 )
{
    switch ( var_0 )
    {
        case "juggernaut":
            return 1;
        default:
            return undefined;
    }
}

push_players_back_and_deal_damage()
{
    level endon( "game_ended" );
    scripts\mp\flags::gameflagwait( "infil_complete" );

    foreach ( var_1 in level.players )
        var_1.pavelow_boss_crash_sequence = 0;

    for (;;)
    {
        foreach ( var_4 in level.cloudorigin.paths )
        {
            if ( istrue( var_4.farms2_gw_ambient_sound_load ) )
                continue;

            if ( !isdefined( var_4.initlocs_nonmorsephones ) )
                continue;

            foreach ( var_6 in var_4.initlocs_nonmorsephones.touchlist )
            {
                foreach ( var_8 in var_6 )
                {
                    foreach ( var_1 in scripts\mp\gametypes\br_public::munitions_override_time( var_8.player.team, var_8.player.squadindex ) )
                    {
                        if ( !isdefined( var_1.uav_isenemygettingnotified ) )
                            var_1.uav_isenemygettingnotified = 0;

                        var_1.uav_isenemygettingnotified = var_1.uav_isenemygettingnotified + 5;

                        if ( var_1.uav_isenemygettingnotified >= 20 )
                        {
                            if ( !var_1.pavelow_boss_crash_sequence )
                                var_1 thread scripts\mp\rank::scoreeventpopup( "br_payload_squad_on_payload" );

                            var_1.pavelow_boss_crash_sequence = 1;
                            var_10 = 15 * var_1.uav_isenemygettingnotified;
                            var_1 thread scripts\mp\rank::giverankxp( "br_payload_squad_on_payload", var_10, undefined );
                            var_1 thread scripts\mp\gametypes\br::obj_overwatch_tanks_ref( min( 40, var_1.uav_isenemygettingnotified ) * 1000 );
                            var_1 thread scripts\mp\gametypes\br_analytics::cleanupfunc( var_10, "br_payload_squad_on_payload" );
                            var_1.uav_isenemygettingnotified = 0;
                        }
                    }
                }
            }
        }

        foreach ( var_1 in level.players )
            var_1.pavelow_boss_crash_sequence = 0;

        wait 5;
    }
}

_id_12F42( var_0, var_1 )
{

}

_id_12F43( var_0, var_1, var_2, var_3 )
{

}

vehicle_spawn_mp_gamemodesupportsrespawn()
{
    return 1;
}

watch_for_super_ammo_depleted( var_0 )
{
    self endon( "disconnect" );
    self waittill( "spawned_player" );
    wait 1;

    if ( !istrue( game["liveLobbyCompleted"] ) && !istrue( game["switchedsides"] ) )
        scripts\mp\hud_message::showsplash( "br_prematch_welcome" );
}

_id_1255E( var_0 )
{
    if ( istrue( level.brlatejoin ) && isdefined( self.propgetlocation ) && !istrue( var_0.br_infilstarted ) )
    {
        var_1 = spawnstruct();
        var_0.br_infilstarted = 1;
        var_0.zombierespawning = var_0.propgetlocation;
        var_0.zombierespawning.index = -1;
        var_0 thread wam_failure_threshold( var_1 );
    }

    if ( istrue( game["switchedsides"] ) && isdefined( self.propgetlocation ) )
        return 1;

    return istrue( var_0.br_infilstarted ) && scripts\mp\flags::gameflag( "prematch_done" );
}

helicleanup()
{
    if ( !scripts\mp\gametypes\br_gametypes::relic_amped_explosion_time( "oneLife" ) )
    {
        level.disablespawning = 1;
        setdynamicdvar( "scr_" + scripts\mp\utility\game::getgametype() + "_numLives", 1 );
    }

    level.cloudorigin._id_127DA = 0;

    if ( !istrue( game["switchedsides"] ) )
        scripts\mp\deathicons::_id_11C7B();
    else
        _id_1317C();

    _id_12526();
    level.brlatejoin = 1;

    foreach ( var_1 in level.players )
    {
        if ( isdefined( var_1 ) )
            var_1 thread velo_forward_memory();
    }

    level thread hidedangercircle();

    if ( !istrue( game["switchedsides"] ) )
        wait 2;

    scripts\mp\flags::gameflagset( "prematch_fade_done" );
    _id_1317D( getdvarfloat( "scr_br_payload_infil_wait", 9 ) );

    foreach ( var_1 in level.players )
    {
        if ( isdefined( var_1 ) )
            var_1 thread velnormals();
    }

    scripts\mp\flags::gameflagset( "infil_anim_started" );
    wait 6.66667;
    waitframe();
    scripts\mp\flags::gameflagset( "infil_complete" );
    waitframe();
    getstreamedinplayercount();
}

hidedangercircle()
{
    level endon( "infil_complete" );

    for (;;)
    {
        level waittill( "connected", var_0 );

        if ( !scripts\mp\flags::gameflag( "infil_anim_started" ) )
        {
            var_0 thread velo_forward_memory( 1 );
            continue;
        }

        var_0 thread velnormals();
    }
}

_id_1317C()
{
    var_0 = gettime() + 10000;

    while ( gettime() < var_0 && getactiveclientcount() != level.players.size )
        waitframe();
}

_id_12339()
{
    scripts\mp\flags::gameflagset( "infil_complete" );
}

_id_12526()
{
    var_0 = 8;
    level.cloudorigin.delete_track = [];
    var_1 = int( max( getactiveclientcount(), level.players.size ) );

    for ( var_2 = 0; var_2 < var_1; var_2++ )
    {
        var_3 = spawn( "script_model", ( 0, 0, 0 ) );
        var_3 setmodel( "generic_prop_x3" );
        level.cloudorigin.delete_track[level.cloudorigin.delete_track.size] = var_3;

        if ( ( var_2 + 1 ) % var_0 == 0 )
            waitframe();
    }
}

getstreamedinplayercount()
{
    foreach ( var_1 in level.cloudorigin.delete_track )
    {
        if ( isdefined( var_1 ) && !istrue( var_1.inuse ) )
            var_1 delete();
    }

    level.cloudorigin.delete_track = undefined;
}

velo_forward_memory( var_0 )
{
    self endon( "disconnect" );

    if ( isdefined( self.cameraent ) )
        return;

    self.br_infilstarted = 1;

    if ( istrue( var_0 ) )
        waitframe();

    if ( !isdefined( level.cloudorigin.delete_track[self getentitynumber()] ) )
    {
        var_1 = spawn( "script_model", ( 0, 0, 0 ) );
        var_1 setmodel( "generic_prop_x3" );
        level.cloudorigin.delete_track[self getentitynumber()] = var_1;
    }

    self.cameraent = level.cloudorigin.delete_track[self getentitynumber()];
    self.cameraent.inuse = 1;

    if ( !istrue( game["switchedsides"] ) )
        scripts\mp\gametypes\br_gulag::gulagfadetoblack();

    var_2 = munition_source_getridof( self.team, self.squadindex );
    var_3 = level.cloudorigin.paths[var_2];

    if ( !isdefined( self._id_12584 ) )
    {
        waittill_trigger_player( var_3 );
        self._id_12584 = vip_failquest( var_3 );
    }

    self.cameraent.origin = self._id_12584.origin;
    self.cameraent.angles = vip_completequest( var_3, self.cameraent.origin );
    var_4 = vip_death_player_hits_million();
    self.cameraent scriptmodelplayanim( var_4, "spawn_camera_anim" );
    self.cameraent scriptmodelpauseanim( 1 );
    waittillframeend;
    var_5 = self.cameraent gettagorigin( "j_prop_1" );
    var_6 = getdvarint( "scr_br_initial_stream_timeout_pl_ms", 12000 );
    scripts\mp\gametypes\br_public::wassquadspawned( var_5, var_6, 1 );

    if ( !istrue( var_0 ) && !istrue( game["switchedsides"] ) )
        wait 2.0;

    if ( istrue( self.chopperoccupied ) )
        scripts\mp\gametypes\br::_id_12D28( self );

    self setclientomnvar( "ui_br_infil_started", 1 );
    self setclientomnvar( "ui_br_infiled", 1 );
    scripts\mp\gametypes\br::spawnintermission( var_5, self.cameraent.angles );

    if ( !istrue( game["switchedsides"] ) )
        self setclientomnvar( "ui_br_bink_overlay_state", 5 );

    scripts\mp\gametypes\br_public::watch_for_players_ledgespawners();
    level.cloudorigin._id_127DA++;
}

vip_completequest( var_0, var_1 )
{
    if ( self.team == game["attackers"] )
        var_2 = var_0.nodes[var_0.nodes.size - 1].origin - var_1;
    else
        var_2 = var_0.nodes[0].origin - var_1;

    var_3 = vectortoangles( var_2 );
    return ( 0, var_3[1], 0 );
}

vip_death_player_hits_million()
{
    if ( self.team == game["attackers"] )
        return "iw8_br_payload_intro_camera_swoop_attackers";
    else
        return "iw8_br_payload_intro_camera_swoop_defenders";
}

munition_source_getridof( var_0, var_1 )
{
    if ( isdefined( level.squaddata[var_0][var_1].prophasclonesleft ) )
        return level.squaddata[var_0][var_1].prophasclonesleft;

    if ( !isdefined( level.teamdata[var_0]["nextSpawnIndex"] ) )
    {
        var_2 = mlgiconfullflag( var_0 );

        if ( isdefined( level.teamdata[var_2]["nextSpawnIndex"] ) )
            level.teamdata[var_0]["nextSpawnIndex"] = level.teamdata[var_2]["nextSpawnIndex"];
        else
            level.teamdata[var_0]["nextSpawnIndex"] = randomint( level.cloudorigin.paths.size );
    }

    level.squaddata[var_0][var_1].prophasclonesleft = level.teamdata[var_0]["nextSpawnIndex"];
    level.teamdata[var_0]["nextSpawnIndex"]++;

    if ( level.teamdata[var_0]["nextSpawnIndex"] >= level.cloudorigin.paths.size )
        level.teamdata[var_0]["nextSpawnIndex"] = 0;

    return level.squaddata[var_0][var_1].prophasclonesleft;
}

velnormals()
{
    self endon( "disconnect" );

    if ( self.sessionstate != "intermission" )
        velo_forward_memory( 1 );
    else
        scripts\mp\gametypes\br_public::watch_for_players_ledgespawners();

    velendid();

    if ( !istrue( game["switchedsides"] ) )
        self setclientomnvar( "ui_br_bink_overlay_state", 5 );

    _id_12141( 1 );
    var_0 = 1;
    var_1 = 6.66667 - var_0;
    scripts\mp\gametypes\br_gulag::gulagfadefromblack();
    self clearsoundsubmix( "mp_br_lobby_fade", 1.5 );
    self clearsoundsubmix( "deaths_door_mp", 1 );
    self clearsoundsubmix( "fade_to_black_all_except_music_and_scripted5", 1 );
    self clearsoundsubmix( "mp_br_mode_payload_completed", 0.5 );
    self clearpredictedstreampos();
    self setclientomnvar( "ui_br_transition_type", 0 );
    self setclientomnvar( "ui_br_extended_load_screen", 0 );
    self cameralinkto( self.cameraent, "j_prop_1", 1, 1 );
    self.cameraent scriptmodelpauseanim( 0 );
    thread playerfirstspawnwelcome();
    wait( var_1 );
    var_2 = angleclamp180( angleclamp180( self.angles[1] ) - angleclamp180( self.cameraent.angles[1] ) );
    self.cameraent rotateyaw( var_2, var_0, 0.1, 0.1 );
    wait( var_0 );
    thread velnumdatapoints();
    wait 1;
    self.cameraent delete();
}

playerfirstspawnwelcome()
{
    self endon( "disconnect" );
    var_0 = 0.5;
    var_1 = 1.0;
    var_2 = 6.66667 - var_0 - var_1;
    self setsoundsubmix( "iw8_mp_spawn_camera" );
    wait( var_0 );
    scripts\mp\gametypes\br_public::connected_search_node( "payload_welcome", self );

    if ( self.team == game["defenders"] )
    {
        scripts\mp\hud_message::showsplash( "br_payload_welcome_defenders" );
        scripts\mp\gametypes\br_public::connected_search_node( "defend_intro1", self );
    }
    else
    {
        scripts\mp\hud_message::showsplash( "br_payload_welcome_attackers" );
        scripts\mp\gametypes\br_public::connected_search_node( "attack_intro1", self );
    }

    wait( var_1 );
    self setplayermusicstate( "br_payload_round_start" );
    wait( var_2 );
    self clearsoundsubmix( "iw8_mp_spawn_camera", 6 );
}

velendid( var_0 )
{
    self endon( "disconnect" );
    self notify( "playerPayloadFirstSpawn" );
    self endon( "playerPayloadFirstSpawn" );
    scripts\mp\gametypes\br_public::waittill_any_return_4();
    self.forcespawnorigin = self._id_12584.origin;
    self.forcespawnangles = self._id_12584.angles;
    self._id_11D0F = !game["switchedsides"];
    self.plotarmor = 1;
    scripts\mp\playerlogic::spawnplayer( 0 );

    if ( istrue( self.chopperoccupied ) )
        scripts\mp\gametypes\br::_id_12D28( self );

    waitframe();
    self._id_12584 = undefined;
    self.plotarmor = undefined;
    self._id_11D0F = undefined;
    self.propgetlocation = undefined;
    self freezecontrols( 1 );
    self playerhide();
}

velnumdatapoints()
{
    self cameraunlink();
    self freezecontrols( 0 );
    self playershow();

    if ( scripts\mp\gametypes\br_gulag::ongrenadeused() )
        scripts\mp\gametypes\br_gulag::gulagfadefromblack();

    self setclientomnvar( "ui_br_transition_type", 0 );
    self setclientomnvar( "ui_br_extended_load_screen", 0 );

    if ( self.team == game["attackers"] && level.cloudorigin._id_12511 > -1 )
        thread vehicleoccupants();

    _id_12141( 0 );
    scripts\mp\supers::setsuperbasepoints( 0 );
    scripts\mp\supers::setsuperextrapoints( 0 );
    vehomncontrols();
}

_id_1317D( var_0 )
{
    var_1 = gettime() + var_0 * 1000;

    while ( gettime() < var_1 && level.cloudorigin._id_127DA < level.players.size )
        waitframe();
}

_id_125A1( var_0 )
{
    _id_121D2();

    foreach ( var_2 in level.cloudorigin.paths )
    {
        _id_12576( var_2, game["attackers"], var_0 );

        if ( level.cloudorigin.convoy )
            _id_12577( var_2, game["attackers"], var_0 );
    }

    fxred( game["attackers"] );
    fxred( game["defenders"] );
    thread _id_12A9D();
}

_id_12576( var_0, var_1, var_2 )
{
    var_3 = ( 0, 0, 0 );
    var_4 = var_0;
    var_5 = undefined;
    var_6 = 0;

    if ( level.cloudorigin.convoy )
        var_6 = 1;

    if ( isdefined( var_0.nodes ) && isdefined( var_0.nodes[var_6] ) && isdefined( var_0.nodes[var_6 + 1] ) )
    {
        var_4 = var_0.nodes[var_6];
        var_5 = var_0.nodes[var_6 + 1];
        var_3 = vectortoangles( var_5.origin - var_4.origin );
    }
    else if ( isdefined( var_0.target ) )
    {
        if ( level.cloudorigin.convoy )
            var_4 = scripts\engine\utility::getstruct( var_0.target, "targetname" );
        else
            var_4 = var_0;

        if ( isdefined( var_4 ) && isdefined( var_4.target ) )
        {
            var_5 = scripts\engine\utility::getstruct( var_4.target, "targetname" );
            var_3 = vectortoangles( var_5.origin - var_4.origin );
        }
    }

    var_7 = spawnstruct();
    var_7.origin = var_4.origin;
    var_7.angles = var_3;
    var_7.spawntype = "GAME_MODE";
    var_7.spawnmethod = "place_at_position_unsafe";
    var_7.team = var_1;
    var_7.keypad_playerinteractwithkeypadloop = ::_id_12FE9;
    var_7.vehicletype = level.uavworstid;
    var_7.modelname = "veh8_mil_lnd_mkilo23_payload";
    var_7.turretmodel = "veh8_mil_lnd_mkilo23_turret_payload";
    var_8 = spawnstruct();
    var_9 = scripts\cp_mp\vehicles\vehicle_spawn::vehicle_spawn_spawnvehicle( level.uavfastsweepid, var_7, var_8 );
    var_9.ondeathrespawn = undefined;
    var_9 forcenetfieldhighlod( 1 );
    var_9 _meth_87C0( 1 );

    foreach ( var_11 in var_9.turrets )
    {
        var_11 setscriptablepartstate( "barrel", "show" );
        spawnturretcollision( var_11 );
    }

    if ( istrue( var_2 ) && level.cloudorigin._id_12C11 )
        _id_12518( var_9 );

    if ( isdefined( var_5 ) )
    {
        var_0.vehicle = var_9;
        var_9.path = var_0;
    }

    var_9 _id_13005( var_0 );

    if ( isdefined( var_5 ) )
        var_9 thread _id_12FDC( var_0 );

    return var_9;
}

spawnturretcollision( var_0 )
{
    if ( getdvarint( "scr_br_payload_tcol", 1 ) == 0 )
        return;

    var_1 = spawn( "script_model", ( 0, 0, 0 ) );
    var_1 setmodel( "veh8_mil_lnd_mkilo23_turret_payload_nomesh" );
    var_1 linkto( var_0, "tag_aim_pivot", ( 0, 0, 0 ), ( 0, 0, 0 ) );
    var_0.turretcollision = var_1;
}

_id_12518( var_0 )
{
    var_1 = ( -158, -43, 67 );
    var_2 = ( 0, 0, 0 );
    var_3 = 80;
    var_4 = "ui_mp_br_loot_icon_health_armor_box";
    var_5 = &"EQUIPMENT_HINTS/ARMOR_BOX_USE";
    var_6 = "equip_armorBox";
    var_7 = spawn( "script_model", var_0.origin );
    var_7 setmodel( "offhand_wm_supportbox_armor_br" );
    var_7 linkto( var_0, "tag_origin", var_1, var_2 );
    var_7 setscriptablepartstate( "beacon", "active", 0 );
    var_7 setscriptablepartstate( "anims", "openIdle", 0 );
    var_7._id_12D17 = 1;
    var_7.team = game["attackers"];
    var_7 scripts\mp\equipment\support_box::supportbox_addheadicon( var_4 );
    var_7 thread scripts\mp\equipment\support_box::supportbox_makeusable( var_6, var_5 );
    var_7 setuserange( var_3 );
    var_7 setusefov( 90 );
    var_7 notsolid();
    setheadiconsnaptoedges( var_7.ph_endgame, var_3 );
    setheadiconsnaptoedges( var_7.ph_loadouts, var_3 );
    var_0.bot_should_cap_next_zone = var_7;
}

_id_12FE1()
{
    level endon( "game_ended" );
    self notify( "vehicleCleanupLoot" );
    self endon( "vehicleCleanupLoot" );
    self endon( "pathComplete" );
    self endon( "death" );

    for (;;)
    {
        var_0 = canceljoins( undefined, undefined, self.origin, level.cloudorigin._id_13010 );

        foreach ( var_2 in var_0 )
        {
            if ( issubstr( var_2.type, "_weapon_" ) )
                var_2 scripts\mp\gametypes\br_pickups::getthirdpersonheightoffsetforsize();
        }

        waitframe();
    }
}

_id_1233F( var_0 )
{
    var_1 = self;

    foreach ( var_3 in level.cloudorigin.paths )
    {
        if ( isdefined( var_3.vehicle ) && should_break_stealth_immediately_func( var_3.vehicle, var_1.origin ) )
            return 1;

        foreach ( var_5 in var_3.thermite_watchstucktoterrain )
        {
            if ( isdefined( var_5 ) && should_break_stealth_immediately( var_5, var_1.origin ) )
                return 1;
        }
    }

    return 0;
}

should_break_stealth_immediately_func( var_0, var_1 )
{
    var_2 = level.cloudorigin._id_13010 * level.cloudorigin._id_13010;
    var_3 = distance2dsquared( var_1, var_0.origin );
    return var_3 < var_2;
}

should_break_stealth_immediately( var_0, var_1 )
{
    var_2 = 10000;
    var_3 = distance2dsquared( self.origin, var_0.origin );
    return var_3 < var_2;
}

_id_1233C( var_0 )
{
    foreach ( var_2 in level.cloudorigin.paths )
    {
        if ( isdefined( var_2.vehicle ) && should_break_stealth_immediately_func( var_2.vehicle, var_0.origin ) )
            return 1;

        foreach ( var_4 in var_2.thermite_watchstucktoterrain )
        {
            if ( should_break_stealth_immediately( var_4, var_0.origin ) )
                return 1;
        }
    }

    return 0;
}

_id_12577( var_0, var_1, var_2 )
{
    var_3 = ( 0, 0, 0 );
    var_4 = undefined;

    if ( isdefined( var_0.nodes ) && isdefined( var_0.nodes[1] ) )
    {
        var_4 = var_0.nodes[1];
        var_3 = vectortoangles( var_4.origin - var_0.origin );
    }

    var_5 = spawnstruct();
    var_5.origin = var_0.origin;
    var_5.angles = var_3;
    var_5.spawntype = "GAME_MODE";
    var_5.spawnmethod = "place_at_position_unsafe";
    var_5.team = var_1;
    var_5.keypad_playerinteractwithkeypadloop = ::_id_12FE9;
    var_5.vehicletype = level.uavworstid;
    var_5.modelname = "veh8_mil_lnd_mkilo23_payload_convoy";
    var_5.turretmodel = "veh8_mil_lnd_mkilo23_turret_payload";
    var_6 = spawnstruct();
    var_7 = scripts\cp_mp\vehicles\vehicle_spawn::vehicle_spawn_spawnvehicle( level.uavfastsweepid, var_5, var_6 );
    var_7.ondeathrespawn = undefined;
    var_7 _meth_87C0( 1 );

    foreach ( var_9 in var_7.turrets )
    {
        var_9 setscriptablepartstate( "barrel", "show" );
        spawnturretcollision( var_9 );
    }

    if ( istrue( var_2 ) )
    {
        var_7 _id_12C10( var_0.update_restock_ui, 0 );

        if ( level.cloudorigin._id_12C11 )
            _id_12518( var_7 );
    }

    if ( isdefined( var_4 ) )
    {
        var_0.flarecooldown = var_7;
        var_7.path = var_0;
    }

    if ( level.uavfastsweepid == "cargo_truck_mg" )
    {
        var_7 setscriptablepartstate( "upgrade", "vehicle_unusable" );
        var_7 setscriptablepartstate( "copyofupgrade", "vehicle_unusable" );
    }

    var_7.registered_checkpoint_funcs = 1;

    if ( isdefined( var_4 ) )
        var_7 thread _id_12FE2( var_0 );

    return var_7;
}

_id_12FE9( var_0, var_1 )
{

}

_id_13000( var_0 )
{
    return !isdefined( self.path );
}

_id_13005( var_0 )
{
    if ( !isdefined( var_0.trigger ) )
        var_0.trigger = spawn( "trigger_radius", self.origin, 0, level.cloudorigin._id_13010, level.cloudorigin._id_1300F );

    if ( !istrue( var_0.trigger.set_relic_healthpacks ) )
    {
        var_0.trigger enablelinkto();
        var_0.trigger.set_relic_healthpacks = 1;
    }

    var_0.trigger linkto( self, "tag_origin", ( 0, 0, 0 ), ( 0, 0, 0 ) );
    var_0.trigger.bisthread = 1;

    if ( !isdefined( var_0.initlocs_nonmorsephones ) )
        var_0.initlocs_nonmorsephones = scripts\mp\gameobjects::createuseobject( self.team, var_0.trigger, [], level.cloudorigin._id_12FF2 );

    var_0.initlocs_nonmorsephones.usecondition = ::checkoutsidenocontest;
    var_0.initlocs_nonmorsephones.dropshield = 1;
    var_0.initlocs_nonmorsephones.nousebar = 1;
    var_0.initlocs_nonmorsephones scripts\mp\gameobjects::allowuse( "any" );
    var_0.initlocs_nonmorsephones scripts\mp\gameobjects::setvisibleteam( "any" );
    var_0.initlocs_nonmorsephones scripts\mp\gameobjects::pinobjiconontriggertouch();
    var_0.initlocs_nonmorsephones.iconname = self.path.iconname;
    var_0.initlocs_nonmorsephones scripts\mp\gameobjects::setownerteam( self.team );
    var_0.initlocs_nonmorsephones scripts\mp\gameobjects::setobjectivestatusicons( "waypoint_escort_neutral", "waypoint_halt_neutral" );
    _func_428( var_0.initlocs_nonmorsephones.objidnum, 1 );
    scripts\mp\objidpoolmanager::update_objective_onentity( var_0.initlocs_nonmorsephones.objidnum, self );
    scripts\mp\objidpoolmanager::update_objective_setzoffset( var_0.initlocs_nonmorsephones.objidnum, var_0.initlocs_nonmorsephones.offset3d[2] );
    scripts\mp\objidpoolmanager::objective_set_play_intro( var_0.initlocs_nonmorsephones.objidnum, 0 );

    if ( level.uavfastsweepid == "cargo_truck_mg" )
    {
        self setscriptablepartstate( "upgrade", "vehicle_unusable" );
        self setscriptablepartstate( "copyofupgrade", "vehicle_unusable" );
    }

    self.initlocs_nonmorsephones = var_0.initlocs_nonmorsephones;
}

mlgiconfullflag( var_0 )
{
    if ( var_0 == "axis" )
        return "allies";
    else
        return "axis";
}

_id_12FF9()
{
    level endon( "game_ended" );
    level endon( "payloadComplete" );
    self notify( "vehicleMoveUpdate" );
    self endon( "vehicleMoveUpdate" );
    self endon( "pathComplete" );
    self endon( "death" );
    waittillframeend;
    var_0 = getdvarint( "scr_br_payload_vehicle_pay_time_tick", 6000 );
    var_1 = getdvarint( "scr_br_payload_vehicle_pay_scale", 4 );
    var_2 = getdvarint( "scr_br_payload_vehicle_defender_pay_scale", 7 );
    var_3 = gettime() + var_0;
    var_4 = self.path;
    var_5 = var_4.flarecooldown;
    _id_12FF1( var_5 );
    var_6 = gettime() + 1000;

    for (;;)
    {
        var_7 = _id_12FEF( self.team );
        var_8 = _id_12FEF( mlgiconfullflag( self.team ) );
        _id_13015( var_7, var_8 );
        _id_13013();

        if ( var_3 < gettime() )
        {
            var_3 = gettime() + var_0;
            ui_damage_num_cycle( var_7, var_8, var_1, var_2 );
        }

        if ( gettime() >= var_6 )
        {
            _id_12FD9();
            var_6 = gettime() + 1000;
        }

        var_9 = undefined;

        if ( istrue( level.cloudorigin.txt_nag ) )
            var_10 = level.cloudorigin._id_12FEB;
        else
            var_10 = level.cloudorigin._id_12FEC;

        var_11 = var_10;
        var_12 = level.cloudorigin._id_12FDA;

        if ( isdefined( var_5 ) )
        {
            var_13 = distance2dsquared( self.origin, var_5.origin );

            if ( var_13 < level.cloudorigin.flare_setup )
            {
                var_11 = level.cloudorigin._id_12FED;
                var_12 = level.cloudorigin._id_12FDB;
            }
        }

        if ( !var_7 && var_8 && !self.branalytics_circleenter )
        {
            self vehicle_setspeed( var_12 );
            self.veh_transmission = "reverse";

            if ( isdefined( var_5 ) )
            {
                if ( !istrue( var_5.branalytics_circleexit ) )
                {
                    var_5 vehicle_setspeed( level.cloudorigin._id_12FDA );
                    var_5.veh_transmission = "reverse";
                }
                else
                    var_5 vehicle_setspeed( 0 );
            }

            var_9 = "reverse";

            if ( isdefined( self.register_module_died_poorly_func ) && isdefined( self.blockedorg ) )
            {
                var_14 = anglestoforward( self.angles ) * -1;
                var_15 = vectornormalize( self.origin - self.blockedorg );
                var_16 = vectordot( var_14, var_15 );

                if ( var_16 > 0 )
                {
                    var_17 = distance( self.blockedorg, self.origin );

                    if ( var_17 > getdvarfloat( "scr_payload_unblock_distance", 2.0 ) )
                    {
                        self.register_module_died_poorly_func = undefined;
                        self.branalytics_dropbagdestroyed = undefined;
                        self.blockedorg = undefined;
                    }
                }
            }
        }
        else if ( isdefined( self.register_module_died_poorly_func ) )
        {
            var_9 = "blocked";
            self vehicle_setspeed( 0 );

            if ( isdefined( var_5 ) )
                var_5 vehicle_setspeed( 0 );
        }
        else if ( var_7 && !var_8 )
        {
            self vehicle_setspeed( var_10 );
            self.veh_transmission = "forward";
            self.branalytics_circleenter = 0;
            _id_13014();

            if ( isdefined( self.branalytics_dropbagdestroyed ) )
            {
                self.branalytics_dropbagdestroyed thermite_laststand_effects();
                self.branalytics_dropbagdestroyed = undefined;
            }

            if ( isdefined( var_5 ) )
            {
                var_5 vehicle_setspeed( var_11 );
                var_5.veh_transmission = "forward";
                var_5.branalytics_circleexit = 0;
            }

            var_9 = "forward";
        }
        else
        {
            if ( var_7 && var_8 )
                var_9 = "contested";

            self vehicle_setspeed( 0 );

            if ( isdefined( var_5 ) )
                var_5 vehicle_setspeed( 0 );
        }

        if ( !var_7 )
            _id_13001();

        [var_9, var_19] = _id_12FFA( var_9 );
        var_20 = var_7 > 0;
        testclient_run_funcs( self.path, var_20, var_9, var_19 );
        waitframe();
    }
}

_id_12FF1( var_0 )
{
    self vehicle_setspeed( level.cloudorigin._id_12FEC );

    if ( isdefined( var_0 ) )
        var_0 vehicle_setspeed( level.cloudorigin._id_12FEC );

    wait 0.5;
}

_id_12FFA( var_0 )
{
    var_1 = minigamelosersettings( self.path );

    if ( var_1 < 0 || !isdefined( var_0 ) || var_0 != "forward" )
        return [ var_0, undefined ];

    var_2 = self.path;
    var_3 = var_2.dropcashdeny[var_1].syncleadmarkers;
    var_4 = var_2.nodes[var_3].origin;
    var_5 = distance2dsquared( self.origin, var_4 );

    if ( var_5 < level.cloudorigin._id_1308C )
        return [ "near", var_1 + 1 ];

    return [ var_0, undefined ];
}

_id_12FE5()
{
    level endon( "game_ended" );
    self notify( "vehicleDamageVehicles" );
    self endon( "vehicleDamageVehicles" );
    self endon( "death" );
    self vehphys_enablecollisioncallback( 1 );

    for (;;)
    {
        self waittill( "collision", var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8 );

        if ( !isdefined( var_7 ) )
            continue;

        if ( var_7 initbunker() )
        {
            var_7 _id_12FE8( self );
            continue;
        }

        if ( isdefined( var_7.equipmentref ) && var_7.equipmentref == "equip_tac_cover" )
            var_7 scripts\mp\equipment\tactical_cover::tac_cover_destroy( undefined, 1 );
    }
}

initbunker()
{
    return isalive( self ) && ( scripts\common\vehicle::isvehicle() || isdefined( self.classname ) && self.classname == "script_vehicle" );
}

_id_12FE8( var_0 )
{
    self.uavnoneid = 1;
    self dodamage( self.health, var_0.origin, var_0, var_0 );

    if ( isdefined( self ) )
        self.uavnoneid = undefined;
}

_id_13015( var_0, var_1 )
{
    if ( !var_0 && var_1 )
    {
        self.initlocs_nonmorsephones scripts\mp\gameobjects::setownerteam( mlgiconfullflag( self.team ) );
        self.initlocs_nonmorsephones scripts\mp\gameobjects::setobjectivestatusicons( "waypoint_halting", "waypoint_escort" );
        try_play_tv_station_intro_sequence( self.path, game["attackers"], "red" );
        try_play_tv_station_intro_sequence( self.path, game["defenders"], "blue" );
        var_2 = scripts\engine\utility::ter_op( !game["switchedsides"], "halt0", "halt1" );
        self setscriptablepartstate( "radiusEffect", var_2, 0 );
        _func_428( self.initlocs_nonmorsephones.objidnum, 0 );
        self.status = "back";
        _id_12149( self.path.script_index, 2 );
    }
    else if ( isdefined( self.register_module_died_poorly_func ) )
    {
        self.initlocs_nonmorsephones scripts\mp\gameobjects::setownerteam( "neutral" );
        self.initlocs_nonmorsephones scripts\mp\gameobjects::setobjectivestatusicons( "waypoint_blocked" );
        try_play_tv_station_intro_sequence( self.path, game["attackers"], "yellow" );
        try_play_tv_station_intro_sequence( self.path, game["defenders"], "yellow" );
        self setscriptablepartstate( "radiusEffect", "contest", 0 );
        _func_428( self.initlocs_nonmorsephones.objidnum, 0 );
        self.status = "blocked";
        _id_12149( self.path.script_index, 0 );
    }
    else if ( var_0 && !var_1 )
    {
        self.initlocs_nonmorsephones scripts\mp\gameobjects::setownerteam( self.team );
        self.initlocs_nonmorsephones scripts\mp\gameobjects::setobjectivestatusicons( "waypoint_escorting", "waypoint_halt" );
        try_play_tv_station_intro_sequence( self.path, game["attackers"], "blue" );
        try_play_tv_station_intro_sequence( self.path, game["defenders"], "red" );
        var_2 = scripts\engine\utility::ter_op( !game["switchedsides"], "escort0", "escort1" );
        self setscriptablepartstate( "radiusEffect", var_2, 0 );
        _func_428( self.initlocs_nonmorsephones.objidnum, 0 );
        self.status = "forward";
        _id_12149( self.path.script_index, 1 );
    }
    else if ( var_0 && var_1 )
    {
        self.initlocs_nonmorsephones scripts\mp\gameobjects::setownerteam( "neutral" );
        self.initlocs_nonmorsephones scripts\mp\gameobjects::setobjectivestatusicons( "waypoint_contested" );
        try_play_tv_station_intro_sequence( self.path, game["attackers"], "yellow" );
        try_play_tv_station_intro_sequence( self.path, game["defenders"], "yellow" );
        self setscriptablepartstate( "radiusEffect", "contest", 0 );
        _func_428( self.initlocs_nonmorsephones.objidnum, 0 );
        self.status = "contested";
        _id_12149( self.path.script_index, 3 );
    }
    else
    {
        self.initlocs_nonmorsephones scripts\mp\gameobjects::setownerteam( self.team );
        self.initlocs_nonmorsephones scripts\mp\gameobjects::setobjectivestatusicons( "waypoint_escort_neutral", "waypoint_halt_neutral" );
        try_play_tv_station_intro_sequence( self.path, game["attackers"], "white" );
        try_play_tv_station_intro_sequence( self.path, game["defenders"], "white" );
        self setscriptablepartstate( "radiusEffect", "idle", 0 );
        _func_428( self.initlocs_nonmorsephones.objidnum, 1 );
        self.status = "idle";
        _id_12149( self.path.script_index, 4 );
    }

    _id_13013();
}

_id_13013()
{
    var_0 = self.path;
    var_1 = _id_12FEE();
    var_2 = var_1 / var_0._id_12A47;

    if ( var_0.dropbrweapon >= 0 )
    {
        var_3 = 0;

        if ( var_0.dropbrweapon > 0 )
            var_3 = var_0.dropcashdeny[var_0.dropbrweapon - 1].hasexiteddriver;

        var_4 = var_0.dropcashdeny[var_0.dropbrweapon].hasexiteddriver - var_3;
        var_1 = var_1 - var_3;
        var_5 = var_1 / var_4;
    }
    else
        var_5 = 0;

    _id_12148( var_0.script_index, var_2 );

    if ( isdefined( level.teamdata[game["attackers"]]["checkpoint"].brtruck_initdialog[var_0.script_index] ) )
        level.teamdata[game["attackers"]]["checkpoint"].brtruck_initdialog[var_0.script_index].brrebirth_triggerrespawnoverlay scripts\mp\hud_util::updatebar( var_2, 0 );

    if ( isdefined( level.teamdata[game["defenders"]]["checkpoint"].brtruck_initdialog[var_0.script_index] ) )
        level.teamdata[game["defenders"]]["checkpoint"].brtruck_initdialog[var_0.script_index].brrebirth_triggerrespawnoverlay scripts\mp\hud_util::updatebar( var_2, 0 );

    if ( var_5 < 0 )
        var_5 = 0;

    objective_setprogress( self.initlocs_nonmorsephones.objidnum, var_5 );
}

_id_12FEE()
{
    var_0 = self;
    var_1 = var_0.path;

    if ( istrue( var_1.farms2_gw_ambient_sound_load ) )
        return var_1._id_12A47;

    var_2 = var_1._id_125E8[var_1._id_125E7].points[var_1.get_area_clear_alias];
    var_3 = var_1._id_125E8[var_1._id_125E7].points[var_1.get_area_clear_alias + 1];
    var_4 = pointonsegmentnearesttopoint( var_2, var_3, var_0.origin );
    var_5 = distance( var_4, var_2 );
    var_6 = var_1._id_125E8[var_1._id_125E7].aigroundturret_mountcompleted[var_1.get_area_clear_alias];
    var_6 = var_6 + var_5;
    return var_6;
}

_id_13014()
{
    var_0 = self;

    if ( isdefined( var_0._id_11A04 ) || !scripts\mp\flags::gameflag( "prematch_done" ) )
        return;

    var_0._id_11A04 = spawnstruct();
    var_0._id_11A04.starttime = gettime();
    var_0._id_11A04._id_12722 = var_0 _id_12FEE();
}

_id_13001()
{
    var_0 = self;

    if ( !isdefined( var_0._id_11A04 ) || !scripts\mp\flags::gameflag( "prematch_done" ) )
        return;

    var_1 = var_0 _id_12FEE();
    var_2 = var_1 - var_0._id_11A04._id_12722;
    var_3 = var_0.path;

    if ( var_3.setup_weapons_at_pos < var_2 )
        var_3.setup_weapons_at_pos = var_2;

    var_4 = gettime() - var_0._id_11A04.starttime;
    var_3._id_12A4A = var_3._id_12A4A + var_4;
    var_0._id_11A04 = undefined;
}

_id_12FD9()
{
    foreach ( var_1 in self.initlocs_nonmorsephones.touchlist[game["attackers"]] )
    {
        var_2 = var_1.player;
        var_2 scripts\mp\utility\stats::incpersstat( "objTime", 1 );
        var_2 scripts\mp\persistence::statsetchild( "round", "objTime", var_2.pers["objTime"] );
        var_2 scripts\mp\gametypes\br_public::updatebrscoreboardstat( "objTime", var_2.pers["objTime"] );
    }

    foreach ( var_1 in self.initlocs_nonmorsephones.touchlist[game["defenders"]] )
    {
        var_2 = var_1.player;
        var_2 scripts\mp\utility\stats::incpersstat( "objTime", 1 );
        var_2 scripts\mp\gametypes\br_public::updatebrscoreboardstat( "objTime", var_2.pers["objTime"] );
    }
}

defense_wave_send_support( var_0, var_1 )
{
    var_2 = 0.0000157828;
    var_3 = 3600;
    var_4 = 10;
    var_5 = distance( var_0, var_1 );
    var_6 = var_5 * var_2;
    var_7 = max( var_6 / level.cloudorigin._id_12FEC * var_3, var_4 );
    return var_7;
}

defenderflagbases( var_0, var_1 )
{
    var_0._id_125E8 = [];
    var_0.dropcashdeny = [];
    var_0.thermite_watchstucktoterrain = [];
    var_0.get_area_clear_alias = 0;
    var_0._id_125E7 = 0;

    if ( level.cloudorigin.brking_kickplayersatcircleedge )
        var_0.safefromnuke = [];

    if ( level.cloudorigin.convoy )
    {
        var_0.flare_thread = spawnstruct();
        var_0.flare_thread.points = [];
        var_0.flare_thread.times = [];
    }

    var_2 = var_0.nodes;

    if ( !isdefined( var_2 ) || istrue( var_1 ) )
    {
        if ( isdefined( var_0.target ) )
        {
            var_3 = var_0;
            var_2 = [ var_0 ];

            for (;;)
            {
                var_3 = scripts\engine\utility::getstruct( var_3.target, "targetname" );
                var_2[var_2.size] = var_3;

                if ( !isdefined( var_3.target ) )
                    break;
            }

            var_0.nodes = var_2;
        }
        else
        {

        }
    }
    else
    {

    }

    var_9 = int( var_2.size / 31 );
    var_10 = var_2.size - var_9 * 31;

    if ( var_10 != 0 )
        var_9++;

    var_11 = var_10 > 0 && var_10 < 4;
    var_12 = var_9 - 2;
    var_13 = var_9 - 1;
    var_14 = undefined;

    if ( level.cloudorigin.brking_kickplayersatcircleedge )
        var_0.safefromnuke[0] = 0;

    var_15 = 0;
    var_16 = 0;
    var_17 = 0;
    var_18 = 0;
    var_19 = 0;
    var_20 = 0;

    for ( var_21 = 0; var_21 < var_9; var_21++ )
    {
        var_0._id_125E8[var_21] = spawnstruct();
        var_0._id_125E8[var_21].points = [];
        var_0._id_125E8[var_21].times = [];
        var_0._id_125E8[var_21].registerbrgametypefunc = [];
        var_0._id_125E8[var_21].relic_squadlink_toofar_hud_logic = [];
        var_0._id_125E8[var_21].aigroundturret_mountcompleted = [];
        var_22 = 31;

        if ( var_21 == var_12 && var_11 )
            var_22 = 27 + var_10;
        else if ( var_21 == var_13 && var_10 > 0 )
        {
            if ( var_10 >= 4 )
                var_22 = var_10;
            else
                var_22 = 4;
        }

        var_23 = 0;

        if ( var_21 > 0 )
        {
            var_0._id_125E8[var_21].points[var_23] = var_2[var_16].origin;
            var_0._id_125E8[var_21].times[var_23] = defense_wave_send_support( var_2[var_16].origin, var_2[var_16].origin );
            var_0._id_125E8[var_21].aigroundturret_mountcompleted[var_23] = var_19;
            var_23++;
            var_22++;
            var_2[var_16]._id_125E7 = var_21;
        }
        else
            var_2[var_21]._id_125E7 = var_21;

        for ( var_24 = var_23; var_24 < var_22; var_24++ )
        {
            var_25 = var_24;

            if ( level.cloudorigin.convoy && var_21 == 0 )
            {
                var_0.flare_thread.points[var_25] = var_2[var_15].origin;
                var_0.flare_thread.times[var_25] = defense_wave_send_support( var_2[var_16].origin, var_2[var_15].origin );
                var_25 = var_25 - 1;

                if ( var_25 == 0 )
                    var_16 = 1;
            }

            if ( !level.cloudorigin.convoy || var_21 > 0 || var_25 >= 0 )
            {
                var_0._id_125E8[var_21].points[var_25] = var_2[var_15].origin;
                var_0._id_125E8[var_21].times[var_25] = defense_wave_send_support( var_2[var_16].origin, var_2[var_15].origin );
                var_26 = distance( var_2[var_16].origin, var_2[var_15].origin );
                var_19 = var_19 + var_26;
                var_0._id_125E8[var_21].aigroundturret_mountcompleted[var_25] = var_19;

                if ( isdefined( var_2[var_15].checkpoint ) )
                {
                    var_0._id_125E8[var_21].registerbrgametypefunc[var_25] = var_17;
                    var_0.dropcashdeny[var_17] = spawnstruct();
                    var_0.dropcashdeny[var_17].hasexiteddriver = var_19;
                    var_0.dropcashdeny[var_17].syncleadmarkers = var_15;
                    var_2[var_15].checkpoint = var_0.dropcashdeny[var_17];

                    if ( level.cloudorigin.brking_kickplayersatcircleedge )
                    {
                        var_27 = var_15 - var_20;
                        var_28 = int( var_27 * 0.33 ) + var_20;
                        var_0.safefromnuke[var_0.safefromnuke.size] = var_28;
                        var_29 = int( var_27 * 0.66 ) + var_20;
                        var_0.safefromnuke[var_0.safefromnuke.size] = var_29;
                        var_0.safefromnuke[var_0.safefromnuke.size] = var_15;
                        var_20 = var_15;
                    }

                    var_17++;
                }

                if ( isdefined( var_2[var_15].obstacle ) )
                {
                    var_0._id_125E8[var_21].relic_squadlink_toofar_hud_logic[var_25] = var_18;

                    if ( !isent( var_2[var_15].obstacle ) )
                        var_2[var_15].obstacle = gas_linger_vfx( var_2[var_15].obstacle.origin, var_2[var_15].obstacle.angles );

                    var_0.thermite_watchstucktoterrain[var_18] = var_2[var_15].obstacle;
                    var_0.thermite_watchstucktoterrain[var_18].path = var_0;
                    var_0.thermite_watchstucktoterrain[var_18].dist = var_19;
                    var_0.thermite_watchstucktoterrain[var_18].index = var_18;
                    var_0.thermite_watchstucktoterrain[var_18].dropbrweapon = var_17;
                    var_18++;
                }

                var_16 = var_15;
            }

            var_15++;
        }
    }

    var_30 = var_15 - 1;

    if ( level.cloudorigin.brking_kickplayersatcircleedge )
    {
        var_27 = var_15 - var_20;
        var_28 = int( var_27 * 0.33 ) + var_20;
        var_0.safefromnuke[var_0.safefromnuke.size] = var_28;
        var_29 = int( var_27 * 0.66 ) + var_20;
        var_0.safefromnuke[var_0.safefromnuke.size] = var_29;
        var_0.safefromnuke[var_0.safefromnuke.size] = var_30;
    }

    var_0.dropcashdeny[var_17] = spawnstruct();
    var_0.dropcashdeny[var_17].hasexiteddriver = var_19;
    var_0.dropcashdeny[var_17].syncleadmarkers = var_30;
    var_0._id_12A47 = var_19;
}

_id_12FDC( var_0, var_1 )
{
    self notify( "vehicleBeginPath" );
    self endon( "vehicleBeginPath" );
    self endon( "death" );
    var_2 = 1;
    self.branalytics_circleenter = 1;
    self.register_module_died_poorly_func = undefined;

    if ( !isdefined( var_1 ) )
        var_1 = 0;

    var_0.get_area_clear_alias = 0;
    var_0._id_125E7 = var_1;

    foreach ( var_4 in var_0.thermite_watchstucktoterrain )
        var_4 thermite_linktostuck( 0 );

    thread _id_12FF9();
    thread _id_12FE5();
    thread _id_12FE1();
    var_6 = 1;

    while ( var_0._id_125E7 < var_0._id_125E8.size )
    {
        self startpathnodes( var_0._id_125E8[var_0._id_125E7].points, var_0._id_125E8[var_0._id_125E7].times, 0, 0.5, 0.5, 0, 0, var_2, 1, !var_6, 1, 1 );
        var_2 = 0;
        var_6 = _id_13016( var_0, var_6 );

        if ( isgameended() )
            break;
    }

    self vehicle_setspeed( 0 );

    if ( isdefined( var_0.flarecooldown ) )
        var_0.flarecooldown vehicle_setspeed( 0 );

    self notify( "pathComplete" );
    var_0.farms2_gw_ambient_sound_load = 1;
    var_0 notify( "pathComplete" );

    if ( level.cloudorigin._id_12510 )
        var_0._id_1252A.farms2_gw_ambient_sound_load = 1;

    _id_13001();
    handleimpact( var_0 );

    if ( !isgameended() && _id_12282( var_0 ) )
    {
        _id_11B41( var_0 );
        var_0.dropbrweapon++;
        playersetisbecomingzombie();

        if ( isdefined( level.cloudorigin.dropcpcratefromscriptedheli ) )
        {
            var_7 = minigamewinnersettings();

            foreach ( var_9 in level.cloudorigin.dropcpcratefromscriptedheli )
                var_9 setvalue( var_7 );
        }

        var_0 notify( "checkPointUpdate" );
        dropcount();
    }
    else if ( !isgameended() && level.cloudorigin.bloadinghvt )
        jugg_modifyherodroptoplayerdamage( var_0 );
}

jugg_modifyherodroptoplayerdamage( var_0 )
{
    scripts\mp\gametypes\br::_id_1294F( "br_payload_all_to_end", undefined, game["attackers"] );
    scripts\mp\gametypes\br::_id_1294F( "br_payload_all_to_end_enemy", undefined, game["defenders"] );
    scripts\mp\objidpoolmanager::objective_playermask_hidefromall( var_0.vehicle.initlocs_nonmorsephones.objidnum );
    try_play_tv_station_intro_sequence( var_0, game["attackers"], "white" );
    try_play_tv_station_intro_sequence( var_0, game["defenders"], "white" );
    var_1 = minigamelosersettings( var_0 );
    thread testclient_run_funcs( var_0, 1, "checkpoint", var_1 + 1 );
    _id_11B41( var_0 );
    var_0.dropbrweapon++;
    playersetisbecomingzombie();
    _id_121D1( var_0 );
    _id_12205( var_0, var_0.dropbrweapon );
    var_0 notify( "checkPointUpdate" );

    if ( isdefined( level.cloudorigin.dropcpcratefromscriptedheli ) )
    {
        var_2 = minigamewinnersettings();

        foreach ( var_4 in level.cloudorigin.dropcpcratefromscriptedheli )
            var_4 setvalue( var_2 );
    }

    thread _id_11D1E( var_0 );

    if ( level.cloudorigin.truck_minimap )
        thread truck_minimap( var_0 );
}

_id_12FE2( var_0, var_1 )
{
    self notify( "vehicleBeginPath" );
    self endon( "vehicleBeginPath" );
    var_0 endon( "pathComplete" );
    self endon( "death" );
    var_2 = 1;

    if ( !isdefined( var_1 ) )
        var_1 = 0;

    self.get_area_clear_alias = 0;
    self._id_125E7 = var_1;
    thread _id_12FE5();
    var_3 = 1;

    while ( self._id_125E7 < var_0._id_125E8.size )
    {
        if ( self._id_125E7 == 0 )
        {
            var_4 = var_0.flare_thread.points;
            var_5 = var_0.flare_thread.times;
        }
        else
        {
            var_4 = var_0._id_125E8[self._id_125E7].points;
            var_5 = var_0._id_125E8[self._id_125E7].times;
        }

        self startpathnodes( var_4, var_5, 0, 0.5, 0.5, 0, 0, var_2, 1, !var_3, 1, 1 );
        var_2 = 0;
        var_3 = _id_12FE3( var_0, var_4 );

        if ( isgameended() )
            break;
    }

    self vehicle_setspeed( 0 );
}

_id_12FE3( var_0, var_1 )
{
    level endon( "payloadComplete" );
    level endon( "game_ended" );
    self endon( "death" );
    var_2 = var_1.size - 1;

    for (;;)
    {
        self waittill( "trigger", var_3 );
        var_4 = self._id_125E7 == 0 && var_3 == 0;
        self.get_area_clear_alias = var_3;

        if ( var_4 )
        {
            self.branalytics_circleexit = 1;
            continue;
        }

        if ( var_3 <= 0 )
        {
            self._id_125E7--;
            self.get_area_clear_alias = var_1.size - 2;
            return 0;
        }
        else if ( var_3 >= var_2 )
        {
            self._id_125E7++;
            self.get_area_clear_alias = 0;
            return 1;
        }
    }
}

_id_12282( var_0 )
{
    if ( level.cloudorigin.bloadinghvt )
    {
        foreach ( var_0 in level.cloudorigin.paths )
        {
            if ( !istrue( var_0.farms2_gw_ambient_sound_load ) )
                return 0;
        }
    }

    return 1;
}

_id_13016( var_0, var_1 )
{
    level endon( "payloadComplete" );
    level endon( "game_ended" );
    self endon( "death" );
    var_2 = var_0._id_125E8[var_0._id_125E7];
    var_3 = var_2.points.size - 1;

    if ( var_1 )
        var_4 = 0;
    else
        var_4 = var_3;

    var_5 = var_1;

    for (;;)
    {
        self waittill( "trigger", var_6 );
        var_7 = var_0._id_125E7 == 0 && var_6 == 0;

        if ( !var_7 && var_6 == var_0.get_area_clear_alias )
            var_5 = !var_5;
        else
            var_5 = var_7 || var_6 > var_0.get_area_clear_alias;

        var_0.get_area_clear_alias = var_6;

        if ( isdefined( var_2.relic_squadlink_toofar_hud_logic[var_6] ) )
        {
            var_8 = var_2.relic_squadlink_toofar_hud_logic[var_6];
            var_9 = var_0.thermite_watchstucktoterrain[var_8];

            if ( istrue( var_9.fire_sfx_org ) && var_5 )
            {
                self.register_module_died_poorly_func = var_9;
                self.blockedorg = var_2.points[var_6];
            }
            else if ( !istrue( var_9.fire_sfx_org ) && var_5 )
                var_9 thermite_laststand_effects();
            else if ( !istrue( var_9.fire_sfx_org ) && !var_5 )
                var_9 thermite_linktostuck( 1 );
        }

        if ( var_7 || isdefined( var_2.registerbrgametypefunc[var_6] ) )
        {
            self.branalytics_circleenter = 1;

            if ( var_6 > var_4 && isdefined( var_2.registerbrgametypefunc[var_6] ) )
            {
                level thread scripts\mp\gametypes\br_quest_util::_id_12E81( self.origin, "dom" );
                support_box_delay_max_ammo_hint( var_2.registerbrgametypefunc[var_6], var_0 );
            }
        }
        else if ( var_6 <= 0 )
        {
            var_0._id_125E7--;
            var_0.get_area_clear_alias = var_0._id_125E8[var_0._id_125E7].points.size - 2;
            return 0;
        }
        else if ( var_6 >= var_3 )
        {
            var_0._id_125E7++;
            var_0.get_area_clear_alias = 0;
            return 1;
        }

        var_4 = var_6;
    }
}

_id_12FEF( var_0 )
{
    if ( !isdefined( self.initlocs_nonmorsephones ) )
        return 0;

    return self.initlocs_nonmorsephones.numtouching[var_0];
}

wait_in_spectate_for_time( var_0 )
{
    if ( !isdefined( var_0 ) )
        return 0;

    foreach ( var_2 in level.cloudorigin.paths )
    {
        if ( isdefined( var_2.trigger ) && var_0 istouching( var_2.trigger ) )
            return 1;
    }

    return 0;
}

_id_12A9D()
{
    level endon( "game_ended" );
    level notify( "trackPlayersPerPath" );
    level endon( "trackPlayersPerPath" );

    foreach ( var_1 in level.cloudorigin.paths )
        var_1.numplayers = [];

    var_3 = game["attackers"];

    for (;;)
    {
        foreach ( var_1 in level.cloudorigin.paths )
            var_1.numplayers[var_3] = 0;

        foreach ( var_7 in level.players )
        {
            if ( !isdefined( var_7 ) || !isalive( var_7 ) || var_7.team != var_3 )
                continue;

            var_8 = var_7 view_list();
            var_9 = var_7 viewmodel_demeanor();

            if ( isdefined( var_8 ) && var_9 > gettime() )
            {
                var_8.numplayers[var_3]++;
                continue;
            }

            var_10 = var_7 vehomn_updaterotationomnvarsperframeforclient();

            if ( isdefined( var_10 ) )
            {
                var_10.numplayers[var_3]++;
                var_7 waittill_trigger_player( var_10 );
                var_7 waittill_player_has_dropkit_marker();
            }
        }

        var_3 = mlgiconfullflag( var_3 );
        waitframe();
    }
}

vehomn_updaterotationomnvarsperframeforclient()
{
    var_0 = undefined;
    var_1 = undefined;

    if ( !isdefined( self.extractingplayers ) || self.extractingplayers.size == 0 )
        return;

    foreach ( var_3 in level.cloudorigin.paths )
    {
        var_4 = self.extractingplayers[var_3.label];
        var_5 = var_3.nodes[var_4];
        var_6 = distance2dsquared( var_5.origin, self.origin );
        var_7 = var_4;
        var_8 = var_6;
        var_9 = var_6;

        for ( var_10 = var_4 + 1; var_10 < var_3.nodes.size; var_10++ )
        {
            var_11 = var_3.nodes[var_10];
            var_12 = distance2dsquared( var_11.origin, self.origin );

            if ( var_12 < var_8 )
            {
                var_7 = var_10;
                var_8 = var_12;
            }

            if ( var_12 > var_9 )
                break;

            var_9 = var_12;
        }

        for ( var_10 = var_4 - 1; var_10 >= 0; var_10-- )
        {
            var_11 = var_3.nodes[var_10];
            var_12 = distance2dsquared( var_11.origin, self.origin );

            if ( var_12 < var_8 )
            {
                var_7 = var_10;
                var_8 = var_12;
            }

            if ( var_12 > var_9 )
                break;

            var_9 = var_12;
        }

        self.extractingplayers[var_3.label] = var_7;

        if ( !isdefined( var_0 ) || var_8 < var_1 )
        {
            var_0 = var_3;
            var_1 = var_8;
        }
    }

    return var_0;
}

waittill_player_has_dropkit_marker()
{
    var_0 = 3500;

    if ( getdvarint( "scr_br_payload_oob_far", 0 ) == 0 )
        return;

    if ( !scripts\mp\flags::gameflag( "infil_complete" ) )
        return;

    var_1 = view_list();
    var_2 = self.extractingplayers[var_1.label];
    var_3 = var_1.nodes[var_2];
    var_4 = undefined;
    var_5 = undefined;
    var_6 = undefined;

    if ( var_2 + 1 >= var_1.nodes.size )
    {
        var_6 = var_2 - 1;
        var_4 = pointonsegmentnearesttopoint( var_1.nodes[var_2].origin, var_1.nodes[var_6].origin, self.origin );
    }
    else if ( var_2 - 1 < 0 )
    {
        var_6 = var_2 + 1;
        var_4 = pointonsegmentnearesttopoint( var_1.nodes[var_2].origin, var_1.nodes[var_6].origin, self.origin );
    }
    else
    {
        var_7 = pointonsegmentnearesttopoint( var_1.nodes[var_2].origin, var_1.nodes[var_2 + 1].origin, self.origin );
        var_8 = pointonsegmentnearesttopoint( var_1.nodes[var_2].origin, var_1.nodes[var_2 - 1].origin, self.origin );
        var_9 = distance2dsquared( self.origin, var_7 );
        var_10 = distance2dsquared( self.origin, var_8 );

        if ( var_10 < var_9 )
        {
            var_4 = var_8;
            var_5 = var_10;
            var_6 = var_2 - 1;
        }
        else
        {
            var_4 = var_7;
            var_5 = var_9;
            var_6 = var_2 + 1;
        }
    }

    if ( !isdefined( var_5 ) )
        var_5 = distance2dsquared( self.origin, var_4 );

    var_11 = getdvarint( "scr_br_payload_max_dist_away", var_0 );
    var_12 = var_11 * var_11;
    var_13 = 0;

    if ( var_5 > var_12 )
        var_13 = 1;

    if ( var_13 && !isdefined( self.tv_station_boss_should_break_stealth_immediately ) )
    {
        var_14 = mlgiconfullflag( self.team );
        self.tv_station_boss_should_break_stealth_immediately = scripts\mp\utility\outline::outlineenableforteam( self, var_14, "outline_nodepth_red", "level_script" );
    }
    else if ( !var_13 && isdefined( self.tv_station_boss_should_break_stealth_immediately ) )
    {
        scripts\mp\utility\outline::outlinedisable( self.tv_station_boss_should_break_stealth_immediately, self );
        self.tv_station_boss_should_break_stealth_immediately = undefined;
    }
}

vehomn_updateomnvarsperframe()
{
    self endon( "endOOBFar" );
    self endon( "disconnect" );
    self waittill( "death" );
    self.tv_station_boss_should_break_stealth_immediately = undefined;
}

propabilitykeysvisible()
{
    if ( !istrue( level.cloudorigin.oncrateactivate ) )
        return;

    if ( level.mapname == "mp_br_mechanics" )
        scripts\mp\gametypes\br_payload_spawns_mp_br_mechanics::initspawns();
    else if ( level.mapname == "mp_don4" )
        scripts\mp\gametypes\br_payload_spawns_mp_don4::initspawns();

    if ( level.cloudorigin._id_12590[game["attackers"]].size == 0 || level.cloudorigin._id_12590[game["defenders"]].size == 0 )
        level.cloudorigin.oncrateactivate = 0;

    if ( level.cloudorigin.oncrateactivate )
    {
        _id_12208( game["attackers"] );
        _id_12208( game["defenders"] );
    }
}

itemname( var_0 )
{
    if ( !isdefined( var_0.angles ) )
        var_0.angles = ( 0, 0, 0 );

    var_1 = var_0.radius + 50;
    var_2 = anglestoforward( var_0.angles );
    var_0.kiosk_spent_total = var_0.origin + var_2 * var_1;
}

_id_12208( var_0 )
{
    var_1 = level.cloudorigin._id_12590[var_0];

    foreach ( var_3 in var_1 )
    {
        iswztrain( var_3 );
        itemname( var_3 );
    }

    if ( isdefined( level.cloudorigin._id_1274C ) )
    {
        var_1 = level.cloudorigin._id_1274C[var_0];

        foreach ( var_3 in var_1 )
        {
            iswztrain( var_3 );
            itemname( var_3 );
        }
    }
}

iswztrain( var_0 )
{
    var_0.extractingplayers = [];

    foreach ( var_2 in level.cloudorigin.paths )
    {
        var_3 = undefined;
        var_4 = undefined;
        var_5 = undefined;

        for ( var_6 = 0; var_6 < var_2.nodes.size; var_6++ )
        {
            var_7 = var_2.nodes[var_6];
            var_8 = distance2dsquared( var_7.origin, var_0.origin );

            if ( !isdefined( var_3 ) || var_8 < var_4 )
            {
                var_3 = var_6;
                var_4 = var_8;
            }

            if ( !isdefined( var_5 ) )
            {
                var_5 = var_8;
                continue;
            }

            if ( var_8 > var_5 )
                break;
        }

        var_0.extractingplayers[var_2.label] = var_3;
    }
}

_id_13282( var_0 )
{
    level endon( "game_ended" );
    scripts\mp\flags::gameflagwait( "infil_complete" );
    level.teamdata[var_0]["nextRespawn"] = 0;

    if ( level.teamdata[var_0]["respawnDelay"] == 0 )
        return;

    for (;;)
    {
        level.teamdata[var_0]["nextRespawn"] = gettime() + level.teamdata[var_0]["respawnDelay"] * 1000;
        wait( level.teamdata[var_0]["respawnDelay"] );
    }
}

node_set_children( var_0, var_1 )
{
    if ( level.teamdata[var_0]["respawnDelay"] == 0 )
        return 0;

    if ( !isdefined( var_1 ) )
        var_1 = level.teamdata[var_0]["nextRespawn"];

    var_2 = max( var_1 - gettime(), 0 );
    var_3 = int( var_2 / 1000 );
    return var_3;
}

controls_linkto_safe( var_0 )
{
    if ( scripts\mp\flags::gameflag( "prematch_done" ) && istrue( level.cloudorigin._id_11D10 ) )
        playerstreamoverheadview();

    return 1;
}

playerrespawn( var_0, var_1 )
{
    if ( !scripts\mp\flags::gameflag( "prematch_done" ) || !istrue( self.br_infilstarted ) || isdefined( self.cameraent ) )
        return 0;

    thread wam_failure_threshold( var_0 );
    return 1;
}

wam_failure_threshold( var_0 )
{
    level endon( "payloadComplete" );
    level endon( "game_ended" );
    self endon( "disconnect" );

    if ( !istrue( level.chopper_boss_combat ) )
        self.class = scripts\mp\gametypes\br::update_icon_for_bomb_case_detonator_holder();

    var_1 = level.teamdata[self.team]["nextRespawn"];
    var_2 = scripts\mp\utility\teams::getteamdata( self.team, "teamCount" );

    if ( var_2 > 1 && !isgameended() )
        thread scripts\mp\gametypes\br_spectate::spawnspectator( var_0, undefined, 1 );

    exittype();

    if ( isgameended() )
        level waittill( "forever" );

    self.waitingtospawn = 1;
    cp_dntsk_raid_specific_init( 0, var_1 );
    self.waitingtospawn = 0;
    thread scripts\mp\playerlogic::spawnplayer( undefined, 0 );
    self freezecontrols( 1 );

    if ( !istrue( level.skipprematchdropspawn ) )
        thread vehicleoccupants();

    while ( !isalive( self ) )
        waitframe();

    waitframe();
    vehomncontrols();
    scripts\mp\utility\outline::outlineenableforteam( self, self.team, "outline_depth_payload", "level_script" );
    var_3 = !self isplayerheadless();
    var_4 = gettime();

    if ( var_3 )
    {
        while ( isalive( self ) && isdefined( self.weaponlist ) && !self hasloadedviewweapons( self.weaponlist ) )
        {
            if ( var_4 + 3000 < gettime() )
                break;

            waitframe();
        }
    }

    self notify( "brWaitAndSpawnClientComplete" );
    self.waitingtospawn = 0;
    self freezecontrols( 0 );
    scripts\mp\gametypes\br::_id_12D28( self );
    scripts\mp\damage::resetplayervariables();
}

vehomncontrols()
{
    if ( getdvarint( "scr_br_payload_last_stand", 0 ) != 0 )
        scripts\mp\gametypes\br::obit_trigger_for_player( self );

    scripts\mp\gametypes\br_armor::obj_id( 1 );
    vehicle_playershouldignorecollisiondamage();
    scripts\mp\gametypes\br_public::vehicle_travel_player_disconnect_monitor();
    thread wam_sequence();
    thread wam_timer_between_each_node();
    self.scriptableinit = undefined;
}

_id_12599( var_0 )
{
    self endon( "disconnect" );
    self notify( "reset_timer" );
    waitframe();
    self setclientomnvar( "ui_privateevent_timer_type", 3 );
    var_1 = var_0;
    var_2 = gettime() + var_1 * 1000;
    self setclientomnvar( "ui_privateevent_timer", var_2 );
    scripts\engine\utility::_id_13142( var_0, "reset_timer", "death" );
    self setclientomnvar( "ui_privateevent_timer_type", 0 );
}

wam_sequence()
{
    self endon( "disconnect" );

    if ( !isdefined( self.scriptableinit ) )
        return;

    if ( getdvarint( "scr_br_payload_spawn_speed", 1 ) == 0 )
        return;

    if ( isbot( self ) )
        return;

    if ( self.team == game["defenders"] )
        return;

    var_0 = self.scriptableinit;

    if ( isplayer( var_0 ) || istrue( var_0.avangvel ) )
        return;

    var_1 = var_0;

    if ( destroycrateinbadtrigger( var_1 ) )
    {
        while ( isalive( self ) && !self isonground() )
            waitframe();
    }

    if ( !isalive( self ) )
        return;

    var_2 = 0;
    var_3 = getdvarint( "scr_br_payload_spawn_speed_time", 0 );

    if ( var_3 == 0 )
    {
        var_4 = getdvarint( "scr_br_payload_spawn_speed_boost", 290 );
        var_5 = var_1.vehicle;
        var_6 = distance( self.origin, var_5.origin );
        var_3 = var_6 / var_4 - getdvarfloat( "scr_br_payload_spawn_speed_boost_adj", 5 );

        if ( var_3 < 0 )
            var_3 = 0;
    }

    var_7 = getdvarfloat( "scr_br_payload_speed_mult", 0.4 );
    thread _id_12599( var_3 );
    var_8 = self.fastcrouchspeedmod;
    self.fastcrouchspeedmod = var_7;
    scripts\mp\weapons::updatemovespeedscale();
    self lerpfovbypreset( "zombiedefault" );

    if ( !scripts\mp\gametypes\br_public::pavelow_boss_health_bar() )
    {
        scripts\mp\utility\perk::giveperk( "specialty_sprintmelee" );
        scripts\mp\utility\perk::giveperk( "specialty_sprintads" );
        scripts\mp\utility\perk::giveperk( "specialty_marathon" );
    }

    while ( isalive( self ) && var_2 < var_3 )
    {
        if ( self issupersprinting() )
            self refreshsprinttime();

        wait 0.1;
        var_2 = var_2 + 0.1;
    }

    if ( !scripts\mp\gametypes\br_public::pavelow_boss_health_bar() )
    {
        _id_11E90( "specialty_sprintmelee" );
        _id_11E90( "specialty_sprintads" );
        _id_11E90( "specialty_marathon" );
    }

    self.fastcrouchspeedmod = var_8;
    scripts\mp\weapons::updatemovespeedscale();
    self lerpfovbypreset( "default_2seconds" );
}

_id_11E90( var_0 )
{
    if ( scripts\mp\utility\perk::_hasperk( var_0 ) )
        scripts\mp\utility\perk::removeperk( var_0 );
}

waittillmatchstarts()
{
    level endon( "payloadComplete" );
    level endon( "game_ended" );
    self endon( "disconnect" );
    var_0 = self.truckwarspawnlocations;

    if ( isbot( self ) )
    {
        if ( !isdefined( var_0 ) )
        {
            var_0 = mountain_one_death_func( "A" );
            waittill_trigger_player( var_0 );
        }

        return var_0;
    }

    if ( getdvarint( "debug_gsc_spawn_choice_enabled", 0 ) == 1 )
    {
        var_1 = scripts\mp\hud_util::createicon( "progress_bar_fill", 400, 35 );
        var_1.sort = 0;
        var_1.color = minigun_wait_between_shot_rounds( "lightblue" );
        var_1.archived = 0;
        var_1.alpha = 0.5;
        var_2 = [];
        var_3 = mountain_one_death_func( "A" );
        var_4 = undefined;
        var_5 = undefined;

        if ( isdefined( var_3 ) )
        {
            var_4 = scripts\mp\hud_util::createfontstring( "default", 2.0 );
            var_4.archived = 0;
            var_4.label = &"BR_PAYLOAD/SPAWN_A";
            var_4.path = var_3;
            var_4 thread playerexitsafearea( self, var_3 );

            if ( isdefined( var_0 ) && !isplayer( var_0 ) && var_3 == var_0 )
                var_1.dyn_door = var_4;

            var_2[var_2.size] = var_4;

            if ( level.cloudorigin._id_12510 && self.team == game["attackers"] )
            {
                var_5 = scripts\mp\hud_util::createfontstring( "default", 2.0 );
                var_5.archived = 0;
                var_5.label = &"BR_PAYLOAD/SPAWN_B_AIR";
                var_5.path = var_3._id_1252A;

                if ( isdefined( var_0 ) && !isplayer( var_0 ) && var_3._id_1252A == var_0 )
                    var_1.dyn_door = var_5;

                var_2[var_2.size] = var_5;
            }
        }

        var_6 = mountain_one_death_func( "B" );
        var_7 = undefined;
        var_8 = undefined;

        if ( isdefined( var_6 ) )
        {
            var_7 = scripts\mp\hud_util::createfontstring( "default", 2.0 );
            var_7.archived = 0;
            var_7.label = &"BR_PAYLOAD/SPAWN_B";
            var_7.path = var_6;
            var_7 thread playerexitsafearea( self, var_6 );

            if ( isdefined( var_0 ) && !isplayer( var_0 ) && var_6 == var_0 )
                var_1.dyn_door = var_7;

            var_2[var_2.size] = var_7;

            if ( level.cloudorigin._id_12510 && self.team == game["attackers"] )
            {
                var_8 = scripts\mp\hud_util::createfontstring( "default", 2.0 );
                var_8.archived = 0;
                var_8.label = &"BR_PAYLOAD/SPAWN_B_AIR";
                var_8.path = var_6._id_1252A;

                if ( isdefined( var_0 ) && !isplayer( var_0 ) && var_6._id_1252A == var_0 )
                    var_1.dyn_door = var_8;

                var_2[var_2.size] = var_8;
            }
        }

        var_9 = [];

        if ( level.cloudorigin._id_1262C )
        {
            var_10 = scripts\mp\gametypes\br_public::munitions_override_time( self.team, self.squadindex );

            foreach ( var_12 in var_10 )
            {
                if ( var_12 == self )
                    continue;

                var_13 = scripts\mp\hud_util::createfontstring( "default", 1.5 );
                var_13.archived = 0;
                var_13 setplayernamestring( var_12 );
                var_13.player = var_12;
                var_13.zlimit = scripts\mp\hud_util::createfontstring( "default", 1.5 );
                var_13.zlimit.archived = 0;
                var_9[var_9.size] = var_13;
            }
        }

        if ( !isdefined( var_1.dyn_door ) )
            var_1.dyn_door = var_2[0];

        var_15 = undefined;
        scripts\mp\utility\player::_freezecontrols( 0, 1, "payload_choice" );
        var_16 = 250;
        var_17 = 300;
        var_18 = undefined;
        var_19 = undefined;
        var_20 = undefined;

        while ( !isdefined( var_15 ) )
        {
            var_21 = _id_12403( var_2, var_9 );
            var_22 = self getnormalizedmovement();
            var_23 = var_22[0] > 0;
            var_24 = var_22[0] < 0;

            if ( isdefined( var_19 ) )
            {
                if ( gettime() >= var_19 || !var_23 && !var_24 )
                    var_19 = undefined;
            }
            else if ( var_23 )
                var_20 = -1;
            else if ( var_24 )
                var_20 = 1;

            for ( var_25 = 0; var_25 < var_21.size; var_25++ )
            {
                var_26 = var_21[var_25];

                if ( var_1.dyn_door == var_26 )
                {
                    if ( !isdefined( var_26.path ) && !isdefined( var_26.player ) )
                    {
                        var_1.dyn_door = var_2[0];
                        var_27 = undefined;
                        var_28 = undefined;
                        var_18 = undefined;
                        var_20 = undefined;
                    }
                    else if ( isdefined( var_20 ) )
                    {
                        var_29 = var_25 + var_20;

                        if ( var_29 < 0 )
                            var_29 = var_21.size - 1;
                        else if ( var_29 >= var_21.size )
                            var_29 = 0;

                        var_30 = var_21[var_29];
                        var_1.dyn_door = var_30;
                        var_1 scripts\mp\hud_util::setpoint( "CENTER", "CENTER", 0, var_30.yoffset );
                        var_20 = undefined;
                        var_27 = undefined;
                        var_28 = undefined;
                        var_19 = gettime() + var_17;
                    }
                    else
                        var_1 scripts\mp\hud_util::setpoint( "CENTER", "CENTER", 0, var_26.yoffset );

                    break;
                }
            }

            _id_12DD2( var_2, var_9, var_1 );
            _id_12878( var_1.dyn_door.path );
            var_20 = undefined;

            if ( self usebuttonpressed() )
            {
                if ( isdefined( var_18 ) && gettime() >= var_18 )
                {
                    var_31 = var_1.dyn_door;

                    if ( isdefined( var_31.path ) && !istrue( var_31.path.farms2_gw_ambient_sound_load ) )
                        var_15 = var_31.path;
                    else if ( isdefined( var_31.player ) && isalive( var_31.player ) && !issquadmateindanger( var_31.player ) )
                        var_15 = var_31.player;
                }
                else if ( !isdefined( var_18 ) )
                    var_18 = gettime() + var_16;
            }
            else
                var_18 = undefined;

            waitframe();
        }

        self notify( "spawnChoice" );
        var_1 destroy();

        foreach ( var_33 in var_2 )
            var_33 destroy();

        foreach ( var_33 in var_9 )
        {
            var_33.zlimit destroy();
            var_33 destroy();
        }

        return var_15;
    }
    else
    {
        if ( istrue( level.cloudorigin._id_11D10 ) )
            thread startspectatorview();

        var_15 = undefined;

        while ( !isdefined( var_15 ) )
        {
            var_3 = mountain_one_death_func( "A" );
            thread _id_1252B( self, var_3 );
            var_6 = mountain_one_death_func( "B" );
            thread _id_1252B( self, var_6 );
            self waittill( "luinotifyserver", var_37, var_38 );

            if ( var_37 == "spawn_choice_path" )
            {
                if ( 0 == var_38 )
                    var_0 = mountain_one_death_func( "A" );
                else
                    var_0 = mountain_one_death_func( "B" );

                var_15 = var_0;
                _id_1213F( 0 );
            }
            else if ( var_37 == "spawn_hover_path" )
            {
                if ( 0 == var_38 )
                    var_0 = mountain_one_death_func( "A" );
                else
                    var_0 = mountain_one_death_func( "B" );

                thread kiosksearchradiusmin( var_0 );
            }
            else if ( var_37 == "spawn_choice_player" )
            {
                var_15 = scripts\mp\playerlogic::getplayerfromclientnum( var_38 );
                _id_1213F( 0 );
            }

            if ( isdefined( var_15 ) )
            {
                self notify( "spawnChoice" );
                return var_15;
            }
        }
    }
}

kiosksearchradiusmin( var_0 )
{
    self notify( "followTrackCamThink" );
    self endon( "followTrackCamThink" );
    self endon( "spawnChoice" );

    if ( !isdefined( var_0 ) )
        return;

    var_1 = scripts\mp\gametypes\br::get_int_or_0( self.kiosksetupfiresaleforplayer ) - gettime();

    if ( var_1 > 0 )
        wait( var_1 );

    self.kiosksetupfiresaleforplayer = gettime() + 250;
    _id_12878( var_0 );
}

_id_12403( var_0, var_1 )
{
    var_2 = -60;
    var_3 = 30;
    var_4 = var_2;
    var_5 = [];

    foreach ( var_7 in var_0 )
    {
        var_7 scripts\mp\hud_util::setpoint( "CENTER", "CENTER", 0, var_4 );
        var_5[var_5.size] = var_7;
        var_4 = var_4 + var_3;

        foreach ( var_9 in var_1 )
        {
            if ( !isdefined( var_9.player ) )
                continue;

            var_10 = var_9.player view_list();

            if ( var_10 == var_7.path )
            {
                var_9 scripts\mp\hud_util::setpoint( "LEFT", "CENTER", 0, var_4 );
                var_9.zlimit scripts\mp\hud_util::setpoint( "RIGHT", "CENTER", 0, var_4 );
                var_5[var_5.size] = var_9;
                var_4 = var_4 + var_3;
            }
        }
    }

    return var_5;
}

_id_12DD2( var_0, var_1, var_2 )
{
    var_3 = -60;
    var_4 = 30;
    var_5 = 0;

    foreach ( var_7 in var_1 )
    {
        if ( !isdefined( var_7.player ) )
        {
            var_7.alpha = 0;
            var_7.zlimit.alpha = 0;
            continue;
        }

        if ( !isalive( var_7.player ) )
        {
            var_7.color = ( 1, 0, 0 );
            var_7.zlimit.color = ( 1, 0, 0 );
            var_7.zlimit.label = &"BR_PAYLOAD/SPAWN_DEAD";
            continue;
        }

        if ( issquadmateindanger( var_7.player ) )
        {
            var_7.color = ( 1, 0, 0 );
            var_7.zlimit.color = ( 1, 0, 0 );
            var_7.zlimit.label = &"BR_PAYLOAD/SPAWN_COMBAT";
            continue;
        }

        var_7.color = ( 0, 1, 1 );
        var_7.zlimit.color = ( 1, 1, 1 );

        if ( var_2.dyn_door == var_7 )
        {
            var_7.zlimit.label = &"BR_PAYLOAD/SPAWN_VALID_HOLD";
            var_5 = 1;
            continue;
        }

        var_7.zlimit.label = &"BR_PAYLOAD/SPAWN_VALID";
    }

    foreach ( var_10 in var_0 )
    {
        var_11 = !istrue( var_10.path.farms2_gw_ambient_sound_load );

        if ( !var_11 )
            var_10.color = ( 1, 0, 0 );

        if ( istrue( var_10.path.avangvel ) && var_10.path.path.label == "A" )
        {
            if ( var_2.dyn_door == var_10 && var_11 )
                var_10.label = &"BR_PAYLOAD/SPAWN_A_AIR_HOLD";
            else
                var_10.label = &"BR_PAYLOAD/SPAWN_A_AIR";

            continue;
        }

        if ( istrue( var_10.path.avangvel ) && var_10.path.path.label == "B" )
        {
            if ( var_2.dyn_door == var_10 && var_11 )
                var_10.label = &"BR_PAYLOAD/SPAWN_B_AIR_HOLD";
            else
                var_10.label = &"BR_PAYLOAD/SPAWN_B_AIR";

            continue;
        }

        if ( var_10.path.label == "A" )
        {
            if ( var_2.dyn_door == var_10 && var_11 )
                var_10.label = &"BR_PAYLOAD/SPAWN_A_HOLD";
            else
                var_10.label = &"BR_PAYLOAD/SPAWN_A";

            continue;
        }

        if ( var_10.path.label == "B" )
        {
            if ( var_2.dyn_door == var_10 && var_11 )
            {
                var_10.label = &"BR_PAYLOAD/SPAWN_B_HOLD";
                continue;
            }

            var_10.label = &"BR_PAYLOAD/SPAWN_B";
        }
    }
}

issquadmateindanger( var_0 )
{
    var_1 = 5000;
    var_2 = 3000;
    var_3 = 450;
    var_4 = 200;
    var_5 = gettime();

    if ( isdefined( var_0 ) && ( isdefined( var_0.lastdamagetime ) && var_0.lastdamagetime + var_1 > var_5 ) || isdefined( var_0.lasttimedamaged ) && var_0.lasttimedamaged + var_1 > var_5 )
        return 1;

    if ( var_0 isonladder() )
        return 1;

    var_0 scripts\mp\battlechatter_mp::validaterecentattackers();

    if ( isdefined( var_0.recentattackers ) && var_0.recentattackers.size > 0 )
        return 1;

    if ( isdefined( var_0.secondwindthink ) && var_0.secondwindthink + var_2 > var_5 )
        return 1;

    if ( isdefined( var_0.secondwindthink ) && isdefined( var_0.secondsbeforeplacementupdates ) && var_0.secondwindthink > var_0.secondsbeforeplacementupdates || isdefined( var_0.secondwindthink ) && !isdefined( var_0.secondsbeforeplacementupdates ) )
        return 1;

    var_6 = var_0 getclosestenemy( var_3, var_4, 1 );

    if ( isdefined( var_6 ) )
        return 1;

    if ( isdefined( var_0.vehicle ) )
        return 1;

    if ( var_0 scripts\mp\outofbounds::istouchingoobtrigger() )
        return 1;

    var_7 = var_0 view_list();

    if ( isdefined( var_7 ) )
    {
        var_8 = var_7.vehicle;

        if ( var_0 istouching( var_7.trigger ) && var_8.status == "contested" )
            return 1;
    }

    if ( !var_0 isonground() )
    {
        var_9 = scripts\mp\gametypes\br_public::idle_sfx( var_0.origin, 0, -200 );

        if ( var_9["fraction"] == 1 )
            return 1;
    }

    return 0;
}

mountain_one_death_func( var_0 )
{
    foreach ( var_2 in level.cloudorigin.paths )
    {
        if ( var_2.label == var_0 )
            return var_2;
    }

    return undefined;
}

morsenumber( var_0 )
{
    foreach ( var_2 in level.cloudorigin.paths )
    {
        if ( var_0 != var_2 )
            return var_2;
    }

    return undefined;
}

truck_minimap( var_0 )
{
    var_1 = morsenumber( var_0 );

    if ( var_1.dropbrweapon + 1 < var_0.dropbrweapon )
    {
        foreach ( var_3 in level.players )
        {
            if ( !isalive( var_3 ) )
                continue;

            var_4 = var_3 view_list();

            if ( var_4 == var_0 && !isdefined( var_3.tv_station_intro_camera ) )
                var_3 thread votesys_think( var_1 );
        }
    }
}

votesys_think( var_0 )
{
    var_1 = level.cloudorigin.truck_minimap;
    var_2 = gettime() + var_1 * 1000;
    scripts\mp\utility\lower_message::_id_1212F( "br_payload_redeploy", var_2, var_1 );
    wait( var_1 );
    votesys_new( var_0 );
}

votesys_new( var_0 )
{
    var_1 = "ui_br_open_purchase_killstreak";
    var_2 = 0;
    var_3 = "ui_br_purchase_killstreak_response";
    var_4 = 1;
    self setclientomnvar( var_3, var_4 );
    self setclientomnvar( var_1, var_2 );
    scripts\cp_mp\utility\player_utility::_freezecontrols( 1, undefined, "kiosk" );
    var_5 = var_0;

    if ( !isdefined( var_5 ) )
        var_5 = waittillmatchstarts();

    if ( isplayer( var_5 ) )
        var_6 = var_5 view_list();
    else if ( istrue( var_5.avangvel ) )
        var_6 = var_5.path;
    else
        var_6 = var_5;

    self.scriptableinit = var_5;
    waittill_trigger_player( var_6 );

    if ( isdefined( self ) )
    {
        var_7 = vip_failquest( var_5 );
        self notify( "_watchToAutoCloseMenu_end" );
        waittill_any_8( var_7 );
        scripts\cp_mp\utility\player_utility::_freezecontrols( 0, 1, "kiosk" );
        return 1;
    }
    else
        return 0;
}

waittill_any_8( var_0 )
{
    var_1 = self;
    level endon( "payloadComplete" );
    level endon( "game_ended" );
    var_1 endon( "disconnect" );
    var_2 = var_1 scripts\mp\gametypes\br_gulag::waittill_any_2( var_0 );
    var_3 = 1.0;
    scripts\mp\gametypes\br::create_name_fx( var_0.origin[0], var_0.origin[1], level.getfilterformodifier );
    self setclientomnvar( "ui_br_transition_type", 2 );
    var_1 playerhide();
    wait( var_3 );
    scripts\mp\gametypes\br_public::waittill_any_return_4();
    var_1 scripts\mp\gametypes\br_gulag::watch_for_damage_on_trap( var_0.origin, var_0.angles );
    scripts\cp_mp\utility\player_utility::_freezecontrols( 1, undefined, "redeploy" );
    waitframe();
    var_1 scripts\mp\gametypes\br_public::watch_for_players_ledgespawners();
    var_1 scripts\mp\gametypes\br_public::vehicle_travel_player_disconnect_monitor();
    scripts\cp_mp\utility\player_utility::_freezecontrols( 0, 1, "redeploy" );
    var_1 playershow();
    var_1 setclientomnvar( "ui_br_transition_type", 0 );
    var_1 setclientomnvar( "ui_show_spectateHud", -1 );

    if ( self.team == game["attackers"] && level.cloudorigin._id_12511 > -1 )
        thread vehicleoccupants();

    vehomncontrols();
}

playerexitsafearea( var_0, var_1 )
{
    level endon( "game_ended" );
    var_0 endon( "spawnChoice" );
    var_0 endon( "disconnect" );

    if ( !isdefined( var_1 ) )
        return;

    var_2 = -1;

    for (;;)
    {
        if ( var_2 != var_1.numplayers[var_0.team] )
        {
            self setvalue( var_1.numplayers[var_0.team] );
            var_2 = var_1.numplayers[var_0.team];
            _id_12145( var_1.script_index, var_1.numplayers[var_0.team] );
        }

        waitframe();
    }
}

_id_1252B( var_0, var_1 )
{
    level endon( "game_ended" );
    var_0 endon( "spawnChoice" );
    var_0 endon( "disconnect" );

    if ( !isdefined( var_1 ) )
        return;

    var_2 = -1;

    for (;;)
    {
        if ( var_2 != var_1.numplayers[var_0.team] )
        {
            var_2 = var_1.numplayers[var_0.team];
            _id_12145( var_1.script_index, var_1.numplayers[var_0.team] );
        }

        waitframe();
    }
}

vehicleoccupants()
{
    self endon( "disconnect" );
    self endon( "payload_remove_spawn_protection_flying" );

    while ( self.sessionstate != "playing" )
        waitframe();

    thread scripts\cp_mp\parachute::startfreefall( 0, 1, undefined, undefined, 1, 0 );
    self skydive_deployparachute();

    if ( scripts\mp\flags::gameflag( "prematch_done" ) && level.cloudorigin._id_12513 )
    {
        self.tv_station_mindia_spawner_think = 1;
        thread wam_interaction_structs();
        var_0 = gettime() + level.cloudorigin._id_12513 * 1000;

        while ( !self isonground() && self playerads() < 0.5 && gettime() < var_0 )
            waitframe();

        self.tv_station_mindia_spawner_think = undefined;
        self notify( "payload_remove_spawn_protection_flying" );
    }
}

wam_interaction_structs()
{
    self endon( "death_or_disconnect" );
    self endon( "payload_remove_spawn_protection_flying" );
    self waittill( "weapon_fired" );
    self.tv_station_mindia_spawner_think = undefined;
    self notify( "payload_remove_spawn_protection_flying" );
}

course_triggers_expl()
{
    scripts\mp\gametypes\br::onspawnplayer();

    if ( !scripts\mp\flags::gameflag( "prematch_done" ) )
        scripts\mp\gametypes\br_armor::obj_id( 1 );
}

cp_dntsk_raid_specific_init( var_0, var_1 )
{
    var_2 = 4.0;
    var_3 = 3.0;
    var_4 = var_2 + var_3;

    if ( !scripts\mp\flags::gameflag( "prematch_done" ) )
    {
        scripts\mp\gametypes\br::cp_dntsk_raid_specific_init( var_0 );
        return;
    }

    if ( self isplayerheadless() )
    {
        self setclientomnvar( "ui_br_extended_load_screen", 0 );
        return;
    }

    self clearsoundsubmix( "fade_to_black_all_except_music_and_scripted5", 1 );

    if ( isgameended() )
        level waittill( "forever" );

    thread scripts\mp\gametypes\br::cp_dwn_twn_2_sound_load();

    if ( !isdefined( self.propgetlocation ) )
    {
        if ( !isdefined( var_1 ) )
            var_1 = 0;

        var_5 = node_set_children( self.team, var_1 );
        var_6 = var_5 > 0;
        var_7 = undefined;
        var_8 = max( var_5 - var_4, 0 );

        if ( var_6 )
        {
            var_7 = var_5 * 1000;
            var_9 = scripts\mp\utility\teams::getteamdata( self.team, "teamCount" );

            if ( var_9 == 1 )
            {
                self setclientomnvar( "ui_show_spectateHud", self getentitynumber() );
                scripts\mp\gametypes\br_spectate::vehicle_travel_player_connect_monitor();
                scripts\mp\gametypes\br::spawnintermission( self.origin + ( 0, 0, 100 ), self.angles );
                scripts\mp\spectating::setdisabled();
                scripts\mp\utility\lower_message::setlowermessageomnvar( 9, int( gettime() + var_7 ) );
            }

            scripts\mp\utility\lower_message::setlowermessageomnvar( 9, int( gettime() + var_7 ) );
            wait( var_8 );
        }

        var_10 = gettime();
        var_11 = waittillmatchstarts();

        if ( isplayer( var_11 ) )
        {
            var_12 = var_11 view_list();
            var_11 thread scripts\mp\rank::giverankxp( "br_payload_squadmate_redeploy", 20 );
            var_11 thread scripts\mp\rank::scoreeventpopup( "br_payload_squadmate_redeploy" );
        }
        else if ( istrue( var_11.avangvel ) )
            var_12 = var_11.path;
        else
            var_12 = var_11;

        if ( istrue( var_12.farms2_gw_ambient_sound_load ) )
        {
            var_12 = morsenumber( var_12 );
            var_11 = var_12;

            if ( istrue( var_12.farms2_gw_ambient_sound_load ) )
                level waittill( "forever" );
        }

        self.scriptableinit = var_11;
        waittill_trigger_player( var_12 );
        var_13 = ( gettime() - var_10 ) / 1000.0;
        watch_bullet_count( var_11, var_8, var_13, var_5, var_6, var_7 );
    }
    else
    {
        self.propgetlocation = undefined;
        scripts\mp\gametypes\br_public::watch_for_players_ledgespawners();
    }

    scripts\mp\utility\lower_message::setlowermessageomnvar( 0 );
    self freezecontrols( 0 );
}

watch_bullet_count( var_0, var_1, var_2, var_3, var_4, var_5 )
{
    level endon( "payloadComplete" );
    level endon( "game_ended" );
    self notify( "playerStreamRespawn" );
    self endon( "playerStreamRespawn" );
    self.tv_station_intro_camera = 1;
    self.zombierespawning = vip_failquest( var_0 );

    if ( isdefined( self.zombierespawning ) )
        self.zombierespawning.index = -1;

    var_6 = getdvarint( "scr_br_drop_prespawn_timeout_ms", 9000 );
    var_7 = self.zombierespawning.origin;
    scripts\mp\gametypes\br_public::wassquadspawned( var_7, var_6, 1, 0, var_5 );
    var_8 = 1.0;
    var_9 = 0.25;
    var_10 = var_8 - var_9;
    thread scripts\mp\gametypes\br_gulag::fadeoutin( var_8 );
    wait( var_10 );
    scripts\mp\gametypes\br_spectate::vehicle_travel_player_connect_monitor();
    scripts\mp\gametypes\br::spawnintermission( var_7, self.zombierespawning.angles );
    scripts\mp\spectating::setdisabled();
    scripts\mp\gametypes\br::create_name_fx( var_7[0], var_7[1], level.getfilterformodifier );
    self setclientomnvar( "ui_br_transition_type", 2 );
    wait( var_9 );

    if ( var_4 )
    {
        var_11 = max( var_3 - var_1 - var_2 - var_8, 0 );
        wait( var_11 );

        if ( self.tv_station_intro_camera > 1 )
            scripts\mp\gametypes\br_public::watch_for_players_ledgespawners();
        else
            scripts\mp\gametypes\br_public::vehicle_travel_player_disconnect_monitor();
    }
    else
        scripts\mp\gametypes\br_public::watch_for_players_ledgespawners();

    self setclientomnvar( "ui_show_spectateHud", -1 );
    self.tv_station_intro_camera = undefined;
}

toggle_plane_combat_global_settings()
{
    if ( istrue( game["switchedsides"] ) || scripts\mp\flags::gameflag( "infil_complete" ) )
    {
        var_0 = munition_source_getridof( self.team, self.squadindex );
        var_1 = level.cloudorigin.paths[var_0];
        waittill_trigger_player( var_1 );
        self._id_12584 = vip_failquest( var_1 );
        return self._id_12584;
    }
}

destroycrateinbadtrigger( var_0 )
{
    if ( level.cloudorigin._id_12511 < 0 )
        return 0;

    if ( !isdefined( var_0.dropbrweapon ) )
        return 1;

    return var_0.dropbrweapon <= level.cloudorigin._id_12511;
}

vip_failquest( var_0 )
{
    var_1 = var_0;

    if ( isplayer( var_0 ) )
        var_1 = var_0 view_list();
    else if ( istrue( var_0.avangvel ) )
        var_1 = var_0.path;

    var_2 = self.team == game["attackers"] && destroycrateinbadtrigger( var_1 ) || istrue( var_0.avangvel );

    if ( level.cloudorigin.oncrateactivate && !var_2 )
    {
        if ( isplayer( var_0 ) )
        {
            vehicle_watchmarkedtankdeath( var_0 );
            [var_4, var_5] = var_0 vfx_htown_stab_blink_3( var_0.origin, var_0.angles );
        }
        else
            var_4 = vfx_htown_stab_blink_1( var_1 );

        if ( isdefined( var_4 ) )
            return var_4;
    }

    var_6 = var_1._id_125E8[var_1._id_125E7].points[var_1.get_area_clear_alias];

    if ( var_2 )
        [var_8, var_9] = vip_onentergulag( var_1 );
    else if ( level.cloudorigin._id_11A88 )
        [var_8, var_9] = vindia_assault3_check_size( var_1 );
    else
    {
        var_11 = var_1._id_125E8[var_1._id_125E7].points[var_1.get_area_clear_alias + 1];
        var_12 = vectornormalize( var_11 - var_6 );

        if ( self.team == game["defenders"] )
        {
            var_13 = level.cloudorigin._id_1253C;
            var_9 = level.cloudorigin._id_12561;
            var_14 = level.cloudorigin._id_1258A;
        }
        else
        {
            var_13 = level.cloudorigin._id_1253B;
            var_9 = level.cloudorigin._id_12560;
            var_14 = level.cloudorigin._id_12589;
            var_12 = var_12 * -1;
        }

        var_15 = var_6 + var_12 * var_13;
        var_16 = ( 0, randomintrange( 0, 360 ), 0 );
        var_17 = randomfloat( var_14 );
        var_18 = anglestoforward( var_16 ) * -1;
        var_19 = var_18 * var_17;
        var_8 = var_15 + var_19;
    }

    if ( !scripts\mp\gametypes\br_circle::reset_vandalize_nodes( var_8, 0 ) )
    {
        var_8 = scripts\mp\gametypes\br_c130::_id_12375( var_6, var_8 );
        var_20 = vectornormalize( var_6 - var_8 );
        var_8 = var_8 + var_20 * 100;
    }

    if ( level.cloudorigin.players_camera_fly_to_start_pos )
    {
        var_21 = physics_createcontents( [ "physicscontents_playertrigger" ] );
        var_22 = scripts\engine\trace::ray_trace_ents( var_8, var_6, [ var_1.players_camera_fly_to_start_pos ], var_21 );

        if ( var_22["fraction"] < 1.0 )
            var_8 = var_22["position"];
    }

    var_8 = scripts\mp\gametypes\br_public::idflags_penetration_player_only( var_8 );
    var_16 = vectortoangles( var_6 - var_8 );
    var_4 = spawnstruct();
    var_4.origin = var_8 + ( 0, 0, var_9 );
    var_4.angles = var_16;
    var_4.height = var_9;
    return var_4;
}

vip_onentergulag( var_0 )
{
    var_1 = 21;
    var_2 = 11;
    var_3 = 50;
    var_4 = isdefined( level.cloudorigin._id_1274C ) && isdefined( self.cameraent );
    var_5 = var_2;

    if ( var_4 )
        var_5 = var_1;

    var_6 = vfx_htown_stab_blink_1( var_0, 1, var_5 );
    var_7 = var_0.spawncount[self.team];
    var_8 = var_7 % 2 == 0;
    var_9 = int( var_7 / 2 );
    var_10 = var_9 * var_3;
    var_11 = var_6.origin;

    if ( var_8 )
    {
        var_12 = anglestoright( var_6.angles );
        var_11 = var_6.origin + var_12 * var_10;
    }
    else
    {
        var_13 = anglestoleft( var_6.angles );
        var_11 = var_6.origin + var_13 * var_10;
    }

    return [ ( var_11[0], var_11[1], 0 ), level.cloudorigin._id_12560 ];
}

vindia_assault3_check_size( var_0 )
{
    var_1 = 20;
    var_2 = 1;
    var_3 = getdvarfloat( "scr_br_payload_spawn_degrees", var_1 );
    var_4 = getdvarfloat( "scr_br_payload_spawn_degrees", var_2 );
    var_5 = var_0._id_125E8[var_0._id_125E7].points[var_0.get_area_clear_alias];

    if ( !isdefined( var_0._id_12512 ) || var_0._id_12512 != var_0.get_area_clear_alias )
    {
        var_6 = var_0._id_125E8[var_0._id_125E7].points[var_0.get_area_clear_alias + 1];
        var_7 = vectornormalize( var_6 - var_5 );
        var_0._id_12512 = var_0.get_area_clear_alias;
        var_0._id_125AC = vectortoyaw( var_7 );
        var_0._id_125AB = vectortoyaw( -1 * var_7 );
        var_0._id_125AE = -1 * var_3;
        var_0._id_125AD = -1 * var_3;
    }

    if ( self.team == game["defenders"] )
    {
        var_8 = level.cloudorigin._id_1253C;
        var_9 = level.cloudorigin._id_12561;
        var_10 = level.cloudorigin._id_1258A;
        var_11 = var_0._id_125AC + var_0._id_125AE;
        var_0._id_125AE = var_0._id_125AE + var_4;

        if ( var_0._id_125AE > var_3 )
            var_0._id_125AE = -1 * var_3;
    }
    else
    {
        var_8 = level.cloudorigin._id_1253B;
        var_9 = level.cloudorigin._id_12560;
        var_10 = level.cloudorigin._id_12589;
        var_11 = var_0._id_125AB + var_0._id_125AD;
        var_0._id_125AD = var_0._id_125AD + var_4;

        if ( var_0._id_125AD > var_3 )
            var_0._id_125AD = -1 * var_3;
    }

    var_12 = var_5[0] + var_8 * cos( var_11 );
    var_13 = var_5[1] + var_8 * sin( var_11 );
    return [ ( var_12, var_13, 0 ), var_9 ];
}

vfx_htown_stab_blink_1( var_0, var_1, var_2 )
{
    var_3 = self.team;
    var_4 = isdefined( level.cloudorigin._id_1274C ) && isdefined( self.cameraent );

    if ( isdefined( var_0.dropbrweapon ) )
        var_5 = var_0.dropbrweapon;
    else
        var_5 = 0;

    var_6 = var_0.get_actual_grenade_name;

    if ( !isdefined( var_0._id_12590[var_3] ) || var_5 != var_0._id_12528[var_3] || !var_4 && istrue( var_0._id_1274B ) )
    {
        if ( var_4 )
        {
            var_0._id_12590[var_3] = scripts\engine\utility::array_randomize( modeupdateloadoutclass( var_3, var_6 ) );
            var_0._id_1274B = 1;
        }
        else
        {
            var_0._id_12590[var_3] = scripts\engine\utility::array_randomize( modetype( var_3, var_6, var_5 ) );
            var_0._id_1274B = 0;
        }

        if ( var_0._id_12590[var_3].size == 0 )
        {
            iprintlnbold( "Spawns not setup for this path" );
            return;
        }

        var_0._id_12564[var_3] = randomint( var_0._id_12590[var_3].size );
        var_0.spawncount[var_3] = 0;
        var_0.spawntime[var_3] = gettime();
        var_0._id_12528[var_3] = var_5;
    }

    if ( var_0._id_12590[var_3].size == 0 )
        iprintlnbold( "Spawns not setup for this path" );
    else
    {
        var_7 = var_0._id_12564[var_3];
        var_8 = var_0._id_12590[var_3][var_7];

        if ( !isdefined( var_2 ) )
        {
            var_2 = level.cloudorigin.oncrankedhit;

            if ( isdefined( var_8.radius ) && var_8.radius < 200 )
                var_2 = var_2 / 2;
        }

        if ( var_0.spawntime[var_3] + 3000 < gettime() || var_0.spawncount[var_3] >= var_2 )
        {
            var_0.spawncount[var_3] = 0;
            var_0._id_12564[var_3]++;

            if ( var_0._id_12564[var_3] >= var_0._id_12590[var_3].size )
                var_0._id_12564[var_3] = 0;

            var_7 = var_0._id_12564[var_3];
            var_8 = var_0._id_12590[var_3][var_7];
        }

        if ( !isdefined( var_8.angles ) )
            var_8.angles = ( 0, 0, 0 );

        vehicle_watchmarkedtankdeath( var_8 );

        if ( istrue( var_1 ) )
        {
            var_0.spawntime[var_3] = gettime();
            var_0.spawncount[var_3] = var_0.spawncount[var_3] + 1;
            return var_8;
        }

        [var_10, var_11] = vfx_htown_stab_blink_3( var_8.origin, var_8.angles, var_0.spawncount[var_3] );
        var_12 = var_8.kiosk_spent_total - var_10.origin;
        var_10.angles = vectortoangles( var_12 );
        var_0.spawntime[var_3] = gettime();
        var_0.spawncount[var_3] = var_11 + 1;
    }
}

vfx_htown_stab_blink_3( var_0, var_1, var_2, var_3 )
{
    var_4 = 32;
    var_5 = 8;
    var_6 = 50;
    var_7 = 20;
    var_8 = 5;
    var_9 = -200;

    if ( !isdefined( var_2 ) )
        var_2 = 0;

    var_10 = scripts\engine\trace::create_contents( 1, 1, 1, 1, 0, 1, 1 );
    var_11 = isscriptabledefined() && getdvarint( "scr_br_payload_spawn_navmesh", 1 );
    var_12 = 0;
    var_13 = 0;
    var_14 = var_2;

    for (;;)
    {
        var_15 = modespawnendofgame( var_0, var_1[1], var_14 );

        if ( var_11 && !ispointonnavmesh( var_15 ) )
            var_15 = getclosestpointonnavmesh( var_15 );

        var_16 = var_15 + ( 0, 0, var_7 );
        var_17 = var_15 + ( 0, 0, var_9 );
        var_18 = scripts\engine\trace::player_trace( var_16, var_17, var_1, self, var_10 );
        var_12++;

        if ( var_18["fraction"] == 0 )
        {
            if ( !istrue( var_3 ) && var_12 >= var_5 )
            {
                var_12 = 0;
                waitframe();
            }

            var_16 = var_15 + ( 0, 0, var_6 );
            var_17 = var_15 + ( 0, 0, var_9 );
            var_18 = scripts\engine\trace::player_trace( var_16, var_17, var_1, self, var_10 );
            var_12++;
        }

        if ( var_18["fraction"] == 0 )
        {
            if ( !istrue( var_3 ) && var_12 >= var_5 )
            {
                var_12 = 0;
                waitframe();
            }

            var_16 = var_15 + ( 0, 0, var_8 );
            var_17 = var_15 + ( 0, 0, var_9 );
            var_18 = scripts\engine\trace::player_trace( var_16, var_17, var_1, self, var_10 );
            var_12++;
        }

        if ( var_18["fraction"] > 0 && var_18["fraction"] != 1 )
        {
            if ( !istrue( var_3 ) && var_12 >= var_5 )
            {
                var_12 = 0;
                waitframe();
            }

            var_19 = var_0 + ( 0, 0, 60 );
            var_20 = var_18["position"] + ( 0, 0, 60 );
            var_21 = scripts\engine\trace::ray_trace( var_19, var_20, self, var_10 );
            var_12++;

            if ( var_21["fraction"] != 1 )
            {
                if ( !istrue( var_3 ) && var_12 >= var_5 )
                {
                    var_12 = 0;
                    waitframe();
                }

                var_19 = var_0 + ( 0, 0, 25 );
                var_20 = var_18["position"] + ( 0, 0, 60 );
                var_21 = scripts\engine\trace::ray_trace( var_19, var_20, self, var_10 );
                var_12++;
            }

            if ( var_21["fraction"] == 1 )
            {
                var_22 = spawnstruct();
                var_22.origin = var_18["position"];
                var_22.angles = var_1;
                var_22.height = 0;
                return [ var_22, var_14 ];
            }
        }

        var_14++;
        var_13++;

        if ( var_13 >= var_4 )
        {
            var_15 = var_0;

            if ( var_11 && !ispointonnavmesh( var_15 ) )
                var_15 = getclosestpointonnavmesh( var_15 );

            var_22 = spawnstruct();
            var_22.origin = var_15;
            var_22.angles = var_1;
            var_22.height = 0;
            return [ var_22, var_2 ];
        }

        if ( !istrue( var_3 ) && var_12 >= var_5 )
        {
            var_12 = 0;
            waitframe();
        }
    }
}

vehicle_watchmarkedtankdeath( var_0 )
{
    foreach ( var_2 in level.cloudorigin.paths )
        self.extractingplayers[var_2.label] = var_0.extractingplayers[var_2.label];
}

modeupdateloadoutclass( var_0, var_1 )
{
    var_2 = level.cloudorigin._id_1274C[var_0];
    var_3 = [];

    foreach ( var_5 in var_2 )
    {
        if ( var_5.script_group == var_1 )
            var_3[var_3.size] = var_5;
    }

    return var_3;
}

modetype( var_0, var_1, var_2 )
{
    var_3 = level.cloudorigin._id_12590[var_0];
    var_4 = [];

    foreach ( var_6 in var_3 )
    {
        if ( var_6.script_group == var_1 && var_6.script_index == var_2 )
            var_4[var_4.size] = var_6;
    }

    return var_4;
}

modespawnendofgame( var_0, var_1, var_2 )
{
    var_3 = 10;
    var_4 = 100.0;
    var_5 = 100.0;
    var_6 = 90;
    var_7 = 10.0;
    var_8 = 360.0 / var_3;
    var_9 = int( var_2 / var_3 );
    var_10 = var_2 - var_9 * var_3;
    var_11 = var_1 + var_6 + ( var_10 * var_8 + var_9 * var_7 );
    var_12 = var_4 + var_9 * var_5;
    var_13 = ( 0.0, var_11, 0.0 );
    var_14 = anglestoforward( var_13 );
    var_15 = var_0 + var_14 * var_12;
    return var_15;
}

mountain_three_death_func( var_0 )
{
    foreach ( var_2 in level.cloudorigin.paths )
    {
        if ( var_2.script_index == var_0 )
            return var_2;
    }
}

mortars_set_player_targeted( var_0 )
{
    foreach ( var_2 in level.cloudorigin.paths )
    {
        if ( var_2.get_actual_grenade_name == var_0 )
            return var_2;
    }
}

getarenapickupattachmentoverrides( var_0, var_1 )
{
    level notify( "debugSpawnOrigin" );
    level endon( "debugSpawnOrigin" );

    for (;;)
        waitframe();
}

waittill_trigger_player( var_0 )
{
    var_1 = 500;

    if ( isdefined( self.truckwarspawnlocations ) && self.truckwarspawnlocations == var_0 )
        return;

    var_2 = self.truckwarspawnlocations;
    self.truckwarspawnlocations = var_0;
    self.truckdoorrightcol = gettime() + var_1;
    _id_1213E( var_0.label != "A" );
}

view_list()
{
    return self.truckwarspawnlocations;
}

viewmodel_demeanor()
{
    return self.truckdoorrightcol;
}

modifyplayerdamage( var_0 )
{
    var_1 = var_0.damage;

    if ( istrue( self.tv_station_reinforcement_spawn_logic ) || istrue( self.tv_station_mindia_spawner_think ) )
    {
        var_1 = 0;

        if ( isdefined( var_0.attacker ) && isplayer( var_0.attacker ) )
            var_0.attacker scripts\mp\damagefeedback::updatedamagefeedback( "hitspawnprotect" );
    }

    if ( self.team == game["attackers"] )
    {
        var_2 = isdefined( var_0.attacker ) && var_0.attacker initbunker() && istrue( var_0.attacker.uavnoneid );

        if ( var_2 )
            var_1 = int( min( var_1, level.cloudorigin.so_postmatchfx ) );
    }

    if ( isdefined( var_0.attacker ) && var_0.attacker initbunker() && isdefined( var_0.attacker.path ) )
        var_1 = 0;

    if ( getdvarint( "scr_br_payload_mod_gunner_dmg", 1 ) && isdefined( var_0.victim.onplayerconnectrisk ) )
    {
        if ( isplayer( var_0.attacker ) && scripts\engine\utility::isbulletdamage( var_0.meansofdeath ) && var_1 < 100 )
        {
            var_3 = var_0.idflags & level.idflags_penetration;
            var_4 = scripts\mp\utility\damage::isheadshot( var_0.shitloc, var_0.meansofdeath, var_0.attacker );
            var_5 = weaponclass( var_0.objweapon ) == "spread";

            if ( var_3 )
                var_1 = var_1 * level.gunnerpenetrationdamagereduction;
            else if ( !var_4 || !var_5 )
                var_1 = var_1 * level.onplayerconnectstream;
        }
    }

    return var_1;
}

tv_station_fastrope_one_infil_start_targetname_array_index( var_0, var_1 )
{
    if ( scripts\mp\flags::gameflag( "prematch_done" ) )
    {
        var_2 = var_0.attacker;

        if ( !isdefined( var_2 ) || !isplayer( var_2 ) )
        {
            if ( isdefined( var_0.attacker ) && isdefined( var_0.attacker.owner ) && isplayer( var_0.attacker.owner ) )
                var_2 = var_0.attacker.owner;
            else if ( isdefined( var_0.inflictor ) && isplayer( var_0.inflictor ) )
                var_2 = var_0.inflictor;
            else if ( isdefined( var_0.inflictor ) && isdefined( var_0.inflictor.owner ) && isplayer( var_0.inflictor.owner ) )
                var_2 = var_0.inflictor.owner;
            else
                var_2 = undefined;
        }

        if ( isdefined( var_2 ) && var_2 != self )
        {
            var_3 = 0;

            if ( var_2.team == game["attackers"] )
                var_3 = getdvarint( "scr_br_payload_attacker_kill_pay_scale", 4 );
            else
                var_3 = getdvarint( "scr_br_payload_defender_kill_pay_scale", 3 );

            if ( wait_in_spectate_for_time( var_2 ) )
                var_3 = var_3 + 4;

            tutorialprint_number( var_2, var_3, "payload_kill" );
        }
    }

    return scripts\mp\gametypes\br::cp_arms_dealer_sound_load( var_0, var_1 );
}

playerdropplunderondeath( var_0, var_1 )
{
    if ( self.team == game["attackers"] )
    {
        if ( getdvarint( "scr_br_payload_attacker_plunderdrop", 1 ) == 0 )
            return 1;

        var_2 = getdvarint( "scr_br_payload_attacker_saveshare", 7.0 );
        var_3 = getdvarint( "scr_br_payload_attacker_taxshare", 0.0 );
        var_4 = getdvarint( "scr_br_payload_attacker_dropshare", 0.0 );
    }
    else
    {
        if ( getdvarint( "scr_br_payload_defender_plunderdrop", 1 ) == 0 )
            return 1;

        var_2 = getdvarint( "scr_br_payload_defender_saveshare", 7.0 );
        var_3 = getdvarint( "scr_br_payload_defender_taxshare", 0.0 );
        var_4 = getdvarint( "scr_br_payload_defender_dropshare", 0.0 );
    }

    if ( isdefined( self.plundercount ) && self.plundercount > 0 )
        var_5 = self.plundercount;
    else
    {
        scripts\mp\gametypes\br_plunder::hudnumconsumed( 0, var_0 );
        return 1;
    }

    var_6 = var_2 + var_3 + var_4;
    var_7 = var_2 / var_6;
    var_8 = int( max( var_5 - 5, int( min( var_5, max( 2, int( var_5 * var_7 ) ) ) + 0.5 ) ) );
    var_9 = int( var_5 - var_8 );
    var_10 = max( 1, var_3 + var_4 );
    var_11 = var_3 / var_10;
    var_12 = var_4 / var_10;
    var_13 = int( max( 0, int( var_9 * var_12 ) ) );
    self.plundercountondeath = var_8;
    var_14 = spawnstruct();
    var_14._id_12341 = 1;
    scripts\mp\gametypes\br_plunder::playersetplundercount( var_8, var_14 );

    if ( var_13 <= 0 )
        return 1;

    scripts\mp\gametypes\br_plunder::hudnumconsumed( var_13, var_0 );
    return 1;
}

ui_damage_num_cycle( var_0, var_1, var_2, var_3 )
{
    if ( !level.cloudorigin.tutorial_tacmap )
        return;

    if ( var_0 )
    {
        var_4 = self.initlocs_nonmorsephones.touchlist[self.team];
        tutorialzoneenter( var_4, var_2, "vehicle_tick_att" );
    }

    if ( var_1 || isdefined( self.register_module_died_poorly_func ) )
    {
        var_4 = self.initlocs_nonmorsephones.touchlist[game["defenders"]];
        tutorialzoneenter( var_4, var_3, "vehicle_tick_def" );
    }
}

tutorialzoneenter( var_0, var_1, var_2 )
{
    var_3 = getdvarfloat( "scr_br_plunder_while_spectating", 0.4 );
    var_4 = 0;

    foreach ( var_6 in var_0 )
    {
        if ( isbot( var_6.player ) && scripts\mp\gametypes\br_public::reset_global_stealth_settings() )
            continue;

        var_7 = var_1;

        if ( !scripts\mp\utility\player::isreallyalive( var_6.player ) )
            var_7 = int( max( var_1 * var_3, 1 ) );

        if ( !isdefined( var_6.player.plundercount ) )
            var_6.player.plundercount = 0;

        var_6.player scripts\mp\gametypes\br_plunder::waitforstreamsynccomplete( var_7 );
        level.br_plunder.weapon_xp_iw8_ar_golf36 = level.br_plunder.weapon_xp_iw8_ar_golf36 + var_7;
        var_6.player scripts\mp\gametypes\br_analytics::_id_12A8F( var_6.player, var_2, var_7 );
    }
}

tutorialprint_number( var_0, var_1, var_2 )
{
    var_3 = getdvarfloat( "scr_br_plunder_while_spectating", 0.5 );
    var_4 = 0;

    if ( isbot( var_0 ) && scripts\mp\gametypes\br_public::reset_global_stealth_settings() )
        return;

    var_5 = var_1;

    if ( !scripts\mp\utility\player::isreallyalive( var_0 ) )
        var_5 = int( var_1 * var_3 );

    if ( !isdefined( var_0.plundercount ) )
        var_0.plundercount = 0;

    var_0 scripts\mp\gametypes\br_plunder::waitforstreamsynccomplete( var_5 );
    level.br_plunder.weapon_xp_iw8_ar_golf36 = level.br_plunder.weapon_xp_iw8_ar_golf36 + var_5;
    var_0 scripts\mp\gametypes\br_analytics::_id_12A8F( var_0, var_2, var_5 );
}

pursue_players_after_awhile()
{
    if ( !level.cloudorigin._id_125BA )
        return;

    foreach ( var_1 in level.cloudorigin.paths )
    {
        [var_3, var_4] = tarmac_techo_start( var_1 );
        var_1._id_125B9 = [];
        var_1._id_125B9[game["attackers"]] = [];
        var_1._id_125B9[game["defenders"]] = [];

        for ( var_5 = 0; var_5 < var_3; var_5++ )
        {
            var_6 = gasmaskmaxhealth( var_1 );
            var_1._id_125B9[game["attackers"]][var_5] = var_6;
        }

        for ( var_5 = 0; var_5 < var_4; var_5++ )
        {
            var_6 = gasmaskmaxhealth( var_1 );
            var_1._id_125B9[game["defenders"]][var_5] = var_6;
        }
    }

    if ( istrue( level.cloudorigin._id_125BB ) )
    {
        level.cloudorigin._id_125A5 = [ 1500, 2000, 2500, 2800, 3000, 3200, 3500 ];
        level._effect["payload_oob_1500"] = loadfx( "vfx/iw8_br/gameplay/payload/vfx_br_payload_oob_circle_1500" );
        level._effect["payload_oob_2000"] = loadfx( "vfx/iw8_br/gameplay/payload/vfx_br_payload_oob_circle_2000" );
        level._effect["payload_oob_2500"] = loadfx( "vfx/iw8_br/gameplay/payload/vfx_br_payload_oob_circle_2500" );
        level._effect["payload_oob_2800"] = loadfx( "vfx/iw8_br/gameplay/payload/vfx_br_payload_oob_circle_2800" );
        level._effect["payload_oob_3000"] = loadfx( "vfx/iw8_br/gameplay/payload/vfx_br_payload_oob_circle_3000" );
        level._effect["payload_oob_3200"] = loadfx( "vfx/iw8_br/gameplay/payload/vfx_br_payload_oob_circle_3200" );
        level._effect["payload_oob_3500"] = loadfx( "vfx/iw8_br/gameplay/payload/vfx_br_payload_oob_circle_3500" );
    }
}

validatespawnzonefxradius()
{
    foreach ( var_1 in level.cloudorigin._id_125B9 )
    {

    }
}

gasmaskmaxhealth( var_0 )
{
    var_1 = getmaxobjectivecount( 0, 0, level.cloudorigin._id_125B8 );
    var_1 setmapcirclecolorindex( 0 );
    var_1 hide();
    var_1.enabled = 0;
    var_1.path = var_0;
    return var_1;
}

tarmac_techo_start( var_0 )
{
    var_1 = [];
    var_1[game["attackers"]] = [];
    var_1[game["defenders"]] = [];

    foreach ( var_3 in level.cloudorigin._id_125B9 )
    {
        if ( var_3.script_group != var_0.get_actual_grenade_name )
            continue;

        var_4 = scripts\engine\utility::ter_op( var_3.team == "allies", game["attackers"], game["defenders"] );

        if ( !isdefined( var_1[var_4][var_3.script_index] ) )
        {
            var_1[var_4][var_3.script_index] = 1;
            continue;
        }

        var_1[var_4][var_3.script_index]++;
    }

    var_6 = 0;

    foreach ( var_8 in var_1[game["defenders"]] )
    {
        if ( var_8 > var_6 )
            var_6 = var_8;
    }

    var_10 = 0;

    foreach ( var_8 in var_1[game["attackers"]] )
    {
        if ( var_8 > var_10 )
            var_10 = var_8;
    }

    return [ var_6, var_10 ];
}

gasmasktype( var_0, var_1, var_2, var_3, var_4 )
{
    var_5 = spawn( "trigger_radius", var_0, 0, var_1, 2000 );
    var_5.targetname = "OutOfBounds";
    var_5.radius = var_1;
    var_5.script_team = var_2;
    var_5._id_125B2 = var_3;
    var_5.spawntime = gettime();

    if ( !istrue( var_4 ) )
        thread scripts\mp\outofbounds::watchoobtrigger( var_5 );

    return var_5;
}

_id_12209( var_0, var_1 )
{
    if ( !level.cloudorigin._id_125BA )
        return;

    scripts\mp\flags::gameflagwait( "infil_complete" );
    _id_1220A( var_0, var_1, game["attackers"] );
    _id_1220A( var_0, var_1, game["defenders"] );
    level.outofboundstriggers = getentarray( "OutOfBounds", "targetname" );
}

_id_1220A( var_0, var_1, var_2 )
{
    var_3 = mlgiconfullflag( var_2 );
    var_4 = modetype( var_2, var_0.get_actual_grenade_name, var_1 );
    var_5 = mp_t_gun_course_patch( var_4, var_0, var_1, var_2 );
    [var_7, var_8] = molotov_register_trigger( var_4 );

    for ( var_9 = 0; var_9 < var_0._id_125B9[var_2].size; var_9++ )
    {
        var_10 = var_0._id_125B9[var_2][var_9];

        if ( isdefined( var_10.trigger ) )
            getteamspawnbots( var_10.trigger );

        var_10 cleanupspawnzonewarning();

        if ( var_9 < var_5.size )
        {
            var_11 = var_5[var_9];
            var_10.origin = ( var_11.origin[0], var_11.origin[1], var_11.radius );
            var_12 = ( var_11.origin[0], var_11.origin[1], var_7 + -1000 );
            var_10.trigger = gasmasktype( var_12, var_11.radius, var_3, var_10 );

            if ( istrue( level.cloudorigin._id_125BB ) )
            {
                var_13 = gasmasktype( var_12, int( var_11.radius + level.cloudorigin._id_125BE ), var_3, var_10, 1 );
                var_13.targetname = "OobWarning";
                scripts\mp\utility\trigger::makeenterexittrigger( var_13, ::_id_125BC, ::_id_125BD );
                var_10._id_131AC = var_13;
                var_10.radius = var_11.radius;
            }

            if ( !var_10.enabled )
            {
                if ( !level.cloudorigin._id_125B4 )
                    var_10 showtoteam( var_3 );

                var_10.enabled = 1;
            }

            var_10.enabled = 1;
            continue;
        }

        var_10 hide();
        var_10.enabled = 0;
    }
}

getteamspawnbots( var_0 )
{
    foreach ( var_2 in var_0.entstouching )
    {
        if ( isdefined( var_2.oob ) && var_2.oob > 0 )
            scripts\mp\outofbounds::disableoob( var_2 );

        var_2.oobtriggers = scripts\engine\utility::array_remove( var_2.oobtriggers, var_0 );

        if ( var_2.oobtriggers.size == 0 )
            var_2.oobtriggers = undefined;
    }

    var_0 notify( "clearOOB" );
    var_0 delete();
}

handleimpact( var_0 )
{
    if ( !level.cloudorigin._id_125BA )
        return;

    foreach ( var_2 in var_0._id_125B9[game["attackers"]] )
    {
        if ( isdefined( var_2.trigger ) )
            getteamspawnbots( var_2.trigger );

        var_2 cleanupspawnzonewarning();
        var_2.enabled = 0;
        var_2 hide();
    }

    foreach ( var_2 in var_0._id_125B9[game["defenders"]] )
    {
        if ( isdefined( var_2.trigger ) )
            getteamspawnbots( var_2.trigger );

        var_2 cleanupspawnzonewarning();
        var_2.enabled = 0;
        var_2 hide();
    }
}

mp_t_reflex_containers_collisions( var_0, var_1, var_2 )
{
    if ( !isdefined( var_1 ) )
        var_1 = 0;

    var_3 = [];

    if ( isdefined( level.cloudorigin._id_125B9 ) && level.cloudorigin._id_125B9.size > 0 )
    {
        foreach ( var_5 in level.cloudorigin._id_125B9 )
        {
            if ( var_5.script_group != var_0.get_actual_grenade_name )
                continue;

            if ( var_5.script_index != var_1 )
                continue;

            var_6 = scripts\engine\utility::ter_op( var_5.team == "allies", game["attackers"], game["defenders"] );

            if ( var_6 != var_2 )
                continue;

            var_3[var_3.size] = var_5;
        }
    }

    return var_3;
}

mp_t_gun_course_patch( var_0, var_1, var_2, var_3 )
{
    var_4 = mp_t_reflex_containers_collisions( var_1, var_2, var_3 );

    if ( var_4.size == 0 )
    {
        [var_6, var_7] = molotov_register_trigger( var_0 );
        var_8 = ( var_7[0], var_7[1], var_6 );
        var_4[0] = spawnstruct();
        var_4[0].origin = var_8;
        var_4[0].radius = level.cloudorigin._id_125B8;
    }

    return var_4;
}

molotov_register_trigger( var_0 )
{
    var_1 = ( 0, 0, 0 );
    var_2 = undefined;

    foreach ( var_4 in var_0 )
    {
        var_1 = var_1 + var_4.origin;

        if ( !isdefined( var_2 ) || var_4.origin[2] < var_2 )
            var_2 = var_4.origin[2];
    }

    var_6 = var_1 / var_0.size;
    return [ var_2, var_6 ];
}

showtoteam( var_0 )
{
    self hide();
    var_1 = scripts\mp\utility\teams::getteamdata( var_0, "players" );

    foreach ( var_3 in var_1 )
        self showtoplayer( var_3 );
}

wam_timer_between_each_node()
{
    self endon( "death_or_disconnect" );
    self endon( "payload_remove_spawn_protection" );

    if ( isdefined( self.scriptableinit ) && ( isplayer( self.scriptableinit ) || istrue( self.scriptableinit.avangvel ) ) )
        return;

    if ( isdefined( self.scriptableinit ) )
        var_0 = self.scriptableinit;
    else
        var_0 = view_list();

    if ( destroycrateinbadtrigger( var_0 ) )
        return;

    self.tv_station_reinforcement_spawn_logic = 1;
    thread warningbits();
    var_1 = gettime() + level.cloudorigin._id_1255D * 1000;
    var_2 = vip_info( var_0 );

    while ( isdefined( var_2 ) && isdefined( var_2.trigger ) && self istouching( var_2.trigger ) && self playerads() < 0.5 && gettime() < var_1 )
        waitframe();

    self.tv_station_reinforcement_spawn_logic = undefined;
    self notify( "payload_remove_spawn_protection" );
}

vip_info( var_0 )
{
    if ( !isdefined( var_0 ) )
        var_0 = view_list();

    var_1 = var_0._id_125B9[self.team];

    if ( isdefined( var_1 ) && var_1.size > 0 )
    {
        foreach ( var_3 in var_1 )
        {
            if ( !istrue( var_3.enabled ) )
                continue;

            if ( self istouching( var_3.trigger ) )
                return var_3;
        }
    }
}

warningbits()
{
    self endon( "death_or_disconnect" );
    self endon( "payload_remove_spawn_protection" );
    self waittill( "weapon_fired" );
    self.tv_station_reinforcement_spawn_logic = undefined;
    self notify( "payload_remove_spawn_protection" );
}

mp_speedball_check_trigger_pos( var_0 )
{
    var_1 = "payload_oob_" + var_0;
    return var_1;
}

_id_125BC( var_0, var_1 )
{
    if ( !isplayer( var_0 ) || var_0.team != var_1.script_team )
        return;

    var_2 = var_1._id_125B2;

    if ( !isdefined( var_2 ) )
        return;

    if ( !isdefined( var_2._id_131AA ) )
        var_2._id_131AA = [];

    var_3 = var_0 getentitynumber();
    var_4 = mp_speedball_check_trigger_pos( var_2.radius );
    var_5 = ( var_1.origin[0], var_1.origin[1], var_0.origin[2] );
    var_2._id_131AA[var_3] = spawn( "script_model", var_5 );
    var_2._id_131AA[var_3] setmodel( "tag_origin" );
    var_2._id_131AA[var_3] hide();
    var_2._id_131AA[var_3] showtoplayer( var_0 );
    thread spawnzonewarningfxupdate( var_0, var_2._id_131AA[var_3], var_4 );
}

spawnzonewarningfxupdate( var_0, var_1, var_2 )
{
    var_1 endon( "death" );
    var_0 endon( "disconnect" );
    waitframe();
    var_1 forcenetfieldhighlod( 1 );
    playfxontag( scripts\engine\utility::getfx( var_2 ), var_1, "tag_origin" );
    var_3 = var_1.origin[0];
    var_4 = var_1.origin[1];

    for (;;)
    {
        var_1.origin = ( var_3, var_4, var_0.origin[2] );
        waitframe();
    }
}

_id_125BD( var_0, var_1 )
{
    if ( !isplayer( var_0 ) || var_0.team != var_1.script_team )
        return;

    var_2 = var_0 getentitynumber();
    var_3 = var_1._id_125B2;

    if ( !isdefined( var_3 ) || !isdefined( var_3._id_131AA ) || !isdefined( var_3._id_131AA[var_2] ) )
        return;

    var_3._id_131AA[var_2] delete();
    var_3._id_131AA[var_2] = undefined;
}

cleanupspawnzonewarning()
{
    var_0 = self;

    if ( !isdefined( var_0 ) )
        return;

    if ( isdefined( var_0._id_131AC ) )
    {
        var_0._id_131AC delete();
        var_0._id_131AC = undefined;
    }

    if ( isdefined( var_0._id_131AA ) )
    {
        foreach ( var_2 in var_0._id_131AA )
        {
            if ( isdefined( var_2 ) )
                var_2 delete();
        }

        var_0._id_131AA = undefined;
    }
}

_id_12183( var_0 )
{
    if ( var_0 <= 0 )
    {
        setomnvar( "ui_hardpoint_timer", gettime() );
        return;
    }

    var_1 = scripts\mp\utility\game::gettimepassed();
    setomnvar( "ui_hardpoint_timer", gettime() + int( var_0 * 1000 ) );
    var_2 = int( var_1 / 1000 );
    var_3 = var_2 + var_0;
    scripts\mp\utility\dvars::setoverridewatchdvar( "timelimit", var_3 );
    setdvar( "scr_br_timelimit", var_3 );
}

isgameended()
{
    return istrue( level.payloadcomplete ) || istrue( level.gameended );
}

ontimelimit()
{
    if ( isgameended() )
        return;

    if ( scr_arm_numnonrallyvehicles() )
        return;

    if ( istrue( level.uavbestid ) || isgameended() )
        return;

    level.uavbestid = 1;
    _id_11B41();
    _id_11B43();
    var_0 = game["attackers"];
    var_1 = game["defenders"];
    var_2 = "time_limit_reached";
    thread _id_1308F( "stopped", undefined, undefined, 2 );
    thread scripts\mp\gametypes\br::train_get_anim_to_play( var_0, 2, undefined, 1, 1, 1 );
    init_player_falling_anims();
    tutorial_pullchute( 1, var_1 );
    thread scripts\mp\gametypes\br::brendgame( var_1, game["end_reason"][var_2], 0 );
}

init_player_falling_anims()
{
    if ( !istrue( game["switchedsides"] ) )
        return;

    foreach ( var_1 in level.players )
    {
        var_2 = var_1.pers["score"] + var_1.pers["round1_score"];
        var_1.score = var_2;
        var_3 = var_1.pers["kills"] + var_1.pers["round1_kills"];
        var_1.kills = var_3;
        var_4 = var_1.pers["damage"] + var_1.pers["round1_damage"];
        var_1 scripts\mp\gametypes\br_public::updatebrscoreboardstat( "damageDealt", var_4 );
        var_5 = var_1.pers["objTime"] + var_1.pers["round1_objTime"];
        var_1 scripts\mp\gametypes\br_public::updatebrscoreboardstat( "objTime", var_5 );
    }
}

init_player_health()
{
    foreach ( var_1 in level.players )
        _func_0431( var_1 );

    foreach ( var_1 in level.players )
    {
        var_1.decide_new_code = var_1.pers["team"];
        var_1.decoy_delaystoptrackingassist = var_1.pers["recordedLoss"];
        var_1.decoyassists = var_1.pers["score"];
        var_1.decoy_canseeplayer = var_1.pers["kills"];
        var_1.debugtimedelta = var_1.pers["damage"];
        var_1.decoy_giveassistpoint = var_1.pers["objTime"];
    }

    _func_0432();

    foreach ( var_1 in level.players )
    {
        var_1.pers["team"] = var_1.decide_new_code;
        var_1.pers["recordedLoss"] = var_1.decoy_delaystoptrackingassist;
        var_1.pers["round1_score"] = var_1.decoyassists;
        var_1.pers["round1_kills"] = var_1.decoy_canseeplayer;
        var_1.pers["round1_damage"] = var_1.debugtimedelta;
        var_1.pers["round1_objTime"] = var_1.decoy_giveassistpoint;
    }

    game["gamestarted"] = undefined;
    game["clientMatchDataDef"] = undefined;
}

_id_121D2()
{
    level.cloudorigin.get_closest_valid_player = 0;
    level.cloudorigin.scrambler_cleanup_player = 0;
    _id_12102( 0 );

    foreach ( var_1 in level.cloudorigin.paths )
    {
        var_1.dropbrweapon = -1;
        support_box_delay_max_ammo_hint( var_1.dropbrweapon, var_1 );
    }
}

minigamelosersettings( var_0 )
{
    return var_0.dropbrweapon;
}

support_box_delay_max_ammo_hint( var_0, var_1 )
{
    if ( !dropmenu_tut() )
        return;

    if ( var_1.dropbrweapon >= 0 )
        level notify( "checkPointUpdate", var_1 );

    if ( var_1.dropbrweapon >= 0 )
    {
        _id_11B41( var_1 );
        playersetisbecomingzombie();
    }

    var_2 = var_1.dropbrweapon;
    var_1.dropbrweapon++;
    level.cloudorigin.get_closest_valid_player = gettime();

    if ( isdefined( level.cloudorigin.dropcpcratefromscriptedheli ) )
    {
        var_3 = minigamewinnersettings();

        foreach ( var_5 in level.cloudorigin.dropcpcratefromscriptedheli )
            var_5 setvalue( var_3 );
    }

    if ( var_1.dropbrweapon > 0 )
    {
        _id_12144( var_1.script_index, var_1.dropbrweapon );
        var_7 = "br_payload_checkpoint";
        var_8 = "br_payload_checkpoint_enemy";
        scripts\mp\gametypes\br::_id_1294F( var_7, undefined, game["attackers"] );
        scripts\mp\gametypes\br::_id_1294F( var_8, undefined, game["defenders"] );

        foreach ( var_10 in level.teamdata[game["attackers"]]["players"] )
        {
            var_10 thread scripts\mp\rank::giverankxp( "br_payload_reached_checkpoint", level.cloudorigin.ui_init, undefined );
            var_10 thread scripts\mp\gametypes\br::nvidiaansel_overridecollisionradius( "br_payload_reached_checkpoint", int( level.cloudorigin.ui_init / 2 ), var_10.currentweapon, 1 );
            var_10 thread scripts\mp\rank::scoreeventpopup( "br_payload_reached_checkpoint" );
        }

        testclient_run_funcs( var_1, 1, "checkpoint", var_1.dropbrweapon );
        thread _id_12542( game["attackers"] );
        thread _id_12542( game["defenders"] );
    }

    var_1 notify( "checkPointUpdate" );
    level thread dropbrsuper( var_1 );
    thread _id_121D1( var_1 );
    thread _id_12209( var_1, var_1.dropbrweapon );
    thread _id_121FD( var_1, var_1.dropbrweapon );
    thread zombieregendelayscaleoutgas( var_1.dropbrweapon, var_1 );
    thread _id_12205( var_1, var_1.dropbrweapon );
    thread _id_121F4( var_1, var_1.dropbrweapon );
    thread _id_11D1E( var_1 );
}

_id_11D1E( var_0 )
{
    var_1 = var_0;

    if ( istrue( var_0.farms2_gw_ambient_sound_load ) )
        var_1 = morsenumber( var_0 );

    foreach ( var_3 in level.players )
    {
        if ( isdefined( var_3.tv_station_intro_camera ) && var_3.tv_station_intro_camera > 0 )
        {
            var_4 = var_3 view_list();

            if ( var_4 == var_0 )
            {
                var_3.tv_station_intro_camera++;
                var_3.zombierespawning = var_3 vip_failquest( var_1 );

                if ( isdefined( var_3.zombierespawning ) )
                    var_3.zombierespawning.index = -1;

                var_5 = var_3.zombierespawning.origin;
                var_6 = getdvarint( "scr_br_drop_prespawn_timeout_ms", 9000 );
                var_3 scripts\mp\gametypes\br_public::wassquadspawned( var_5, var_6, 1, 0 );
                var_3 scripts\mp\gametypes\br_spectate::vehicle_travel_player_connect_monitor();
                var_3 scripts\mp\gametypes\br::spawnintermission( var_5, var_3.zombierespawning.angles );
                var_3 scripts\mp\spectating::setdisabled();
                var_3 scripts\mp\gametypes\br::create_name_fx( var_5[0], var_5[1], level.getfilterformodifier );
                var_3 setclientomnvar( "ui_br_transition_type", 2 );
            }
        }
    }
}

minigamewinnersettings()
{
    var_0 = 0;

    foreach ( var_2 in level.cloudorigin.paths )
    {
        var_3 = 0;

        if ( isdefined( var_2.dropbrweapon ) )
            var_3 = var_2.dropbrweapon;

        var_0 = var_0 + var_3;
    }

    return var_0;
}

_id_121D1( var_0 )
{
    level notify( "setupCheckpoint" );
    level endon( "setupCheckpoint" );

    if ( var_0.dropbrweapon == 0 )
        var_1 = level.cloudorigin.dropkit_marker_hints;
    else
    {
        var_1 = int( level.cloudorigin.scrambler_cleanup_player / 1000 ) + level.cloudorigin.blueprintextract_setunlockablelootid;
        setmusicstate( "br_payload_time_added_outro" );

        if ( level.cloudorigin.maxtime > 0 )
            var_1 = int( min( var_1, level.cloudorigin.maxtime ) );

        level notify( "cancel_announcer_dialog" );
        thread timelimitclock();
    }

    scripts\mp\flags::gameflagwait( "infil_complete" );
    _id_12183( var_1 );
    _id_12103( var_1 );
}

_id_11B41( var_0 )
{
    if ( !dropmenu_tut() )
        return;

    var_1 = gettime() - level.cloudorigin.get_closest_valid_player;

    if ( isdefined( var_0 ) )
        level.cloudorigin.scrapassistdamage = var_0;

    var_2 = minigun_attack_max_cooldown();

    if ( var_1 > var_2 )
        var_1 = var_2;

    level.cloudorigin.scrambler_cleanup_player = var_2 - var_1;
}

_id_12104( var_0, var_1, var_2 )
{
    var_3 = "time_split_" + var_1;
    game[var_0 + "_payload"][var_3] = var_2;
}

minigun_attack_min_cooldown( var_0, var_1 )
{
    var_2 = "time_split_" + var_1;
    var_3 = game[var_0 + "_payload"][var_2];
    return var_3;
}

_id_12103( var_0, var_1 )
{
    var_2 = "time_limit_objective";
    game[var_2] = int( var_0 * 1000 );
}

minigun_attack_max_cooldown( var_0 )
{
    var_1 = "time_limit_objective";
    return game[var_1];
}

_id_12102( var_0 )
{
    if ( !game["switchedsides"] )
        game["num_checkpoints_objective"] = var_0;
}

playersetisbecomingzombie()
{
    if ( !game["switchedsides"] )
        game["num_checkpoints_objective"] = game["num_checkpoints_objective"] + 1;
}

minigun_angles_offset()
{
    return game["num_checkpoints_objective"];
}

dropmenu_tut()
{
    var_0 = 1;
    return var_0;
}

dropcount()
{
    if ( isgameended() )
        return;

    level.ontimelimit = scripts\engine\utility::void;
    _id_11B43();
    setomnvar( "ui_hardpoint_timer", 0 );
    var_0 = game["defenders"];
    var_1 = game["attackers"];
    var_2 = "objective_completed";
    thread _id_1308F( "finished", undefined, undefined, 2 );
    thread scripts\mp\gametypes\br::train_get_anim_to_play( var_0, 2, undefined, 1, 1, 1 );
    init_player_falling_anims();
    tutorial_pullchute( 0, var_1 );
    thread scripts\mp\gametypes\br::brendgame( var_1, game["end_reason"][var_2], 0 );
}

countdowntimer( var_0 )
{
    if ( game["switchedsides"] )
    {
        level thread scripts\mp\gametypes\br::handleendgamesplash( var_0 );
        level thread scripts\mp\gametypes\br::outer( var_0 );

        if ( istrue( level._id_122D7 ) )
            level thread scripts\mp\gametypes\br::oscope_temps_think( var_0 );

        if ( isdefined( level.chopperexfil_sh070_start ) )
            wait( level.chopperexfil_sh070_start );

        level thread scripts\mp\gametypes\br::outer( var_0 );

        if ( istrue( level._id_122D7 ) )
            level thread scripts\mp\gametypes\br::oscope_temps_think( var_0 );
    }
}

create_model_at( var_0, var_1 )
{
    foreach ( var_3 in level.players )
        var_3 thread scripts\mp\utility\game::setuipostgamefade( 0.0 );

    if ( !var_1 )
        wait( var_0 );
    else
    {
        wait( var_0 / 2 );
        level notify( "give_match_bonus" );
        wait( var_0 / 2 );
    }

    level notify( "round_end_finished" );
}

mlgiconemptyflag( var_0, var_1 )
{
    var_2 = undefined;

    if ( isdefined( level.cloudorigin.scrapassistdamage ) && isdefined( level.cloudorigin.scrapassistdamage.vehicle ) && ( !var_0 || var_1 == "tie" ) )
        var_2 = level.cloudorigin.scrapassistdamage.vehicle;
    else
    {
        var_3 = undefined;

        foreach ( var_5 in level.cloudorigin.paths )
        {
            if ( istrue( var_5.farms2_gw_ambient_sound_load ) || !isdefined( var_5.vehicle ) )
                continue;

            if ( !isdefined( var_3 ) || var_5.dropbrweapon > var_3.dropbrweapon )
            {
                var_3 = var_5;
                var_6 = var_5.dropbrweapon;
            }
        }

        var_2 = var_3.vehicle;
    }

    return var_2;
}

_id_1300D()
{
    var_0 = self.path;
    var_1 = var_0.flarecooldown;

    if ( var_0.dropbrweapon == 0 )
    {
        var_2 = 1;
        var_3 = 0;
    }
    else
    {
        var_2 = var_0.dropcashdeny[var_0.dropbrweapon - 1].syncleadmarkers;
        var_3 = var_2 - 2;
    }

    var_4 = var_0.nodes[var_2];
    var_5 = var_4.origin;
    var_6 = mountain_two_death_func( var_0, var_2 );
    var_7 = vectortoangles( var_6 );
    self vehicle_teleport( var_5, var_7 );
    var_8 = var_0.nodes[var_3];
    var_9 = var_8.origin;
    var_6 = mountain_two_death_func( var_0, var_3 );
    var_10 = vectortoangles( var_6 );
    var_1 vehicle_teleport( var_9, var_10 );
    return [ var_5, var_7 ];
}

getendingstreamlocation( var_0, var_1 )
{
    var_2 = undefined;

    if ( var_0 == game["attackers"] )
    {
        var_3 = var_1.nodes[var_1.nodes.size - 1];
        var_2 = var_3.origin;
    }
    else
    {
        if ( var_1.dropbrweapon == 0 )
            var_4 = 1;
        else
            var_4 = var_1.dropcashdeny[var_1.dropbrweapon - 1].syncleadmarkers;

        var_5 = var_1.nodes[var_4];
        var_2 = var_5.origin;
    }

    return var_2;
}

milestonephasepercent_drops( var_0, var_1 )
{
    var_3 = ( 0, 0, 0 );
    var_4 = ( 0, 0, 0 );

    if ( var_1 == game["defenders"] && level.cloudorigin.tv_station_fastrope_one_infil_start_targetname_array == "port" && var_0.label == "A" && var_0.dropbrweapon == 1 )
    {
        var_3 = ( 0, -10, 0 );
        var_4 = var_3;
    }
    else if ( var_1 == game["attackers"] && level.cloudorigin.tv_station_fastrope_one_infil_start_targetname_array == "trainstation2" && var_0.label == "A" )
    {
        var_3 = ( 0, -10, 0 );
        var_4 = var_3;
    }
    else if ( var_1 == game["attackers"] && level.cloudorigin.tv_station_fastrope_one_infil_start_targetname_array == "downtown2" && var_0.label == "B" )
    {
        var_3 = ( 0, -10, 0 );
        var_4 = var_3;
    }
    else if ( var_1 == game["attackers"] && level.cloudorigin.tv_station_fastrope_one_infil_start_targetname_array == "downtown2" && var_0.label == "A" )
        var_4 = ( 0, 25, 0 );

    return [ var_3, var_4 ];
}

tutorial_pullchute( var_0, var_1, var_2, var_3 )
{
    level.payloadcomplete = 1;
    level notify( "payloadComplete" );
    var_4 = mlgiconemptyflag( var_0, var_1 );
    var_5 = var_4.path;
    var_6 = getendingstreamlocation( var_1, var_5 );

    foreach ( var_8 in level.players )
    {
        var_8 notify( "abort_killcam" );
        var_8.cancelkillcam = 1;

        if ( var_8.team == var_1 )
            var_8 setclientomnvar( "ui_br_player_position", 1 );

        var_8 _id_1213F( 0 );
        var_8 freezecontrols( 1 );
        var_8 clearsoundsubmix( "iw8_mp_spawn_camera" );
        var_8 clearsoundsubmix( "deaths_door_mp" );
        var_8 setclientomnvar( "ui_br_transition_type", 0 );

        if ( isdefined( var_8.trap_toggle_logic ) )
        {
            var_8.trap_toggle_logic stoploopsound( self.trap_trigger_logic );
            var_8.trap_toggle_logic delete();
            var_8.trap_toggle_logic = undefined;
            var_8.trap_trigger_logic = undefined;
        }

        var_8 scripts\mp\gametypes\br_public::wassquadspawned( var_6 );
    }

    setomnvarforallclients( "post_game_state", 9 );
    wait 3;
    setomnvar( "scriptable_loot_hide", 1 );
    removeallcorpses();

    foreach ( var_11 in level.cloudorigin.dropdeliveryatpos )
    {
        var_11.dropjuggbox hide();

        if ( isdefined( var_11.dropjuggbox.turret ) )
            var_11.dropjuggbox.turret hide();
    }

    foreach ( var_11 in level.cloudorigin._id_12A6B )
        var_11.dropjuggbox hide();

    var_15 = undefined;

    if ( var_1 == game["attackers"] )
    {
        var_15 = spawn( "script_model", var_4.origin );
        var_15.angles = ( 0, var_4.angles[1], 0 );
        var_15 setmodel( "vfx_br_payload_checkpoint" );
        var_15 forcenetfieldhighlod( 1 );
        var_15 setscriptablepartstate( "checkpoint", "finish" );
    }
    else
        thread cancelchecklinktotrain( var_4 );

    if ( var_1 == game["attackers"] )
    {
        var_16 = "mp_payload_victory_cam";
        var_17 = "mp_payload_loss_cam";
        var_18 = var_5.nodes[var_5.nodes.size - 1];
        var_19 = var_18.origin;
        var_20 = mountain_two_death_func( var_5, var_5.nodes.size - 1 );
        var_21 = vectortoangles( var_20 );
    }
    else
    {
        var_16 = "mp_payload_loss_cam";
        var_17 = "mp_payload_victory_cam";
        [var_19, var_21] = var_4 _id_1300D();
    }

    [var_24, var_25] = milestonephasepercent_drops( var_5, var_1 );
    var_26 = var_21 + var_24;
    var_27 = var_21 + var_25;
    var_28 = spawn( "script_model", var_19 );
    var_28.angles = var_26;
    var_28 setmodel( "generic_prop_x3" );
    var_28 forcenetfieldhighlod( 1 );
    var_29 = spawn( "script_model", var_19 );
    var_29.angles = var_27;
    var_29 setmodel( "generic_prop_x3" );
    var_29 forcenetfieldhighlod( 1 );
    var_28 scriptmodelplayanim( var_16, "payload_complete" );
    var_29 scriptmodelplayanim( var_17, "payload_complete" );
    var_30 = scripts\mp\utility\teams::getteamdata( game["attackers"], "players" );

    foreach ( var_8 in var_30 )
    {
        var_8 thread scripts\mp\playerlogic::respawn_asspectator( var_19 + ( 0, 0, 60 ), ( 0, 0, 0 ) );
        var_8 scripts\mp\spectating::setdisabled();
        var_8 cameralinkto( var_28, "j_prop_1", 1, 1 );
    }

    var_33 = scripts\mp\utility\teams::getteamdata( game["defenders"], "players" );

    foreach ( var_8 in var_33 )
    {
        var_8 thread scripts\mp\playerlogic::respawn_asspectator( var_19 + ( 0, 0, 60 ), ( 0, 0, 0 ) );
        var_8 scripts\mp\spectating::setdisabled();
        var_8 cameralinkto( var_29, "j_prop_1", 1, 1 );
    }

    foreach ( var_8 in level.players )
    {
        if ( var_8.team == var_1 )
            var_8 setplayermusicstate( "br_payload_completed_win" );
        else
            var_8 setplayermusicstate( "br_payload_completed_lose" );

        var_8 thermalvisionoff();
        var_8 setsoundsubmix( "mp_br_mode_payload_completed", 0.5 );
    }
}

cancelchecklinktotrain( var_0 )
{
    wait 1.5;
    var_1 = var_0.path;
    var_2 = var_1.flarecooldown;

    if ( isdefined( var_1.update_restock_ui ) )
        var_1.update_restock_ui delete();

    foreach ( var_4 in var_1.pieces )
    {
        if ( isdefined( var_4 ) )
            var_4 delete();
    }

    if ( isdefined( var_2.bot_should_cap_next_zone ) )
        var_2.bot_should_cap_next_zone delete();

    var_2 scripts\cp_mp\vehicles\cargo_truck::cargo_truck_explode();
    wait 1;

    if ( isdefined( var_0.bot_should_cap_next_zone ) )
        var_0.bot_should_cap_next_zone delete();

    var_0 scripts\cp_mp\vehicles\cargo_truck::cargo_truck_explode();
}

propwaitminigamecleanup()
{
    var_0 = scripts\engine\utility::getstructarray( "payloadPath", "targetname" );

    foreach ( var_2 in var_0 )
    {
        if ( !isdefined( level.cloudorigin.paths ) )
            level.cloudorigin.paths = [];

        var_3 = level.cloudorigin.paths.size;
        level.cloudorigin.paths[var_3] = var_2;
    }

    for ( var_5 = 0; var_5 < level.cloudorigin.paths.size; var_5++ )
    {
        var_2 = level.cloudorigin.paths[var_5];
        var_6 = "E";
        var_7 = "_e";
        var_8 = &"BR_PAYLOAD/PATH_E";

        switch ( var_2.script_index )
        {
            case 0:
                var_6 = "A";
                var_7 = "_a";
                var_8 = &"BR_PAYLOAD/PATH_A";
                break;
            case 1:
                var_6 = "B";
                var_7 = "_b";
                var_8 = &"BR_PAYLOAD/PATH_B";
                break;
            case 2:
                var_6 = "C";
                var_7 = "_c";
                var_8 = &"BR_PAYLOAD/PATH_C";
                break;
            case 3:
                var_6 = "D";
                var_7 = "_d";
                var_8 = &"BR_PAYLOAD/PATH_D";
                break;
            default:
                break;
        }

        var_2.label = var_6;
        var_2.iconname = var_7;
        var_2.truckdoorright = var_8;
        var_2._id_12590 = [];
        var_2._id_12564 = [];
        var_2.spawncount = [];
        var_2._id_12528 = [];
        var_2.spawntime = [];
        var_2.numplayers = [];
        var_2.numplayers[game["attackers"]] = 0;
        var_2.numplayers[game["defenders"]] = 0;
        var_2._id_13095 = "none";
        var_2._id_13094 = 0;
        var_2._id_13086 = 0;
        var_2._id_13088 = 0;
        var_2.objidnum = [];
        var_2._id_11D35 = [];
        var_2.team_planted_bomb = [];
        var_2._id_12887 = [];
        var_2.pieces = [];
        var_2.safehouse_hotjoin_func = [];
        var_2.thermiteboltburnout = 0;
        var_2.setup_weapons_at_pos = 0.0;
        var_2._id_12A4A = 0;

        if ( level.cloudorigin._id_12510 )
        {
            var_2._id_125B3 = 0;
            var_2._id_1252A = spawnstruct();
            var_2._id_1252A.avangvel = 1;
            var_2._id_1252A.path = var_2;
        }

        if ( level.cloudorigin._id_12511 > -1 )
            var_2._id_125B3 = 0;

        if ( level.cloudorigin.dropkit_crate_logic )
            var_2.dropkit_crate_logic = [];

        defenderflagbases( var_2 );
    }
}

prophidetime()
{
    if ( !level.cloudorigin.players_camera_fly_to_start_pos )
        return;

    thread propindex();
}

propindex()
{
    var_0 = getentarray( "payload_oob", "targetname" );

    if ( var_0.size == 0 )
        return;

    var_1 = undefined;

    foreach ( var_3 in level.cloudorigin.paths )
    {
        foreach ( var_5 in var_0 )
        {
            if ( var_3.get_actual_grenade_name == var_5.script_group )
            {
                var_1 = var_5;
                var_1.index = 0;
                break;
            }
        }

        if ( isdefined( var_1 ) )
            break;
    }

    foreach ( var_3 in level.cloudorigin.paths )
        var_3.players_camera_fly_to_start_pos = var_1;

    scripts\mp\flags::gameflagwait( "infil_complete" );
    thread ui_damage_num_elems( var_1 );
}

ui_damage_num_elems( var_0 )
{
    var_0.entstouching = [];
    thread ui_damage_nums_global_limit( var_0 );
    thread ui_damage_num_next_index( var_0 );
}

ui_damage_num_next_index( var_0 )
{
    level endon( "payloadComplete" );
    level endon( "game_ended" );
    var_0 endon( "IBTrigger" );

    for (;;)
    {
        var_0 waittill( "trigger", var_1 );

        if ( isdefined( var_1.playerlootleadervalidity ) && var_1.playerlootleadervalidity > 0 )
            continue;

        tutzonetriggerlogic( var_0, var_1 );
    }
}

ui_damage_nums_global_limit( var_0 )
{
    level endon( "payloadComplete" );
    level endon( "game_ended" );
    var_0 endon( "IBTrigger" );

    for (;;)
    {
        var_1 = var_0.entstouching;

        foreach ( var_4, var_3 in var_1 )
        {
            if ( !isdefined( var_3 ) )
                var_0.entstouching[var_4] = undefined;

            if ( isdefined( var_3 ) && !var_0 istouching( var_3 ) )
                tv_model( var_0, var_3 );
        }

        waitframe();
    }
}

tutzonetriggerlogic( var_0, var_1 )
{
    var_2 = var_1 getentitynumber();

    if ( isdefined( var_1._id_11D2E ) )
        var_1._id_11D2E = undefined;

    if ( isdefined( var_0._id_12940 ) && isdefined( var_1.owner ) && var_0._id_12940 != var_1.owner.team )
        return;

    if ( isdefined( var_0._id_12940 ) && !isdefined( var_1.owner ) && var_0._id_12940 != var_1.team )
        return;

    if ( !isdefined( var_1.playermaxheath ) )
    {
        var_1.playermaxheath = [];

        for ( var_3 = 0; var_3 < level.cloudorigin.paths.size; var_3++ )
            var_1.playermaxheath[var_3] = 0;
    }

    var_1.playermaxheath[var_0.index] = 1;
    var_0.entstouching[var_2] = var_1;

    if ( !isdefined( var_1.oobtriggers ) )
        var_1.oobtriggers = [];

    var_4 = [ var_0 ];

    foreach ( var_6 in var_1.oobtriggers )
        var_4[var_4.size] = var_6;

    var_1.oobtriggers = var_4;

    if ( isdefined( var_1.playerlootleadervalidity ) )
        var_1.playerlootleadervalidity++;
    else
        var_1.playerlootleadervalidity = 1;

    if ( isdefined( var_1.oob ) && var_1.oob > 0 )
        scripts\mp\outofbounds::disableoob( var_1 );
}

tv_model( var_0, var_1 )
{
    var_2 = var_1 getentitynumber();

    if ( isdefined( var_0._id_12940 ) && isdefined( var_1.owner ) && var_0._id_12940 != var_1.owner.team )
        return;

    if ( isdefined( var_0._id_12940 ) && !isdefined( var_1.owner ) && var_0._id_12940 != var_1.team )
        return;

    if ( isdefined( var_1.playerlootleadervalidity ) && var_1.playerlootleadervalidity > 0 && var_1.playermaxheath[var_0.index] )
    {
        var_1.playermaxheath[var_0.index] = 0;
        var_1.playerlootleadervalidity--;

        foreach ( var_4 in var_1.playermaxheath )
        {
            if ( istrue( var_4 ) )
                return;
        }

        scripts\mp\outofbounds::enableoob( var_1 );
    }

    if ( isdefined( var_1.oobtriggers ) )
    {
        var_1.oobtriggers = scripts\engine\utility::array_remove( var_1.oobtriggers, var_0 );

        if ( var_1.oobtriggers.size == 0 )
            var_1.oobtriggers = undefined;
    }
}

wait_until_impact( var_0, var_1, var_2 )
{
    var_3 = scripts\mp\outofbounds::getlastoobtrigger( self );

    if ( isdefined( var_3 ) && isdefined( var_3.spawntime ) )
    {
        if ( gettime() - var_3.spawntime < level.cloudorigin._id_125B6 )
        {
            var_4 = scripts\mp\outofbounds::getoutofboundstime( var_2, self._id_11D2E );
            var_4 = var_4 * level.cloudorigin._id_125B5;
            self.oobendtime = int( gettime() + var_4 * 1000 );
            thread scripts\mp\outofbounds::watchooboutoftime( self, var_4 );
        }
    }

    scripts\mp\outofbounds::playerentercallback( var_0, var_1, var_2 );
    self notify( "playerDelayDisableOOBOutline" );

    if ( !isdefined( self.tv_station_fastrope_one_infil_rider_start_targetname ) )
    {
        var_5 = mlgiconfullflag( self.team );
        self.tv_station_fastrope_one_infil_rider_start_targetname = scripts\mp\utility\outline::outlineenableforteam( self, var_5, "outline_nodepth_red", "level_script" );
    }

    if ( level.cloudorigin._id_125B4 )
    {
        if ( isdefined( self.tv_station_boss ) )
        {
            self.tv_station_boss hidefromplayer( self );
            self.tv_station_boss = undefined;
        }

        foreach ( var_3 in self.oobtriggers )
        {
            if ( isdefined( var_3._id_125B2 ) )
            {
                var_3._id_125B2 showtoplayer( self );
                self.tv_station_boss = var_3._id_125B2;
            }
        }
    }

    thread wait_until_trap_room_clear();
}

wait_until_player_is_near( var_0, var_1, var_2 )
{
    scripts\mp\outofbounds::playerexitcallback( var_0, var_1, var_2 );

    if ( isdefined( self._id_11D33 ) )
        self._id_11D33.alpha = 0;

    if ( isdefined( self.tv_station_fastrope_one_infil_rider_start_targetname ) )
        thread vehicleindangertracking();
}

vehicleindangertracking()
{
    self endon( "disconnect" );
    self notify( "playerDelayDisableOOBOutline" );
    self endon( "playerDelayDisableOOBOutline" );
    wait( level.cloudorigin._id_125B7 );
    scripts\mp\utility\outline::outlinedisable( self.tv_station_fastrope_one_infil_rider_start_targetname, self );
    self.tv_station_fastrope_one_infil_rider_start_targetname = undefined;

    if ( isdefined( self.tv_station_boss ) )
    {
        self.tv_station_boss hidefromplayer( self );
        self.tv_station_boss = undefined;
    }
}

exittype()
{
    var_0 = self;
    var_0.playermaxheath = undefined;
    var_0.playerlootleadervalidity = undefined;
}

initnocontesttriggers()
{
    level.cloudorigin.nocontesttriggers = [];
    addnocontesttrigger( "mp_don4", "downtown2", ( 18755, -21000, -160 ), 275, 90 );
    addnocontesttrigger( "mp_don4", "downtown2", ( 21415, -17040, -170 ), 275, 90 );
    addnocontesttrigger( "mp_don4", "downtown2", ( 21900, -16675, -195 ), 180, 90 );
    addnocontesttrigger( "mp_don4", "downtown2", ( 20890, -23335, -170 ), 275, 90 );
    addnocontesttrigger( "mp_don4", "downtown2", ( 24850, -19405, -190 ), 275, 90 );
    addnocontesttrigger( "mp_don4", "downtown2", ( 25935, -14950, -240 ), 275, 90 );
    addnocontesttrigger( "mp_don4", "port", ( 37075, -26140, -550 ), 150, 90 );
    addnocontesttrigger( "mp_don4", "port", ( 35945, -27130, -550 ), 180, 90 );
    addnocontesttrigger( "mp_don4", "port", ( 36375, -25765, -550 ), 180, 90 );
    addnocontesttrigger( "mp_don4", "port", ( 38735, -23415, -540 ), 180, 90 );
    addnocontesttrigger( "mp_don4", "port", ( 38530, -23595, -540 ), 180, 90 );
    addnocontesttrigger( "mp_don4", "port", ( 38400, -23735, -540 ), 180, 90 );
    addnocontesttrigger( "mp_don4", "port", ( 34305, -25675, -550 ), 180, 90 );
    addnocontesttrigger( "mp_don4", "trainstation2", ( -22730, -27155, -120 ), 150, 90 );
    addnocontesttrigger( "mp_don4", "trainstation2", ( -19540, -25000, -180 ), 275, 90 );
    addnocontesttrigger( "mp_don4", "trainstation2", ( -13500, -21525, -320 ), 180, 120 );
    addnocontesttrigger( "mp_don4", "trainstation2", ( -22445, -28805, -105 ), 275, 90 );
    addnocontesttrigger( "mp_don4", "trainstation2", ( -15630, -24035, -260 ), 275, 90 );
    addnocontesttrigger( "mp_don4", "trainstation2", ( -8735, -21455, -270 ), 275, 90 );
}

addnocontesttrigger( var_0, var_1, var_2, var_3, var_4 )
{
    if ( !isdefined( level.cloudorigin.nocontesttriggers ) )
        return;

    if ( var_0 != level.mapname || var_1 != level.cloudorigin.tv_station_fastrope_one_infil_start_targetname_array )
        return;

    var_5 = spawn( "trigger_radius", var_2, 0, var_3, var_4 );
    var_5.targetname = "payload_no_contest_trigger";
    var_5.radius = var_3;
    var_5.height = var_4;
    level.cloudorigin.nocontesttriggers[level.cloudorigin.nocontesttriggers.size] = var_5;
}

checkoutsidenocontest( var_0 )
{
    if ( !isdefined( var_0 ) || !isplayer( var_0 ) || level.cloudorigin.nocontesttriggers.size == 0 )
        return 1;

    foreach ( var_2 in level.cloudorigin.nocontesttriggers )
    {
        if ( var_0 istouching( var_2 ) )
            return 0;
    }

    return 1;
}

propsetclonesleft()
{
    scripts\mp\gametypes\br_payload_path_mp_br_mechanics_0::propwaitminigamebuttonwatch( 0, "all", 0 );
    scripts\mp\gametypes\br_payload_path_mp_br_mechanics_1::propwaitminigamebuttonwatch( 1, "all", 1 );
    scripts\mp\gametypes\br_payload_path_mp_br_mechanics_2::propwaitminigamebuttonwatch( 2, "all", 2 );
    scripts\mp\gametypes\br_payload_path_mp_br_mechanics_3::propwaitminigamebuttonwatch( 3, "all", 3 );
    scripts\mp\gametypes\br_payload_path_mp_br_mechanics_0::propwaitminigamebuttonwatch( 0, "standard", 0 );
    scripts\mp\gametypes\br_payload_path_mp_br_mechanics_1::propwaitminigamebuttonwatch( 1, "standard", 1 );
    scripts\mp\gametypes\br_payload_path_mp_don4_0::propwaitminigamebuttonwatch( 0, "downtown", 0 );
    scripts\mp\gametypes\br_payload_path_mp_don4_1::propwaitminigamebuttonwatch( 1, "downtown", 1 );
    scripts\mp\gametypes\br_payload_path_mp_don4_2::propwaitminigamebuttonwatch( 2, "downtown", 2 );
    scripts\mp\gametypes\br_payload_path_mp_don4_3::propwaitminigamebuttonwatch( 0, "trainstation", 3 );
    scripts\mp\gametypes\br_payload_path_mp_don4_4::propwaitminigamebuttonwatch( 1, "trainstation", 4 );
    scripts\mp\gametypes\br_payload_path_mp_don4_5::propwaitminigamebuttonwatch( 2, "trainstation", 5 );
    scripts\mp\gametypes\br_payload_path_mp_don4_6::propwaitminigamebuttonwatch( 0, "promenade", 6 );
    scripts\mp\gametypes\br_payload_path_mp_don4_7::propwaitminigamebuttonwatch( 1, "promenade", 7 );
    scripts\mp\gametypes\br_payload_path_mp_don4_8::propwaitminigamebuttonwatch( 2, "promenade", 8 );
    scripts\mp\gametypes\br_payload_path_mp_don4_9::propwaitminigamebuttonwatch( 0, "eastriver", 9 );
    scripts\mp\gametypes\br_payload_path_mp_don4_10::propwaitminigamebuttonwatch( 1, "eastriver", 10 );
    scripts\mp\gametypes\br_payload_path_mp_don4_11::propwaitminigamebuttonwatch( 2, "eastriver", 11 );
    scripts\mp\gametypes\br_payload_path_mp_don4_1::propwaitminigamebuttonwatch( 0, "downtown2", 1 );
    scripts\mp\gametypes\br_payload_path_mp_don4_0::propwaitminigamebuttonwatch( 1, "downtown2", 0 );
    scripts\mp\gametypes\br_payload_path_mp_don4_1::propwaitminigamebuttonwatch( 0, "downtown3", 1 );
    scripts\mp\gametypes\br_payload_path_mp_don4_2::propwaitminigamebuttonwatch( 1, "downtown3", 2 );
    scripts\mp\gametypes\br_payload_path_mp_don4_3::propwaitminigamebuttonwatch( 0, "trainstation2", 3 );
    scripts\mp\gametypes\br_payload_path_mp_don4_4::propwaitminigamebuttonwatch( 1, "trainstation2", 4 );
    scripts\mp\gametypes\br_payload_path_mp_don4_12::propwaitminigamebuttonwatch( 0, "port", 12 );
    scripts\mp\gametypes\br_payload_path_mp_don4_13::propwaitminigamebuttonwatch( 1, "port", 13 );
}

_id_12147( var_0, var_1 )
{
    if ( var_1 > 31 || var_0 >= 2 )
        return;

    var_2 = 5;
    var_3 = var_0 * 5;
    var_4 = int( pow( 2, var_2 ) ) - 1;
    var_5 = ( var_1 & var_4 ) << var_3;
    var_6 = ~( var_4 << var_3 );
    var_7 = getomnvar( "ui_br_paths" );
    var_8 = var_7 & var_6;
    var_9 = var_8 + var_5;
    setomnvar( "ui_br_paths", var_9 );
}

ammo_cache_setup( var_0, var_1, var_2 )
{
    var_3 = spawnstruct();
    var_3.targetname = var_0;
    var_3.target = var_1;
    var_3.script_index = var_2;

    if ( isdefined( var_3.targetname ) )
    {
        if ( !isdefined( level.struct_class_names["targetname"][var_3.targetname] ) )
            level.struct_class_names["targetname"][var_3.targetname] = [];

        var_4 = level.struct_class_names["targetname"][var_3.targetname].size;
        level.struct_class_names["targetname"][var_3.targetname][var_4] = var_3;
    }

    if ( isdefined( var_3.target ) )
    {
        if ( !isdefined( level.struct_class_names["target"][var_3.target] ) )
            level.struct_class_names["target"][var_3.target] = [];

        var_4 = level.struct_class_names["target"][var_3.target].size;
        level.struct_class_names["target"][var_3.target][var_4] = var_3;
    }

    if ( isdefined( var_3.script_noteworthy ) )
    {
        if ( !isdefined( level.struct_class_names["script_noteworthy"][var_3.script_noteworthy] ) )
            level.struct_class_names["script_noteworthy"][var_3.script_noteworthy] = [];

        var_4 = level.struct_class_names["script_noteworthy"][var_3.script_noteworthy].size;
        level.struct_class_names["script_noteworthy"][var_3.script_noteworthy][var_4] = var_3;
    }

    return var_3;
}

_id_127E9( var_0, var_1 )
{
    self.origin = var_0;
}

gametypeoverridescavsearchparams( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7 )
{
    var_8 = 2.0;

    if ( isdefined( var_7 ) )
        var_9 = newteamhudelem( var_7 );
    else
        var_9 = newhudelem();

    var_9.elemtype = "font";
    var_9.font = "default";
    var_9.fontscale = var_8;
    var_9.basefontscale = var_8;
    var_9.x = 0;
    var_9.y = 0;
    var_9.width = 0;
    var_9.height = int( level.fontheight * var_8 );
    var_9.xoffset = 0;
    var_9.yoffset = 0;
    var_9.children = [];
    var_9 scripts\mp\hud_util::setparent( level.uiparent );
    var_9.hidden = 0;
    var_9.archived = 0;
    var_9.alpha = 1;
    var_9 scripts\mp\hud_util::setpoint( var_2, var_3, var_4, var_5 );

    if ( isdefined( var_0 ) )
        var_9.label = var_0;

    if ( isdefined( var_1 ) )
        var_9 setvalue( var_1 );

    if ( isdefined( var_6 ) )
        var_9.color = var_6;

    return var_9;
}

propheight()
{
    var_0 = 0;
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_escort_neutral_a", var_0, "friendly", "BR_PAYLOAD/OBJ_ESCORT", "icon_waypoint_dom_a", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_escort_neutral_b", var_0, "friendly", "BR_PAYLOAD/OBJ_ESCORT", "icon_waypoint_dom_b", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_escort_neutral_c", var_0, "friendly", "BR_PAYLOAD/OBJ_ESCORT", "icon_waypoint_dom_c", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_escort_neutral_d", var_0, "friendly", "BR_PAYLOAD/OBJ_ESCORT", "icon_waypoint_dom_d", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_escort_neutral_e", var_0, "friendly", "BR_PAYLOAD/OBJ_ESCORT", "icon_waypoint_dom_e", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_escort_a", var_0, "friendly", "BR_PAYLOAD/OBJ_ESCORT", "icon_waypoint_dom_a", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_escort_b", var_0, "friendly", "BR_PAYLOAD/OBJ_ESCORT", "icon_waypoint_dom_b", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_escort_c", var_0, "friendly", "BR_PAYLOAD/OBJ_ESCORT", "icon_waypoint_dom_c", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_escort_d", var_0, "friendly", "BR_PAYLOAD/OBJ_ESCORT", "icon_waypoint_dom_d", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_escort_e", var_0, "friendly", "BR_PAYLOAD/OBJ_ESCORT", "icon_waypoint_dom_e", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_escorting_a", var_0, "friendly", "BR_PAYLOAD/OBJ_ESCORTING", "icon_waypoint_dom_a", 1 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_escorting_b", var_0, "friendly", "BR_PAYLOAD/OBJ_ESCORTING", "icon_waypoint_dom_b", 1 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_escorting_c", var_0, "friendly", "BR_PAYLOAD/OBJ_ESCORTING", "icon_waypoint_dom_c", 1 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_escorting_d", var_0, "friendly", "BR_PAYLOAD/OBJ_ESCORTING", "icon_waypoint_dom_d", 1 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_escorting_e", var_0, "friendly", "BR_PAYLOAD/OBJ_ESCORTING", "icon_waypoint_dom_e", 1 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_halt_neutral_a", var_0, "enemy", "BR_PAYLOAD/OBJ_HALT", "icon_waypoint_dom_a", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_halt_neutral_b", var_0, "enemy", "BR_PAYLOAD/OBJ_HALT", "icon_waypoint_dom_b", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_halt_neutral_c", var_0, "enemy", "BR_PAYLOAD/OBJ_HALT", "icon_waypoint_dom_c", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_halt_neutral_d", var_0, "enemy", "BR_PAYLOAD/OBJ_HALT", "icon_waypoint_dom_d", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_halt_neutral_e", var_0, "enemy", "BR_PAYLOAD/OBJ_HALT", "icon_waypoint_dom_e", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_halt_a", var_0, "enemy", "BR_PAYLOAD/OBJ_HALT", "icon_waypoint_dom_a", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_halt_b", var_0, "enemy", "BR_PAYLOAD/OBJ_HALT", "icon_waypoint_dom_b", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_halt_c", var_0, "enemy", "BR_PAYLOAD/OBJ_HALT", "icon_waypoint_dom_c", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_halt_d", var_0, "enemy", "BR_PAYLOAD/OBJ_HALT", "icon_waypoint_dom_d", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_halt_e", var_0, "enemy", "BR_PAYLOAD/OBJ_HALT", "icon_waypoint_dom_e", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_halting_a", var_0, "enemy", "BR_PAYLOAD/OBJ_HALTING", "icon_waypoint_dom_a", 1 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_halting_b", var_0, "enemy", "BR_PAYLOAD/OBJ_HALTING", "icon_waypoint_dom_b", 1 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_halting_c", var_0, "enemy", "BR_PAYLOAD/OBJ_HALTING", "icon_waypoint_dom_c", 1 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_halting_d", var_0, "enemy", "BR_PAYLOAD/OBJ_HALTING", "icon_waypoint_dom_d", 1 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_halting_e", var_0, "enemy", "BR_PAYLOAD/OBJ_HALTING", "icon_waypoint_dom_e", 1 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_contested_a", var_0, "contest", "BR_PAYLOAD/OBJ_CONTESTED", "icon_waypoint_dom_a", 1 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_contested_b", var_0, "contest", "BR_PAYLOAD/OBJ_CONTESTED", "icon_waypoint_dom_b", 1 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_contested_c", var_0, "contest", "BR_PAYLOAD/OBJ_CONTESTED", "icon_waypoint_dom_c", 1 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_contested_d", var_0, "contest", "BR_PAYLOAD/OBJ_CONTESTED", "icon_waypoint_dom_d", 1 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_contested_e", var_0, "contest", "BR_PAYLOAD/OBJ_CONTESTED", "icon_waypoint_dom_e", 1 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_blocked_a", var_0, "contest", "BR_PAYLOAD/OBJ_BLOCKED", "icon_waypoint_dom_a", 1 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_blocked_b", var_0, "contest", "BR_PAYLOAD/OBJ_BLOCKED", "icon_waypoint_dom_b", 1 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_blocked_c", var_0, "contest", "BR_PAYLOAD/OBJ_BLOCKED", "icon_waypoint_dom_c", 1 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_blocked_d", var_0, "contest", "BR_PAYLOAD/OBJ_BLOCKED", "icon_waypoint_dom_d", 1 );
    scripts\mp\gamelogic::setwaypointiconinfo( "waypoint_blocked_e", var_0, "contest", "BR_PAYLOAD/OBJ_BLOCKED", "icon_waypoint_dom_e", 1 );
}

fxred( var_0 )
{
    var_1 = 0;
    var_2 = 150;
    var_3 = 15;
    level.teamdata[var_0]["checkpoint"] = spawnstruct();
    level.teamdata[var_0]["checkpoint"].brtruck_initdialog = [];
    var_7 = var_2;
    var_8 = scripts\engine\utility::ter_op( level.cloudorigin.paths.size <= var_1, level.cloudorigin.paths.size, var_1 );

    for ( var_9 = 0; var_9 < var_8; var_9++ )
    {
        var_10 = level.cloudorigin.paths[var_9];
        level.teamdata[var_0]["checkpoint"].brtruck_initdialog[var_10.script_index] = fxgreen( var_0, var_7, var_10 );
        var_7 = var_7 + var_3;
    }
}

try_play_tv_station_intro_sequence( var_0, var_1, var_2 )
{
    var_3 = minigun_wait_between_shot_rounds( var_2 );
    var_4 = level.teamdata[var_1]["checkpoint"].brtruck_initdialog[var_0.script_index];

    if ( isdefined( var_4 ) )
        var_4.brrebirth_triggerrespawnoverlay.bar.color = var_3;
}

minigun_wait_between_shot_rounds( var_0 )
{
    switch ( var_0 )
    {
        case "red":
            return ( 1, 0, 0 );
        case "blue":
            return ( 0, 0.75, 1 );
        case "yellow":
            return ( 1, 1, 0 );
        case "green":
            return ( 0, 1, 0 );
        case "orange":
            return ( 1, 0.5, 0 );
        case "lightblue":
            return ( 0.25, 0.5, 1 );
        case "white":
        default:
            return ( 1, 1, 1 );
    }
}

fxgreen( var_0, var_1, var_2 )
{
    var_3 = 14;
    var_4 = 14;
    var_5 = 14;
    var_6 = 140;
    var_7 = var_3 + var_4;
    var_8 = newteamhudelem( var_0 );
    var_8.fontscale = 1.2;
    var_8.x = var_3;
    var_8.y = var_1;
    var_8.alignx = "left";
    var_8.aligny = "top";
    var_8.horzalign = "left_adjustable";
    var_8.vertalign = "top_adjustable";
    var_8.alpha = 0.5;
    var_8.glowalpha = 0;
    var_8.hidewheninmenu = 1;
    var_8.archived = 0;
    var_8.label = var_2.truckdoorright;
    var_9 = gastrapstruct( var_0, ( 1, 1, 1 ), var_6, var_5 );
    var_9.x = var_7;
    var_9.y = var_1;
    var_9.alignx = "left";
    var_9.aligny = "top";
    var_9.horzalign = "left_adjustable";
    var_9.vertalign = "top_adjustable";
    var_9.alpha = 0.5;
    var_9 _id_12235();
    var_9.archived = 1;
    var_9.hidewheninmenu = 1;
    var_9.bar.archived = 1;
    var_9.bar.hidewheninmenu = 1;
    var_9.bar.alpha = 0.5;
    var_8.brrebirth_triggerrespawnoverlay = var_9;
    var_8.ticks = [];
    var_8.hidesmokinggunhudfromplayer = [];

    for ( var_10 = 0; var_10 < var_2.dropcashdeny.size - 1; var_10++ )
        var_8.ticks[var_10] = fxorigintagb( var_0, var_7, var_1, var_5, var_6, var_2, var_10 );

    for ( var_10 = 0; var_10 < var_2.thermite_watchstucktoterrain.size; var_10++ )
        var_8.hidesmokinggunhudfromplayer[var_10] = gas_payloads( var_0, var_7, var_1, var_5, var_6, var_2, var_10 );

    return var_8;
}

getsuperrefforsuperextraweapon( var_0 )
{
    foreach ( var_2 in var_0.ticks )
        var_2 destroy();

    var_0.ticks = undefined;

    foreach ( var_5 in var_0.hidesmokinggunhudfromplayer )
        var_5 destroy();

    var_0.hidesmokinggunhudfromplayer = undefined;
    var_0.brrebirth_triggerrespawnoverlay.bar destroy();
    var_0.brrebirth_triggerrespawnoverlay.bar = undefined;
    var_0.brrebirth_triggerrespawnoverlay destroy();
    var_0.brrebirth_triggerrespawnoverlay = undefined;
    var_0 destroy();
}

_id_12235( var_0, var_1, var_2, var_3 )
{
    self.bar.horzalign = self.horzalign;
    self.bar.vertalign = self.vertalign;
    self.bar.alignx = "left";
    self.bar.aligny = self.aligny;
    self.bar.y = self.y;
    self.bar.x = self.x;
    scripts\mp\hud_util::updatebar( self.bar.frac );
}

gastrapstruct( var_0, var_1, var_2, var_3, var_4 )
{
    var_5 = newteamhudelem( var_0 );
    var_5.x = 0;
    var_5.y = 0;
    var_5.frac = 0;
    var_5.color = var_1;
    var_5.sort = -2;
    var_5.shader = "progress_bar_fill";
    var_5 setshader( "progress_bar_fill", var_2, var_3 );
    var_5.hidden = 0;

    if ( isdefined( var_4 ) )
        var_5.flashfrac = var_4;

    var_6 = newteamhudelem( var_0 );
    var_6.elemtype = "bar";
    var_6.width = var_2;
    var_6.height = var_3;
    var_6.xoffset = 0;
    var_6.yoffset = 0;
    var_6.bar = var_5;
    var_6.children = [];
    var_6.sort = -3;
    var_6.color = ( 0, 0, 0 );
    var_6.alpha = 0.5;
    var_6 scripts\mp\hud_util::setparent( level.uiparent );
    var_6 setshader( "progress_bar_bg", var_2, var_3 );
    var_6.hidden = 0;
    return var_6;
}

fxorigintagb( var_0, var_1, var_2, var_3, var_4, var_5, var_6 )
{
    var_7 = 1;
    var_8 = var_5.dropcashdeny[var_6].hasexiteddriver / var_5._id_12A47;
    var_9 = var_1 + var_8 * var_4;
    var_10 = newteamhudelem( var_0 );
    var_10.shader = "progress_bar_fill";
    var_10 setshader( "progress_bar_fill", var_7, var_3 );
    var_10.x = var_9;
    var_10.y = var_2;
    var_10.alignx = "left";
    var_10.aligny = "top";
    var_10.horzalign = "left_adjustable";
    var_10.vertalign = "top_adjustable";
    var_10.alpha = 0.5;
    var_10.glowalpha = 0;
    var_10.hidewheninmenu = 1;
    var_10.archived = 1;
    var_10.color = ( 1, 1, 1 );
    return var_10;
}

gas_payloads( var_0, var_1, var_2, var_3, var_4, var_5, var_6 )
{
    var_7 = 3;
    var_8 = 4;
    var_9 = var_5.thermite_watchstucktoterrain[var_6].dist / var_5._id_12A47;
    var_10 = var_1 + var_9 * var_4 - var_7 / 2.0;
    var_11 = var_2 + var_3 / 2.0 - var_8 / 2.0;
    var_12 = newteamhudelem( var_0 );
    var_12.shader = "progress_bar_fill";
    var_12 setshader( "progress_bar_fill", var_7, var_8 );
    var_12.x = var_10;
    var_12.y = var_11;
    var_12.alignx = "left";
    var_12.aligny = "top";
    var_12.horzalign = "left_adjustable";
    var_12.vertalign = "top_adjustable";
    var_12.alpha = 1.0;
    var_12.glowalpha = 0;
    var_12.hidewheninmenu = 1;
    var_12.archived = 0;
    var_12.color = ml_p1_intel_player_vo( var_0, 0 );
    return var_12;
}

entity_movingplatform_update()
{
    foreach ( var_1 in level.teamnamelist )
    {
        if ( isdefined( level.teamdata[var_1]["checkpoint"] ) )
        {
            foreach ( var_3 in level.teamdata[var_1]["checkpoint"].brtruck_initdialog )
                getsuperrefforsuperextraweapon( var_3 );
        }
    }
}

gasmask_resist( var_0, var_1 )
{
    var_2 = newhudelem();
    var_2.elemtype = "font";
    var_2.font = var_0;
    var_2.fontscale = var_1;
    var_2.basefontscale = var_1;
    var_2.x = 0;
    var_2.y = 0;
    var_2.width = 0;
    var_2.height = int( level.fontheight * var_1 );
    var_2.xoffset = 0;
    var_2.yoffset = 0;
    var_2.children = [];
    var_2 scripts\mp\hud_util::setparent( level.uiparent );
    var_2.hidden = 0;
    var_2.archived = 0;
    return var_2;
}

gasmask_onpickupcreated( var_0, var_1, var_2 )
{
    var_3 = newhudelem();
    var_3.x = 0;
    var_3.y = 0;
    var_3.frac = 0;
    var_3.color = var_0;
    var_3.sort = -2;
    var_3.shader = "progress_bar_fill";
    var_3 setshader( "progress_bar_fill", var_1, var_2 );
    var_3.hidden = 0;
    var_3.archived = 0;
    var_4 = newhudelem();
    var_4.elemtype = "bar";
    var_4.width = var_1;
    var_4.height = var_2;
    var_4.xoffset = 0;
    var_4.yoffset = 0;
    var_4.bar = var_3;
    var_4.children = [];
    var_4.sort = -3;
    var_4.color = ( 0, 0, 0 );
    var_4.alpha = 0.5;
    var_4 scripts\mp\hud_util::setparent( level.uiparent );
    var_4 setshader( "progress_bar_bg", var_1 + 4, var_2 + 4 );
    var_4.hidden = 0;
    var_4.archived = 0;
    return var_4;
}

gas_linger_vfx( var_0, var_1 )
{
    var_0 = scripts\mp\gametypes\br_public::idflags_penetration_player_only( var_0, 100, -100 );
    var_2 = ( 0, var_1[1], 0 );
    var_3 = anglestoforward( var_2 );
    var_4 = var_0 + var_3 * 110;
    var_5 = scripts\mp\gametypes\br_public::idle_sfx( var_4, 100, -100 );
    var_4 = var_5["position"];
    var_6 = vectortopitch( var_5["normal"] ) + 90;
    var_7 = ( var_6, var_1[1], 0 );
    var_8 = var_0 + var_3 * -30;
    var_5 = scripts\mp\gametypes\br_public::idle_sfx( var_8, 100, -100 );
    var_8 = var_5["position"];
    var_6 = vectortopitch( var_5["normal"] ) + 90;
    var_9 = ( var_6, var_1[1], 0 );
    var_10 = spawn( "script_model", var_4 );
    var_10.angles = var_7;
    var_10 setmodel( "uk_tool_box_small_01" );
    var_10 notsolid();
    var_10 hide();
    var_10.thermiteburnout = var_4;
    var_10.thermiteboltstuckto = var_7;
    var_10.thankyou_photo = var_8;
    var_10.testsplashes = var_9;
    var_11 = var_1[1] - 90;
    var_10.scriptable = spawn( "script_model", var_0 );
    var_10.scriptable.angles = ( 0, var_11, -1 * var_6 );
    var_10.scriptable setmodel( "payload_bld_barrier_constructed_01" );
    var_10.scriptable forcenetfieldhighlod( 1 );
    var_10.objidnum = scripts\mp\objidpoolmanager::requestobjectiveid( 99 );

    if ( var_10.objidnum != -1 )
    {
        scripts\mp\objidpoolmanager::objective_add_objective( var_10.objidnum, "active", var_0 );
        scripts\mp\objidpoolmanager::objective_playermask_hidefromall( var_10.objidnum );
        scripts\mp\objidpoolmanager::update_objective_setbackground( var_10.objidnum, 1 );
        scripts\mp\objidpoolmanager::objective_set_play_intro( var_10.objidnum, 0 );
        scripts\mp\objidpoolmanager::objective_set_play_outro( var_10.objidnum, 0 );
        scripts\mp\objidpoolmanager::update_objective_icon( var_10.objidnum, "ui_mp_br_mapmenu_icon_obstacle" );
        _func_421( var_10.objidnum, 1 );
    }

    var_10.fire_sfx_org = 0;
    var_10 thermite_laststand_effects();
    return var_10;
}

_id_121FD( var_0, var_1 )
{
    foreach ( var_3 in var_0.thermite_watchstucktoterrain )
    {
        if ( var_1 == 0 )
        {
            var_3 show();
            var_3.scriptable setscriptablepartstate( "obstacle", "destroyed" );
            var_3.scriptable notsolid();
        }

        if ( var_3.dropbrweapon == var_1 )
        {
            scripts\mp\objidpoolmanager::objective_playermask_showtoall( var_3.objidnum );
            continue;
        }

        scripts\mp\objidpoolmanager::objective_playermask_hidefromall( var_3.objidnum );
    }
}

_id_1324A()
{
    var_0 = 5.0;
    level endon( "payloadComplete" );
    level endon( "game_ended" );
    self endon( "death" );
    self notify( "watchObstacleUse" );
    self endon( "watchObstacleUse" );

    if ( !istrue( self.firstinit ) )
    {
        wait 3;
        self.firstinit = 1;
    }

    var_1 = self;
    var_1 setcursorhint( "HINT_NOICON" );
    var_1 sethintonobstruction( "show" );
    var_1 setusepriority( -1 );
    var_1 setuseholdduration( "duration_none" );
    var_1 setuserange( 100 );
    var_1 sethintstring( &"BR_PAYLOAD/OBSTACLE_BUILD" );
    var_1.userate = 1;
    var_1.curprogress = 0;
    var_1.usetime = var_0;
    var_1.inuse = 0;
    var_1.playerusing = undefined;
    var_1 thermiteboltradiusdamage();

    for (;;)
    {
        var_1 waittill( "trigger", var_2 );

        if ( istrue( var_2.isjuggernaut ) )
        {
            if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "hud", "showErrorMessage" ) )
                var_2 [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "hud", "showErrorMessage" ) ]]( "KILLSTREAKS/JUGG_CANNOT_BE_USED" );

            continue;
        }

        if ( destructiblecarlightssetup( var_2 ) )
        {
            _id_12755( var_2 );
            var_1.playerusing = var_2;
            var_1 makeunusable();
            var_3 = _id_1324B( var_2 );

            if ( istrue( var_1.isusable ) )
                var_1 makeusable();

            var_1.playerusing = undefined;

            if ( istrue( var_3 ) )
                thermite_damage_over_time( var_2 );
        }
    }
}

_id_1324B( var_0 )
{
    var_0 endon( "disconnect" );
    var_0 endon( "joined_team" );
    var_0 endon( "joined_spectators" );
    var_1 = self;
    var_1.id = "destroy";
    var_1.userate = scripts\engine\utility::ter_op( isdefined( var_0.objectivescaler ), var_0.objectivescaler, 1 );

    if ( !istrue( self.fire_sfx_org ) )
    {
        var_1.id = "build";
        self.scriptable setscriptablepartstate( "obstacle", "building" );
    }

    var_2 = gettime();

    while ( isdefined( var_0 ) && var_0 scripts\cp_mp\utility\player_utility::_isalive() && deploy_wp( var_0 ) && var_0 usebuttonpressed( 1 ) && istrue( var_0.register_sequence_3_objectives ) )
    {
        var_1.curprogress = var_1.curprogress + level.framedurationseconds * var_1.userate;

        if ( var_1.curprogress >= var_1.usetime )
        {
            if ( isdefined( var_0 ) )
                _id_127BF( var_0 );

            var_1.playerusing = undefined;
            var_1.curprogress = 0.0;
            return 1;
        }

        var_0 scripts\mp\gameobjects::updateuiprogress( var_1, 1 );
        waitframe();
    }

    if ( self.fire_sfx_org )
        self show();

    var_1.playerusing = undefined;

    if ( isdefined( var_0 ) )
        _id_127BF( var_0 );

    if ( !istrue( self.fire_sfx_org ) )
    {
        var_3 = ( gettime() - var_2 ) / 1000;
        thermite_damagemodifierignorefunc( 0, var_3 );
    }
    else
    {
        for (;;)
        {
            if ( isdefined( var_0 ) && isalive( var_0 ) )
            {
                var_4 = var_0 getcurrentweapon();

                if ( var_4.basename == "briefcase_bomb_mp" )
                {
                    waitframe();
                    continue;
                }
            }

            break;
        }
    }

    var_1.curprogress = 0.0;
    return 0;
}

thermite_linktostuck( var_0 )
{
    self.isusable = 1;
    self makeusable();
    thermiteboltradiusdamage();

    if ( var_0 )
        scripts\mp\objidpoolmanager::objective_playermask_showtoall( self.objidnum );

    thread _id_1324A();
}

thermite_laststand_effects()
{
    self notify( "makeObstacleUnusable" );
    self.isusable = 0;
    self.playerusing = undefined;
    self makeunusable();
    self hudoutlinedisable();
    scripts\mp\objidpoolmanager::objective_playermask_hidefromall( self.objidnum );
}

_id_12755( var_0 )
{
    var_1 = self;

    if ( istrue( var_0.isjuggernaut ) )
    {
        if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "airdrop", "allowActionSet" ) )
            var_0 [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "airdrop", "allowActionSet" ) ]]( "juggCrateUse", 0 );
    }
    else
    {
        if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "airdrop", "allowActionSet" ) )
            var_0 [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "airdrop", "allowActionSet" ) ]]( "crateUse", 0 );

        var_0.register_sequence_3_objectives = 1;

        if ( self.fire_sfx_org )
        {
            self hide();
            var_0 thread votesys_init( "briefcase_bomb_mp", self );
        }
        else
            var_0 thread vote_player_set( "buildable_tool_mp", self );
    }

    var_0 scripts\mp\gameobjects::updateuiprogress( var_1, 0 );
}

_id_127BF( var_0 )
{
    var_1 = self;

    if ( istrue( var_0.isjuggernaut ) )
    {
        if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "airdrop", "allowActionSet" ) )
            var_0 [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "airdrop", "allowActionSet" ) ]]( "juggCrateUse", 1 );
    }
    else if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "airdrop", "allowActionSet" ) )
        var_0 [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "airdrop", "allowActionSet" ) ]]( "crateUse", 1 );

    if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "airdrop", "updateUIProgress" ) )
        var_0 [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "airdrop", "updateUIProgress" ) ]]( var_1, 0 );

    var_0.register_sequence_3_objectives = undefined;
    var_0 notify( "obstacle_use_end" );
}

destructiblecarlightssetup( var_0 )
{
    if ( !var_0 scripts\common\utility::is_crate_use_allowed() )
        return 0;

    if ( !var_0 scripts\cp_mp\utility\player_utility::_isalive() )
        return 0;

    if ( var_0 isonladder() )
        return 0;

    if ( isdefined( self.playerscaptured ) && isdefined( self.playerscaptured[var_0 getentitynumber()] ) )
        return 0;

    if ( istrue( self.issquadonlycrate ) )
    {
        if ( isdefined( self.playersused ) && scripts\engine\utility::array_contains( self.playersused, var_0 ) )
            return 0;

        if ( var_0.squadindex != self.squadindex || var_0.team != self.team )
            return 0;
    }

    if ( istrue( self.reset_ability_invulnerable ) )
    {
        if ( isdefined( self.playersused ) && scripts\engine\utility::array_contains( self.playersused, var_0 ) )
            return 0;

        if ( var_0.team != self.team )
            return 0;
    }

    if ( isbot( var_0 ) )
    {
        if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "airdrop", "botIsKillstreakSupported" ) )
        {
            if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "game", "getGameType" ) )
            {
                if ( [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "game", "getGameType" ) ]]() != "grnd" && ![[ scripts\cp_mp\utility\script_utility::getsharedfunc( "airdrop", "botIsKillstreakSupported" ) ]]( self.cratetype ) )
                    return 0;
            }
        }

        if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "airdrop", "isKillstreakBlockedForBots" ) )
        {
            if ( [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "airdrop", "isKillstreakBlockedForBots" ) ]]( self.cratetype ) )
                return 0;
        }
    }

    if ( !self.isusable )
        return 0;

    if ( var_0 isskydiving() )
        return 0;

    if ( istrue( var_0.inlaststand ) )
        return 0;

    if ( isdefined( self.playerusing ) && self.playerusing != var_0 )
        return 0;

    return 1;
}

deploy_wp( var_0 )
{
    if ( !scripts\common\utility::is_crate_use_allowed() )
        return 0;

    if ( !var_0 scripts\cp_mp\utility\player_utility::_isalive() )
        return 0;

    if ( var_0 meleebuttonpressed() )
        return 0;

    if ( var_0 isinexecutionvictim() )
        return 0;

    if ( istrue( var_0.inlaststand ) )
        return 0;

    if ( distancesquared( var_0.origin, self.origin ) >= 10000 )
        return 0;

    if ( !self.isusable )
        return 0;

    return 1;
}

thermite_damage_over_time( var_0 )
{
    if ( istrue( self.fire_sfx_org ) )
    {
        self.fire_sfx_org = 0;
        self.path.thermiteboltburnout++;
        self sethintstring( &"BR_PAYLOAD/OBSTACLE_BUILD" );
        thermite_damagemodifierignorefunc( 1 );
        self setmodel( "uk_tool_box_small_01" );
        self.origin = self.thermiteburnout;
        self.angles = self.thermiteboltstuckto;
        self dontinterpolate();
        self show();
        var_1 = 0;

        if ( isdefined( self.path.vehicle.register_module_died_poorly_func ) && self.path.vehicle.register_module_died_poorly_func == self )
        {
            self.path.vehicle.register_module_died_poorly_func = undefined;
            self.path.vehicle.blockedorg = undefined;
            self.path.vehicle.branalytics_dropbagdestroyed = self;
            var_1 = 1;
        }
        else
        {
            var_2 = distance2dsquared( self.path.vehicle.origin, self.origin );

            if ( var_2 < level.cloudorigin._id_1308E )
                var_1 = 1;
        }

        if ( var_1 )
            testclient_run_funcs( self.path, 0, "obstacleRemoved" );

        foreach ( var_4 in level.players )
        {
            if ( !isalive( var_4 ) )
                continue;

            var_4 thread scripts\mp\hud_message::showsplash( "br_payload_obstacle_removed", undefined, var_0 );
        }

        if ( isdefined( var_0 ) )
        {
            foreach ( var_4 in level.teamdata[var_0.team]["players"] )
            {
                var_4 thread scripts\mp\rank::giverankxp( "br_payload_obstacle_destroyed", 150, undefined );
                var_4 thread scripts\mp\gametypes\br::nvidiaansel_overridecollisionradius( "br_payload_obstacle_destroyed", int( 75.0 ), var_4.currentweapon, 1 );
                var_4 thread scripts\mp\rank::scoreeventpopup( "br_payload_obstacle_destroyed" );
                var_4 thread scripts\mp\gametypes\br_analytics::cleanupfunc( 150, "br_payload_obstacle_destroyed" );
            }
        }

        scripts\mp\objidpoolmanager::update_objective_ownerteam( self.objidnum, game["attackers"] );
    }
    else
    {
        self.fire_sfx_org = 1;
        self.origin = self.thankyou_photo;
        self.angles = self.testsplashes;
        self dontinterpolate();
        self sethintstring( &"BR_PAYLOAD/OBSTACLE_REMOVE" );
        self setmodel( "offhand_wm_briefcase_bomb" );
        self.scriptable setscriptablepartstate( "obstacle", "constructed" );

        if ( isdefined( self.path.vehicle.branalytics_dropbagdestroyed ) && self.path.vehicle.branalytics_dropbagdestroyed == self )
        {
            self.path.vehicle.register_module_died_poorly_func = self;
            self.path.vehicle.branalytics_dropbagdestroyed = undefined;
        }

        if ( isdefined( var_0 ) )
        {
            foreach ( var_4 in level.teamdata[var_0.team]["players"] )
            {
                var_4 thread scripts\mp\rank::giverankxp( "br_payload_obstacle_built", 500, undefined );
                var_4 thread scripts\mp\gametypes\br::nvidiaansel_overridecollisionradius( "br_payload_obstacle_built", int( 250.0 ), var_4.currentweapon, 1 );
                var_4 thread scripts\mp\rank::scoreeventpopup( "br_payload_obstacle_built" );
                var_4 thread scripts\mp\gametypes\br_analytics::cleanupfunc( 500, "br_payload_obstacle_built" );
            }
        }

        var_10 = self.scriptable physics_getentityaabb();
        var_11 = physics_createcontents( [ "physicscontents_player" ] );
        var_12 = physics_aabbbroadphasequery( var_10["min"], var_10["max"], var_11, [] );
        var_13 = self.thermiteburnout - self.thankyou_photo;
        var_14 = vectornormalize( var_13 );
        var_15 = distance( self.thermiteburnout, self.thankyou_photo );
        var_16 = var_15 / 2.0;
        var_17 = self.thankyou_photo + var_14 * var_16;

        foreach ( var_4 in var_12 )
        {
            if ( !isdefined( var_4 ) || !isalive( var_4 ) )
                continue;

            var_19 = var_4.origin - var_17;
            var_20 = vectornormalize( var_19 );
            var_21 = var_4.origin - self.thankyou_photo;
            var_22 = var_4.origin - self.thermiteburnout;
            var_23 = vectordot( var_14, var_21 );
            var_24 = vectordot( var_14, var_22 );

            if ( !( var_23 > 0 && var_24 < 0 ) )
                continue;

            var_25 = vectordot( var_14, var_20 );
            var_26 = var_25 * var_16;
            var_26 = abs( var_26 );
            var_27 = var_16 + 35 - var_26;
            var_27 = var_27 * scripts\engine\utility::sign( var_25 );
            var_28 = var_4.origin + var_14 * var_27;
            var_28 = scripts\mp\gametypes\br_public::idflags_penetration_player_only( var_28, 100, -100 );
            var_4 setorigin( var_28 );
        }

        scripts\mp\objidpoolmanager::update_objective_ownerteam( self.objidnum, game["defenders"] );
    }

    _id_12146( self.path.script_index, self.index, self.fire_sfx_org );

    if ( isdefined( var_0 ) )
        tutorialprint_number( var_0, level.cloudorigin.thermite_watchglstuck, "obstacle" );

    thermiteboltradiusdamage();
    thermiteradiusdamage( game["attackers"] );
    thermiteradiusdamage( game["defenders"] );
}

thermite_damagemodifierignorefunc( var_0, var_1 )
{
    var_2 = 2;
    self makeunusable();

    if ( var_0 )
    {
        playsoundatpos( self.origin + ( 0, 0, 50 ), "payload_buildable_bomb_timer" );
        wait 2;
        self hide();
    }

    var_3 = "destroying";
    var_4 = var_2;

    if ( isdefined( var_1 ) )
    {
        if ( var_1 <= 2.3 )
        {
            var_3 = "building_failed5";
            var_4 = 0.7;
        }
        else if ( var_1 <= 3 )
        {
            var_3 = "building_failed4";
            var_4 = 1.0;
        }
        else if ( var_1 <= 3.6 )
        {
            var_3 = "building_failed3";
            var_4 = 1.4;
        }
        else if ( var_1 <= 4.3 )
        {
            var_3 = "building_failed2";
            var_4 = 1.7;
        }
        else
        {
            var_3 = "building_failed1";
            var_4 = 1.9;
        }
    }

    self.scriptable setscriptablepartstate( "obstacle", var_3 );
    wait( var_4 );

    if ( istrue( self.isusable ) )
    {
        self makeusable();
        thermiteboltradiusdamage();
    }
}

ml_p1_intel_player_vo( var_0, var_1 )
{
    if ( istrue( var_1 ) )
    {
        if ( var_0 == game["attackers"] )
            return minigun_wait_between_shot_rounds( "red" );
        else
            return minigun_wait_between_shot_rounds( "blue" );
    }
    else if ( var_0 == game["attackers"] )
        return minigun_wait_between_shot_rounds( "blue" );
    else
        return minigun_wait_between_shot_rounds( "red" );
}

thermiteradiusdamage( var_0 )
{
    var_1 = level.teamdata[var_0]["checkpoint"].brtruck_initdialog[self.path.script_index];

    if ( isdefined( var_1 ) )
    {
        var_2 = var_1.hidesmokinggunhudfromplayer[self.index];
        var_2.color = ml_p1_intel_player_vo( var_0, self.fire_sfx_org );
    }
}

thermiteboltradiusdamage()
{
    var_0 = scripts\mp\utility\teams::getteamdata( game["attackers"], "players" );
    var_1 = scripts\mp\utility\teams::getteamdata( game["defenders"], "players" );

    if ( istrue( self.fire_sfx_org ) )
    {
        foreach ( var_3 in var_0 )
            self enableplayeruse( var_3 );

        foreach ( var_3 in var_1 )
            self disableplayeruse( var_3 );

        if ( var_0.size > 0 )
            self hudoutlineenableforclients( var_0, "outline_depth_cyan" );

        if ( var_1.size > 0 )
        {
            self hudoutlinedisableforclients( var_1 );
            return;
        }
    }
    else
    {
        foreach ( var_3 in var_1 )
            self enableplayeruse( var_3 );

        foreach ( var_3 in var_0 )
            self disableplayeruse( var_3 );

        if ( var_1.size > 0 )
            self hudoutlineenableforclients( var_1, "outline_depth_cyan" );

        if ( var_0.size > 0 )
            self hudoutlinedisableforclients( var_0 );
    }
}

testclient_run_funcs( var_0, var_1, var_2, var_3 )
{
    thread _id_1308F( var_2, var_3, var_0 );

    if ( istrue( var_1 ) )
        trial_spawn_wp( var_0.label );
}

proplist()
{
    level.cloudorigin.overtime = [];
    trial_target_follow_dummy();
    _id_12143( 0 );
    level thread strafe_acceleration();
}

trial_spawn_wp( var_0 )
{
    trial_target_follow_dummy();

    if ( trial_stat_row() )
        level.cloudorigin.overtime[var_0] = level.cloudorigin.trial_target_flip + trial_target_enemy_killed_func();
    else
        level.cloudorigin.overtime[var_0] = gettime();

    level.cloudorigin.overtime[var_0] = level.cloudorigin.overtime[var_0] + mortar_smoke_occlusions() * 1000;
}

trial_stat_row()
{
    var_0 = trial_target_civilian_killed_func();
    return var_0 >= trial_target_enemy_killed_func();
}

trial_target_civilian_killed_func()
{
    if ( isdefined( level.cloudorigin.trial_target_flip ) )
        return gettime() - level.cloudorigin.trial_target_flip;

    return 0;
}

trial_target_damage()
{
    return level.cloudorigin.overtimemax;
}

trial_target_enemy_killed_func()
{
    return int( trial_target_damage() * 1000 );
}

trial_target_follow_dummy()
{
    var_0 = trial_target_civilian_killed_func();
    var_1 = var_0 / 1000;
    var_2 = [ 5.0, 4.0, 3.0, 2.0, 1.0 ];

    if ( var_1 < level.cloudorigin.overtimestage1 || trial_stat_row() )
        var_3 = var_2[0];
    else if ( var_1 < level.cloudorigin.overtimestage2 )
        var_3 = var_2[1];
    else if ( var_1 < level.cloudorigin.overtimestage3 )
        var_3 = var_2[2];
    else if ( var_1 < level.cloudorigin.overtimestage4 )
        var_3 = var_2[3];
    else
        var_3 = var_2[4];

    level.cloudorigin.trial_target_arm_damage = var_3;
    _id_12142( int( var_3 ) );
}

mortar_smoke_occlusions()
{
    return level.cloudorigin.trial_target_arm_damage;
}

mortar_start( var_0 )
{
    var_1 = var_0;
    var_1 = var_1 - gettime();

    if ( var_1 <= 0 )
        var_1 = 0;

    return var_1;
}

mortars_fire_logic()
{
    var_0 = gettime();

    foreach ( var_3, var_2 in level.cloudorigin.overtime )
    {
        if ( var_2 > var_0 )
            var_0 = var_2;
    }

    _id_12143( mortar_start( int( var_0 ) ) );
    return int( var_0 );
}

mortars()
{
    var_0 = mortars_fire_logic();
    var_0 = ( var_0 - gettime() ) / 1000;

    if ( var_0 <= 0 )
        var_0 = 0;

    return var_0;
}

mortar_wave()
{
    var_0 = mortars_fire_logic();
    var_0 = var_0 - gettime();

    if ( var_0 <= 0 )
        var_0 = 0;

    return var_0;
}

scr_arm_numnonrallyvehicles()
{
    var_0 = mortars();

    if ( var_0 <= 0 )
        return 0;

    trial_spawn_wp( "minOvertime" );
    level.timelimitoverride = 1;
    level.cloudorigin.trial_target_flip = gettime();
    level notify( "start_overtime" );
    thread _id_1308F( "overtime" );
    level thread scr_br_collection_findpath();

    while ( scripts\mp\gamelogic::gettimeremaining() <= 0 && mortars() > 0 )
        waitframe();

    level notify( "stop_overtime" );
    _id_12143( 0 );
    level.timelimitoverride = 0;
    level.cloudorigin.trial_target_flip = undefined;
    trial_target_follow_dummy();
    return scripts\mp\gamelogic::gettimeremaining() > 0;
}

scr_br_collection_findpath()
{
    level endon( "stop_overtime" );

    for (;;)
    {
        waittillframeend;
        var_0 = mortars();
        waitframe();
    }
}

trial_start_time()
{
    return scripts\mp\gamelogic::gettimeremaining() <= 0 && mortars() > 0;
}

trial_spawn_wait()
{
    var_0 = "scr_overtime_debug";
    setdvar( var_0, 0 );

    for (;;)
    {
        while ( !getdvarint( var_0, 0 ) )
            wait 0.5;

        var_1 = scripts\mp\hud_util::createservertimer( "hudbig", 1.0 );
        var_1 scripts\mp\hud_util::setpoint( "LEFTBOTTOM", undefined, 15, -80 );
        var_1.color = ( 1, 0, 0 );
        var_1.archived = 0;
        var_1.label = &"Overtime Seconds: ";
        var_2 = scripts\mp\hud_util::createservertimer( "hudbig", 1.0 );
        var_2 scripts\mp\hud_util::setpoint( "LEFTBOTTOM", undefined, 15, -60 );
        var_2.color = ( 1, 0, 0 );
        var_2.archived = 0;
        var_2.label = &"Overtime Seconds Max: ";
        var_3 = scripts\mp\hud_util::createservertimer( "hudbig", 1.0 );
        var_3 scripts\mp\hud_util::setpoint( "LEFTBOTTOM", undefined, 15, -40 );
        var_3.color = ( 1, 0, 0 );
        var_3.archived = 0;
        var_3.label = &"Total Overtime: ";
        var_4 = scripts\mp\hud_util::createservertimer( "hudbig", 1.0 );
        var_4 scripts\mp\hud_util::setpoint( "LEFTBOTTOM", undefined, 15, -20 );
        var_4.color = ( 1, 0, 0 );
        var_4.archived = 0;
        var_4.label = &"Total Overtime Max: ";

        while ( getdvarint( var_0, 0 ) )
        {
            waitframe();
            waittillframeend;
            var_1 setvalue( mortars() );
            var_2 setvalue( mortar_smoke_occlusions() );
            var_3 setvalue( trial_target_civilian_killed_func() / 1000 );
            var_4 setvalue( trial_target_damage() );
        }

        level notify( "stop_overtime" );
        var_1 destroy();
        var_2 destroy();
        var_3 destroy();
        var_4 destroy();
    }
}

propkilledend()
{
    if ( !level.cloudorigin.brking_kickplayersatcircleedge )
        return;

    var_0 = [];

    if ( isdefined( level.cloudorigin.safehouse_vo_return_start ) && level.cloudorigin.safehouse_vo_return_start.size > 0 )
    {
        foreach ( var_2 in level.cloudorigin.safehouse_vo_return_start )
        {
            var_3 = var_2.script_group;

            if ( !isdefined( var_3 ) )
                continue;

            var_4 = mortars_set_player_targeted( var_3 );

            if ( isdefined( var_4 ) )
            {
                var_5 = var_2.angles;

                if ( !isdefined( var_5 ) )
                    var_5 = ( 0, 0, 0 );

                var_6 = easepower( "br_plunder_box", var_2.origin, var_5 );

                if ( isdefined( var_6 ) )
                {
                    var_6.path = var_4;
                    var_6.dropbrweapon = var_2.script_index;

                    if ( !isdefined( var_6.dropbrweapon ) )
                        var_6.dropbrweapon = 0;

                    var_0[var_0.size] = var_6;
                    var_4.safehouse_hotjoin_func[var_4.safehouse_hotjoin_func.size] = var_6;
                }
            }
        }
    }

    if ( var_0.size == 0 )
    {
        foreach ( var_4 in level.cloudorigin.paths )
        {
            foreach ( var_10 in var_4.safefromnuke )
            {
                var_11 = var_4.nodes[var_10].origin;
                var_12 = mountain_two_death_func( var_4, var_10 );
                var_6 = gas_attack_deploy( var_11, var_12, var_4.script_index );

                if ( isdefined( var_6 ) )
                {
                    var_6.path = var_4;
                    var_6.dropbrweapon = var_4.script_index;

                    if ( !isdefined( var_6.dropbrweapon ) )
                        var_6.dropbrweapon = 0;

                    var_0[var_0.size] = var_6;
                    var_4.safehouse_hotjoin_func[var_4.safehouse_hotjoin_func.size] = var_6;
                }
            }
        }
    }

    thread _id_1212B( var_0 );
}

_id_1212B( var_0 )
{
    scripts\mp\flags::gameflagwait( "infil_complete" );
    scripts\mp\gametypes\br_armory_kiosk::_id_12172( var_0 );
}

gas_attack_deploy( var_0, var_1, var_2 )
{
    var_3 = 300;
    var_4 = 600;
    var_5 = 50;
    var_6 = 100;
    var_7 = vectortoangles( var_1 );
    var_8 = anglestoright( var_7 );
    var_9 = -1 * var_8;

    for ( var_10 = var_3; var_10 <= var_4; var_10 = var_10 + var_5 )
    {
        var_11 = var_0 + var_10 * var_8;
        var_12 = scripts\mp\gametypes\br_public::idflags_penetration_player_only( var_11 );
        var_13 = abs( var_0[2] - var_12[2] );

        if ( var_13 < var_6 )
        {
            var_14 = vectortoangles( var_9 );
            var_15 = easepower( "br_plunder_box", var_12, var_14 );
            return var_15;
        }

        var_16 = var_0 + var_10 * var_9;
        var_17 = scripts\mp\gametypes\br_public::idflags_penetration_player_only( var_16 );
        var_13 = abs( var_0[2] - var_17[2] );

        if ( var_13 < var_6 )
        {
            var_14 = vectortoangles( var_8 );
            var_15 = easepower( "br_plunder_box", var_17, var_14 );
            return var_15;
        }
    }
}

getattractionomnvarbitpackinginfo( var_0, var_1, var_2, var_3 )
{
    getaltbunkerkeypadindexforscriptable( var_0, var_1, var_2, ( 0, 1, 0 ), var_3 );
}

getaccessorylogicbyindex( var_0, var_1, var_2, var_3 )
{
    getaltbunkerkeypadindexforscriptable( var_0, var_1, var_2, ( 1, 1, 0 ), var_3 );
}

getaltbunkerkeypadindexforscriptable( var_0, var_1, var_2, var_3, var_4 )
{
    for (;;)
    {
        if ( getdvarint( "debugPathPoint", 0 ) != var_2 )
        {
            waitframe();
            continue;
        }

        if ( isdefined( var_1 ) )
        {

        }

        if ( isdefined( var_4 ) )
        {

        }

        waitframe();
    }
}

_id_121F4( var_0, var_1 )
{
    foreach ( var_3 in var_0.safehouse_hotjoin_func )
    {
        if ( var_3.dropbrweapon == var_1 )
        {
            var_3 setscriptablepartstate( "br_plunder_box", "visible" );
            continue;
        }

        var_3 setscriptablepartstate( "br_plunder_box", "hidden" );
    }
}

propwaitminigamecleanuponplayernotify()
{
    var_0 = scripts\cp_mp\killstreaks\airdrop::getleveldata( "payload_c130_loot" );
    var_0.capturestring = &"MP/GENERIC_LOOT_CRATE_CAPTURE";
    var_0.dummymodel = "military_carepackage_01_br";
    var_0.friendlymodel = undefined;
    var_0.enemymodel = undefined;
    var_0.mountmantlemodel = undefined;
    var_0.supportsownercapture = 0;
    var_0.headicon = undefined;
    var_0.usepriority = -1;
    var_0.usefov = 180;
    var_0.friendlyuseonly = 1;
    var_0.ownerusetime = 2.0;
    var_0.otherusetime = 2.0;
    var_0.activatecallback = scripts\cp_mp\killstreaks\airdrop::client_activate;
    var_0.capturecallback = ::client_hint;
    var_0.destroycallback = scripts\cp_mp\killstreaks\airdrop::clientmatchdata_logplayerdeath;
    var_0.force_spawn_all_dead_players = scripts\cp_mp\killstreaks\airdrop::clients;
    var_0.destroyoncapture = 0;
}

client_hint( var_0 )
{
    if ( isdefined( self._id_1236F ) )
    {
        self._id_1236F setscriptablepartstate( "smoke_signal", "off", 0 );
        self._id_1236F delete();
    }

    var_0 thread scripts\mp\utility\points::giveunifiedpoints( "br_c130_box_open" );
    var_0._id_11D32 = 1;
}

countdownendcallback()
{
    return !istrue( self._id_11D32 );
}

g( var_0, var_1 )
{
    if ( var_1 == "juggernaut" )
        var_0._id_12331 = 1;

    return var_0;
}

quarry_intro1_chopper()
{
    game["dialog"]["payload_welcome"] = "gametype_payload";
    game["dialog"]["halftime"] = "gametype_payload_halftime";
    game["dialog"]["timesup_120"] = "payload_2_min";
    game["dialog"]["timesup_60"] = "payload_60_sec";
    game["dialog"]["timesup_45"] = "payload_45_sec";
    game["dialog"]["timesup_20"] = "payload_20_sec";
    game["dialog"]["timesup_10"] = "payload_10_sec";
    game["dialog"]["payload_oob"] = "payload_out";
    game["dialog"]["redeploy"] = "payload_attack_prepare";
    game["dialog"]["contract_acquired"] = "contract_acquired";
    game["dialog"]["contract_complete"] = "contract_complete";
    game["dialog"]["contract_fail"] = "contract_fail";
    game["dialog"]["attack_intro1"] = "gametype_desc_payload_attack";
    game["dialog"]["attack_intro2"] = "gametype_desc_payload_attack2";
    game["dialog"]["attack_securing_a"] = "payload_attack_alpha_move";
    game["dialog"]["attack_securing_b"] = "payload_attack_bravo_move";
    game["dialog"]["attack_losing_a"] = "payload_attack_a_back";
    game["dialog"]["attack_losing_b"] = "payload_attack_b_back";
    game["dialog"]["attack_contested_a"] = "payload_attack_a_contest";
    game["dialog"]["attack_contested_b"] = "payload_attack_b_contest";
    game["dialog"]["attack_blocked_a"] = "payload_attack_a_blocked";
    game["dialog"]["attack_blocked_b"] = "payload_attack_b_blocked";
    game["dialog"]["attack_obstacle_a"] = "payload_obs_a";
    game["dialog"]["attack_obstacle_b"] = "payload_obs_b";
    game["dialog"]["attack_secured1_a"] = [ "payload_attack_a_success", "payload_attack_sat_1" ];
    game["dialog"]["attack_secured1_b"] = [ "payload_attack_b_success", "payload_attack_sat_1" ];
    game["dialog"]["attack_secured2_a"] = [ "payload_attack_a_success", "payload_attack_sat_2" ];
    game["dialog"]["attack_secured2_b"] = [ "payload_attack_b_success", "payload_attack_sat_2" ];
    game["dialog"]["attack_secured3_a"] = [ "payload_attack_path_a", "payload_attack_sat_3" ];
    game["dialog"]["attack_secured3_b"] = [ "payload_attack_path_b", "payload_attack_sat_3" ];
    game["dialog"]["payload_attack_a_success"] = "payload_attack_a_success";
    game["dialog"]["payload_attack_b_success"] = "payload_attack_b_success";
    game["dialog"]["payload_attack_path_a"] = "payload_attack_path_a";
    game["dialog"]["payload_attack_path_b"] = "payload_attack_path_b";
    game["dialog"]["payload_attack_sat_1"] = "payload_attack_sat_1";
    game["dialog"]["payload_attack_sat_2"] = "payload_attack_sat_2";
    game["dialog"]["payload_attack_sat_3"] = "payload_attack_sat_3";
    game["dialog"]["attack_overtime"] = "payload_attack_overtime";
    game["dialog"]["attack_near1_a"] = "payload_attack_a_near1";
    game["dialog"]["attack_near1_b"] = "payload_attack_b_near1";
    game["dialog"]["attack_near2_a"] = "payload_attack_a_near2";
    game["dialog"]["attack_near2_b"] = "payload_attack_b_near2";
    game["dialog"]["attack_near3_a"] = "payload_attack_a_near3";
    game["dialog"]["attack_near3_b"] = "payload_attack_b_near3";
    game["dialog"]["attack_finished"] = "payload_attack_win";
    game["dialog"]["attack_stopped"] = "payload_attack_lose";
    game["dialog"]["defend_intro1"] = "gametype_desc_payload_defend";
    game["dialog"]["defend_intro2"] = "gametype_desc_payload_defend2";
    game["dialog"]["defend_losing_a"] = "payload_defend_a_move";
    game["dialog"]["defend_losing_b"] = "payload_defend_b_move";
    game["dialog"]["defend_securing_a"] = "payload_defend_a_retreat";
    game["dialog"]["defend_securing_b"] = "payload_defend_b_retreat";
    game["dialog"]["defend_contested_a"] = "payload_defend_a_contest";
    game["dialog"]["defend_contested_b"] = "payload_defend_b_contest";
    game["dialog"]["defend_blocked_a"] = "payload_defend_a_block";
    game["dialog"]["defend_blocked_b"] = "payload_defend_b_block";
    game["dialog"]["defend_obstacle_a"] = "payload_defend_a_destroy";
    game["dialog"]["defend_obstacle_b"] = "payload_defend_b_destroy";
    game["dialog"]["defend_lost1_a"] = [ "payload_defend_cross_fail1", "payload_defend_sat_1" ];
    game["dialog"]["defend_lost1_b"] = [ "payload_defend_cross_fail1", "payload_defend_sat_1" ];
    game["dialog"]["defend_lost2_a"] = [ "payload_defend_cross_fail2", "payload_defend_sat_2" ];
    game["dialog"]["defend_lost2_b"] = [ "payload_defend_cross_fail2", "payload_defend_sat_2" ];
    game["dialog"]["defend_lost3_a"] = [ "payload_defend_path_a", "payload_defend_sat_3" ];
    game["dialog"]["defend_lost3_b"] = [ "payload_defend_path_b", "payload_defend_sat_3" ];
    game["dialog"]["payload_defend_cross_fail1"] = "payload_defend_cross_fail1";
    game["dialog"]["payload_defend_cross_fail2"] = "payload_defend_cross_fail2";
    game["dialog"]["payload_defend_path_a"] = "payload_defend_path_a";
    game["dialog"]["payload_defend_path_b"] = "payload_defend_path_b";
    game["dialog"]["payload_defend_sat_1"] = "payload_defend_sat_1";
    game["dialog"]["payload_defend_sat_2"] = "payload_defend_sat_2";
    game["dialog"]["payload_defend_sat_3"] = "payload_defend_sat_3";
    game["dialog"]["defend_overtime"] = "payload_defend_overtime";
    game["dialog"]["defend_near1_a"] = "payload_defend_a_near1";
    game["dialog"]["defend_near1_b"] = "payload_defend_b_near1";
    game["dialog"]["defend_near2_a"] = "payload_defend_a_near2";
    game["dialog"]["defend_near2_b"] = "payload_defend_b_near2";
    game["dialog"]["defend_near3_a"] = "payload_defend_a_near3";
    game["dialog"]["defend_near3_b"] = "payload_defend_b_near3";
    game["dialog"]["defend_stopped"] = "payload_defend_win";
    game["dialog"]["defend_finished"] = "payload_defend_lose";
    game["dialog"]["round_success"] = undefined;
    game["dialog"]["round_failure"] = undefined;
    game["dialog"]["round_draw"] = undefined;
}

_id_1308F( var_0, var_1, var_2, var_3 )
{
    if ( !isdefined( var_0 ) )
    {
        var_2._id_13095 = "none";
        var_2._id_13094 = gettime() + level.cloudorigin._id_13093;
        var_2._id_13088 = gettime() + level.cloudorigin._id_13087;
        return;
    }

    if ( isdefined( var_3 ) )
        wait( var_3 );

    var_4 = _id_122A9( var_0 );
    var_5 = isdefined( var_2 ) && var_2._id_13095 == var_0;

    if ( !var_4 && var_5 && isdefined( var_2 ) && var_2._id_13094 > gettime() && var_2._id_13088 > gettime() )
    {
        var_2._id_13086 = gettime() + level.cloudorigin._id_13085;
        return;
    }

    if ( !var_4 && !var_5 && isdefined( var_2 ) && var_2._id_13086 > gettime() )
    {
        var_2._id_13088 = gettime() + level.cloudorigin._id_13087;
        var_2._id_13094 = gettime() + level.cloudorigin._id_1308D;
        return;
    }

    var_6 = var_5 && isdefined( var_2 ) && var_2._id_13088 <= gettime();
    var_7 = undefined;
    var_8 = undefined;
    var_9 = var_4;
    var_10 = var_4;
    var_11 = undefined;

    switch ( var_0 )
    {
        case "forward":
            var_7 = "attack_securing" + var_2.iconname;
            var_8 = "defend_losing" + var_2.iconname;

            if ( var_6 )
                var_10 = 1;

            break;
        case "reverse":
            var_7 = "attack_losing" + var_2.iconname;
            var_8 = "defend_securing" + var_2.iconname;

            if ( var_6 )
                var_9 = 1;

            break;
        case "contested":
            var_7 = "attack_contested" + var_2.iconname;
            var_8 = "defend_contested" + var_2.iconname;

            if ( var_6 )
                var_9 = 1;

            break;
        case "blocked":
            var_7 = "attack_blocked" + var_2.iconname;
            break;
        case "obstacleRemoved":
            var_7 = "attack_obstacle" + var_2.iconname;
            var_8 = "defend_obstacle" + var_2.iconname;
            break;
        case "checkpoint":
            var_7 = "attack_secured" + var_1 + var_2.iconname;
            var_8 = "defend_lost" + var_1 + var_2.iconname;
            var_11 = 2;
            break;
        case "overtime":
            var_7 = "attack_overtime";
            var_8 = "defend_overtime";
            break;
        case "near":
            var_7 = "attack_near" + var_1 + var_2.iconname;
            var_8 = "defend_near" + var_1 + var_2.iconname;

            if ( var_6 )
                var_10 = 1;

            break;
        case "finished":
            var_7 = "attack_finished";
            var_8 = "defend_finished";
            break;
        case "stopped":
            var_7 = "attack_stopped";
            var_8 = "defend_stopped";
            break;
        default:
            return;
    }

    if ( var_9 )
        thread send_notify_after_player_tac_vis( var_7, game["attackers"], 1, var_11, undefined, 1 );
    else if ( isdefined( var_7 ) )
        thread send_notify_after_player_tac_vis( var_7, game["attackers"], 1, var_11, undefined, 1, var_2 );

    if ( var_10 )
        thread send_notify_after_player_tac_vis( var_8, game["defenders"], 1, var_11, undefined, 1 );
    else if ( isdefined( var_8 ) )
        thread send_notify_after_player_tac_vis( var_8, game["defenders"], 1, var_11, undefined, 1, var_2 );

    if ( isdefined( var_2 ) )
    {
        var_2._id_13095 = var_0;
        var_2._id_13086 = gettime() + level.cloudorigin._id_13085;
        var_2._id_13094 = gettime() + level.cloudorigin._id_13093;

        if ( !var_5 || var_6 )
            var_2._id_13088 = gettime() + level.cloudorigin._id_13087;
    }
}

send_notify_after_player_tac_vis( var_0, var_1, var_2, var_3, var_4, var_5, var_6 )
{
    if ( isarray( game["dialog"][var_0] ) )
    {
        for ( var_7 = 0; var_7 < game["dialog"][var_0].size; var_7++ )
        {
            var_8 = game["dialog"][var_0][var_7];

            if ( isdefined( var_6 ) )
                send_munition_used_notify( var_8, var_1, var_6, var_3 );
            else
                scripts\mp\gametypes\br_public::connected_vandalize_node( var_8, var_1, var_2, var_3, var_4, var_5 );

            waitframe();
        }
    }
    else if ( isdefined( var_6 ) )
        send_munition_used_notify( var_0, var_1, var_6, var_3 );
    else
        scripts\mp\gametypes\br_public::connected_vandalize_node( var_0, var_1, var_2, var_3, var_4, var_5 );
}

_id_122A9( var_0 )
{
    switch ( var_0 )
    {
        case "obstacleRemoved":
        case "finished":
        case "checkpoint":
        case "stopped":
        case "overtime":
            return 1;
        default:
            break;
    }

    return 0;
}

send_munition_used_notify( var_0, var_1, var_2, var_3 )
{
    if ( !isdefined( game["dialog"][var_0] ) )
        return;

    var_4 = scripts\mp\utility\teams::getteamdata( var_1, "players" );

    for ( var_5 = 0; var_5 < var_4.size; var_5++ )
    {
        var_6 = var_4[var_5];
        var_7 = var_6 view_list();

        if ( isdefined( var_7 ) && var_2 != var_7 )
            continue;

        scripts\mp\gametypes\br_public::connected_search_node( var_0, var_6, 1, 1, var_3 );
    }
}

wait_until_trap_room_clear()
{
    self endon( "disconnect" );

    if ( istrue( self._id_13084 ) )
        return;

    self._id_13084 = 1;
    scripts\mp\gametypes\br_public::connected_search_node( "payload_oob", self );
    wait 5;
    self._id_13084 = undefined;
}

timelimitclock()
{
    level endon( "cancel_announcer_dialog" );
    var_0 = 0;
    var_1 = 0;
    var_2 = 0;
    var_3 = 0;
    var_4 = 0;
    var_5 = scripts\engine\utility::ter_op( scripts\mp\utility\game::isanymlgmatch(), 5, 2 );

    while ( game["state"] == "playing" )
    {
        if ( scripts\mp\utility\game::gettimelimit() == 0 )
        {
            waitframe();
            continue;
        }

        if ( !level.timerstopped && scripts\mp\utility\game::gettimelimit() && !istrue( level.bombsplanted ) )
        {
            var_6 = scripts\mp\gamelogic::gettimeremaining() / 1000;
            var_7 = int( var_6 + 0.5 );
            var_8 = 0;

            if ( var_5 == 2 && var_7 % 2 == 1 )
                var_8 = 1;

            if ( !var_0 && ( var_8 == 1 && var_7 == 121 || var_8 == 0 && var_7 == 120 ) )
            {
                scripts\mp\gametypes\br_public::brleaderdialog( "timesup_120", 0, undefined, 1 );
                thread scripts\mp\music_and_dialog::timelimitmusic( "draw" );
                var_0 = 1;
            }
            else if ( !var_1 && ( var_8 == 1 && var_7 == 61 || var_8 == 0 && var_7 == 60 ) )
            {
                scripts\mp\gametypes\br_public::brleaderdialog( "timesup_60", 0, undefined, 1 );
                var_1 = 1;
            }
            else if ( !var_2 && ( var_8 == 0 && var_7 == 46 || var_8 == 1 && var_7 == 45 ) )
            {
                scripts\mp\gametypes\br_public::brleaderdialog( "timesup_45", 0, undefined, 1 );
                var_2 = 1;
            }
            else if ( !var_3 && ( var_8 == 1 && var_7 == 21 || var_8 == 0 && var_7 == 20 ) )
            {
                scripts\mp\gametypes\br_public::brleaderdialog( "timesup_20", 0, undefined, 1 );
                setmusicstate( "br_payload_20_sec_left" );
                var_3 = 1;
            }
            else if ( !var_4 && ( var_8 == 1 && var_7 == 11 || var_8 == 0 && var_7 == 10 ) )
            {
                scripts\mp\gametypes\br_public::brleaderdialog( "timesup_10", 0, undefined, 1 );
                var_4 = 1;
            }

            if ( var_7 <= 10 || var_7 <= 30 && var_7 % var_5 == var_8 )
            {
                level notify( "match_ending_very_soon" );
                var_9 = 1;

                if ( var_7 == 0 )
                    break;

                if ( isdefined( level.overridetimelimitclock ) && level.overridetimelimitclock < var_7 )
                    var_9 = 0;

                if ( var_9 )
                {
                    var_10 = scripts\mp\gamelogic::minigun_sweep_to_loc_safe( var_6 );
                    playsoundatpos( ( 0, 0, 0 ), var_10 );
                }
            }

            if ( var_6 - floor( var_6 ) >= 0.05 )
            {
                wait( var_6 - floor( var_6 ) );
                continue;
            }
        }

        wait 1.0;
    }
}

processcashpileovertimemultiplier()
{
    if ( !level.cloudorigin.dropkit_crate_logic )
        return;

    setomnvar( "requires_scriptmover_ladder_checks", 1 );
    _id_121D3( level.cloudorigin.dropdeliveryatpos, "buildable_checkpoint", "buildable_checkpoint_clipbrush", "checkpoint_01_anim", "iw8_br_payload_raise_bunker", &"BR_PAYLOAD/PURCHASE_BUNKER", &"BR_PAYLOAD/PURCHASE_BUNKER_DISABLED", level.cloudorigin.dropbrlootchoppercrateforpublicevent, "ui_mp_br_mapmenu_icon_bunker" );
    _id_121D3( level.cloudorigin._id_12A6B, "buildable_guardtower", "buildable_guardtower_clipbrush", "guardtower_01_anim", "iw8_br_payload_raise_tower", &"BR_PAYLOAD/PURCHASE_TOWER", &"BR_PAYLOAD/PURCHASE_TOWER_DISABLED", level.cloudorigin.dropminigunondeath, "ui_mp_br_mapmenu_icon_tower" );
    propwaitminigamecleanuponplayernotify();
}

_id_121D3( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8 )
{
    if ( !isdefined( var_0 ) )
        var_0 = scripts\engine\utility::getstructarray( var_1, "targetname" );

    foreach ( var_10 in var_0 )
    {
        if ( !isdefined( var_10.angles ) )
            var_10.angles = ( 0, 0, 0 );

        var_10.spawndistancemax = var_3;
        var_10.fadetogearingup = var_2;
        var_10._id_127F0 = var_1;
        var_10._id_11AA0 = var_4;
        var_10._id_119FE = 0;
        var_11 = spawn( "script_model", var_10.origin );
        var_11.angles = var_10.angles;
        var_11 setmodel( "tag_origin" );
        var_11 hide();
        var_11._id_12E5D = var_5;
        var_11.price = var_7;
        var_11.loc = var_10;
        var_10.dropjuggbox = var_11;
        var_11.scriptable = spawn( "script_model", var_10.origin );
        var_11.scriptable.angles = var_10.angles;
        var_11.scriptable setmodel( "military_hq_crate_02_payload" );
        var_11.scriptable forcenetfieldhighlod( 1 );
        var_11.scriptable setscriptablepartstate( "main", "idle" );
        var_12 = var_11.scriptable;
        var_12._id_12E5D = var_6;
        var_12.price = var_7;
        var_12.loc = var_10;
        var_10.dropjuggernautcrate = var_12;
        var_10.objidnum = scripts\mp\objidpoolmanager::requestobjectiveid( 99 );

        if ( var_10.objidnum != -1 )
        {
            scripts\mp\objidpoolmanager::objective_add_objective( var_10.objidnum, "active", var_10.origin );
            scripts\mp\objidpoolmanager::objective_playermask_hidefromall( var_10.objidnum );
            scripts\mp\objidpoolmanager::update_objective_setbackground( var_10.objidnum, 1 );
            scripts\mp\objidpoolmanager::objective_set_play_intro( var_10.objidnum, 0 );
            scripts\mp\objidpoolmanager::objective_set_play_outro( var_10.objidnum, 0 );
            scripts\mp\objidpoolmanager::update_objective_icon( var_10.objidnum, var_8 );
            scripts\mp\objidpoolmanager::update_objective_ownerteam( var_10.objidnum, game["defenders"] );
            _func_421( var_10.objidnum, 1 );
        }

        var_13 = 0;

        if ( isdefined( var_10.script_group ) )
            var_13 = var_10.script_group;
        else
            var_10.script_group = var_13;

        var_14 = mortars_set_player_targeted( var_13 );

        if ( isdefined( var_14 ) )
        {
            var_15 = var_14.dropkit_crate_logic.size;

            if ( isdefined( var_10.script_index ) )
                var_15 = var_10.script_index;
            else
                var_10.script_index = var_15;

            if ( !isdefined( var_14.dropkit_crate_logic[var_15] ) )
                var_14.dropkit_crate_logic[var_15] = [];

            var_16 = var_14.dropkit_crate_logic[var_15].size;
            var_14.dropkit_crate_logic[var_15][var_16] = var_10;
        }
    }
}

zombieregendelayscaleoutgas( var_0, var_1 )
{
    if ( !level.cloudorigin.dropkit_crate_logic )
        return;

    var_2 = var_0 - 1;
    scripts\mp\flags::gameflagwait( "infil_complete" );

    if ( isdefined( var_1 ) )
    {
        if ( var_0 > 0 && isdefined( var_1.dropkit_crate_logic[var_2] ) )
        {
            foreach ( var_4 in var_1.dropkit_crate_logic[var_2] )
            {
                if ( !istrue( var_4._id_119FE ) )
                    var_4 _id_127EC();
            }
        }

        if ( isdefined( var_1.dropkit_crate_logic[var_0] ) )
        {
            foreach ( var_4 in var_1.dropkit_crate_logic[var_0] )
                var_4 _id_127ED();
        }
    }
    else
    {
        foreach ( var_1 in level.cloudorigin.paths )
        {
            if ( var_0 > 0 && isdefined( var_1.dropkit_crate_logic[var_2] ) )
            {
                foreach ( var_4 in var_1.dropkit_crate_logic[var_2] )
                {
                    if ( !istrue( var_4._id_119FE ) )
                        var_4 _id_127EC();
                }
            }

            if ( isdefined( var_1.dropkit_crate_logic[var_0] ) )
            {
                foreach ( var_4 in var_1.dropkit_crate_logic[var_0] )
                    var_4 _id_127ED();
            }
        }
    }
}

_id_127F1()
{
    var_0 = 5.0;
    level endon( "payloadComplete" );
    level endon( "game_ended" );
    self endon( "death" );
    self endon( "makeStructureUnusable" );
    self notify( "structureWatchUse" );
    self endon( "structureWatchUse" );
    var_1 = self;
    var_1 setcursorhint( "HINT_NOICON" );
    var_1 sethintonobstruction( "show" );
    var_1 setusepriority( -1 );
    var_1 setuseholdduration( "duration_none" );
    var_1 sethintstring( var_1._id_12E5D );
    var_1 sethintstringparams( var_1.price );
    var_1.userate = 1;
    var_1.curprogress = 0;
    var_1.usetime = var_0;
    var_1.inuse = 0;
    var_1.playerusing = undefined;

    for (;;)
    {
        var_1 waittill( "trigger", var_2 );

        if ( istrue( var_2.isjuggernaut ) )
        {
            if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "hud", "showErrorMessage" ) )
                var_2 [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "hud", "showErrorMessage" ) ]]( "KILLSTREAKS/JUGG_CANNOT_BE_USED" );

            continue;
        }

        if ( var_1 _id_127EA( var_2 ) )
        {
            var_3 = int( var_1.price / 100 );
            var_2 scripts\mp\gametypes\br_plunder::playersetplundercount( var_2.plundercount - var_3 );
            _id_12529( var_1.loc, var_2 );
            return;
        }
    }
}

_id_127EA( var_0 )
{
    if ( !var_0 scripts\common\utility::is_crate_use_allowed() )
        return 0;

    if ( !var_0 scripts\cp_mp\utility\player_utility::_isalive() )
        return 0;

    if ( var_0 isonladder() )
        return 0;

    if ( isdefined( self.playerscaptured ) && isdefined( self.playerscaptured[var_0 getentitynumber()] ) )
        return 0;

    if ( istrue( self.issquadonlycrate ) )
    {
        if ( isdefined( self.playersused ) && scripts\engine\utility::array_contains( self.playersused, var_0 ) )
            return 0;

        if ( var_0.squadindex != self.squadindex || var_0.team != self.team )
            return 0;
    }

    if ( istrue( self.reset_ability_invulnerable ) )
    {
        if ( isdefined( self.playersused ) && scripts\engine\utility::array_contains( self.playersused, var_0 ) )
            return 0;

        if ( var_0.team != self.team )
            return 0;
    }

    if ( isbot( var_0 ) )
    {
        if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "airdrop", "botIsKillstreakSupported" ) )
        {
            if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "game", "getGameType" ) )
            {
                if ( [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "game", "getGameType" ) ]]() != "grnd" && ![[ scripts\cp_mp\utility\script_utility::getsharedfunc( "airdrop", "botIsKillstreakSupported" ) ]]( self.cratetype ) )
                    return 0;
            }
        }

        if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "airdrop", "isKillstreakBlockedForBots" ) )
        {
            if ( [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "airdrop", "isKillstreakBlockedForBots" ) ]]( self.cratetype ) )
                return 0;
        }
    }

    if ( !self.isusable )
        return 0;

    if ( var_0 isskydiving() )
        return 0;

    if ( istrue( var_0.inlaststand ) )
        return 0;

    if ( isdefined( self.playerusing ) && self.playerusing != var_0 )
        return 0;

    var_1 = int( self.price / 100 );

    if ( var_0.plundercount < var_1 )
        return 0;

    return 1;
}

_id_127ED()
{
    self.dropjuggbox show();
    self.dropjuggbox.isusable = 1;
    self.dropjuggernautcrate.isusable = 1;
    self.dropjuggbox.scriptable setscriptablepartstate( "main", "idle" );
    self.dropjuggbox makeusable();
    self.dropjuggernautcrate makeusable();
    var_0 = int( self.dropjuggbox.price / 100 );
    var_1 = scripts\mp\utility\teams::getteamdata( game["attackers"], "players" );

    foreach ( var_3 in var_1 )
    {
        self.dropjuggbox.scriptable hudoutlinedisableforclient( var_3 );
        self.dropjuggernautcrate disableplayeruse( var_3 );
        self.dropjuggbox disableplayeruse( var_3 );
    }

    var_5 = scripts\mp\utility\teams::getteamdata( game["defenders"], "players" );

    foreach ( var_3 in var_5 )
    {
        var_7 = isdefined( var_3.plundercount ) && var_3.plundercount >= var_0;
        var_8 = !istrue( self._id_119FE );

        if ( var_8 && var_7 == 0 )
        {
            self.dropjuggbox disableplayeruse( var_3 );
            self.dropjuggernautcrate enableplayeruse( var_3 );
            self.dropjuggbox.scriptable hudoutlinedisableforclient( var_3 );
            continue;
        }

        self.dropjuggbox enableplayeruse( var_3 );
        self.dropjuggernautcrate disableplayeruse( var_3 );

        if ( var_8 && var_7 )
        {
            self.dropjuggbox.scriptable hudoutlineenableforclient( var_3, "outline_depth_cyan" );
            continue;
        }

        self.dropjuggbox.scriptable hudoutlinedisableforclient( var_3 );
    }

    scripts\mp\objidpoolmanager::update_objective_ownerteam( self.dropjuggbox.loc.objidnum, game["defenders"] );
    scripts\mp\objidpoolmanager::objective_playermask_hidefromall( self.dropjuggbox.loc.objidnum );
    scripts\mp\objidpoolmanager::objective_teammask_addtomask( self.dropjuggbox.loc.objidnum, game["defenders"] );
    self.dropjuggbox thread _id_127F1();
    self.dropjuggernautcrate thread _id_127F1();
}

_id_127EC()
{
    self.dropjuggbox notify( "makeStructureUnusable" );
    self.dropjuggernautcrate notify( "makeStructureUnusable" );
    self.dropjuggbox.isusable = 0;
    self.dropjuggernautcrate.isusable = 0;
    self.dropjuggbox.scriptable setscriptablepartstate( "main", "idle" );
    self.dropjuggbox makeunusable();
    self.dropjuggernautcrate makeunusable();
    self.dropjuggbox _id_127EF();
    self.dropjuggernautcrate _id_127EF();
    self.dropjuggbox.scriptable structuredisableoutlineforeveryone();
    scripts\mp\objidpoolmanager::objective_playermask_hidefromall( self.dropjuggbox.loc.objidnum );
    self.dropjuggbox hide();
}

_id_127EF()
{
    var_0 = scripts\mp\utility\teams::getteamdata( game["attackers"], "players" );
    var_1 = scripts\mp\utility\teams::getteamdata( game["defenders"], "players" );

    foreach ( var_3 in var_1 )
        self enableplayeruse( var_3 );

    foreach ( var_3 in var_0 )
        self disableplayeruse( var_3 );
}

structuredisableoutlineforeveryone()
{
    var_0 = scripts\mp\utility\teams::getteamdata( game["attackers"], "players" );
    var_1 = scripts\mp\utility\teams::getteamdata( game["defenders"], "players" );

    if ( var_0.size > 0 )
        self hudoutlinedisableforclients( var_0 );

    if ( var_1.size > 0 )
        self hudoutlinedisableforclients( var_1 );
}

_id_12529( var_0, var_1 )
{
    var_0._id_119FE = 1;
    var_2 = var_0.dropjuggbox;
    var_2 makeunusable();
    var_0.dropjuggbox = var_2;
    var_2 _id_127EE( var_1, var_0.spawndistancemax, var_0._id_11AA0 );
    var_3 = getent( var_0.fadetogearingup, "targetname" );

    if ( isdefined( var_3 ) )
    {
        var_4 = spawn( "script_model", var_0.origin );
        var_4.angles = var_0.angles;
        var_4 clonebrushmodeltoscriptmodel( var_3 );
        var_2.collision = var_4;
        var_5 = getentarrayinradius( "player", "classname", var_0.origin, 500 );

        foreach ( var_1 in var_5 )
        {
            if ( !isalive( var_1 ) )
                continue;

            if ( var_1 istouching( var_4 ) )
                var_1 setorigin( var_0.origin );
        }
    }

    if ( var_0._id_127F0 == "buildable_checkpoint" )
        var_2 thread deafen_ai_near_pa_for_duration();
    else if ( var_0._id_127F0 == "buildable_guardtower" )
        var_2 _id_12A6A( var_1 );

    return var_2;
}

_id_127EE( var_0, var_1, var_2 )
{
    var_3 = 1.53;
    var_4 = anglestoforward( self.angles );
    var_5 = self.origin + var_4 * 50;
    var_6 = spawn( "script_model", self.origin );
    var_6.angles = self.angles;
    var_6 setmodel( "generic_prop_x3" );
    var_6 scriptmodelplayanim( var_2, "structure_reveal" );
    var_6 scriptmodelpauseanim( 1 );
    self.scriptable delete();
    self setmodel( var_1 );
    self linkto( var_6, "j_prop_1", ( 0, 0, 0 ), ( 0, 0, 0 ) );
    self dontinterpolate();
    var_6 scriptmodelpauseanim( 0 );
    wait( var_3 );
    waitframe();
    var_6 delete();
}

battle_tracks_stopbattletracksfromstandingonvehicle( var_0, var_1 )
{
    var_2 = scripts\cp_mp\killstreaks\airdrop::hud_racetrack_timer( var_0 + ( 0, 0, 3000 ), var_0, ( 0, 0, 0 ), "payload_c130_loot", "inactive", undefined, 1 );
    var_2.nevertimeout = 1;
    var_2 setotherent( var_1 );
    var_2 waittill( "collision", var_3, var_4, var_5, var_6, var_7, var_8, var_9, var_10 );
    waitframe();
    var_2 scripts\cp_mp\killstreaks\airdrop::makecrateunusable();
    var_2 delete();
}

nexttrackindex( var_0, var_1, var_2 )
{
    if ( !isdefined( var_0.dropkit_crate_logic[var_1] ) )
        return;

    foreach ( var_4 in var_0.dropkit_crate_logic[var_1] )
    {
        if ( var_4._id_127F0 == var_2 && !istrue( var_4._id_119FE ) )
            return var_4;
    }
}

damagestatedata( var_0, var_1 )
{
    return deactivate_gas_trap_puddles( var_0, var_1, "buildable_checkpoint" );
}

deactivate_gas_trap_trigger( var_0, var_1 )
{
    return deactivate_gas_trap_puddles( var_0, var_1, "buildable_guardtower" );
}

deactivate_gas_trap_puddles( var_0, var_1, var_2 )
{
    var_3 = 25;
    var_4 = 26;
    var_5 = var_1.path;
    var_6 = level.cloudorigin.dropbrweapon;

    if ( var_6 == 0 && var_0.team == game["attackers"] )
    {
        var_0 scripts\mp\gametypes\br_armory_kiosk::activate_gasmask( var_3 );
        return 0;
    }

    if ( var_0.team == game["attackers"] )
        var_6--;

    if ( isdefined( var_5.dropkit_crate_logic[var_6] ) )
    {
        var_7 = nexttrackindex( var_5, var_6, var_2 );

        if ( isdefined( var_7 ) )
        {
            _id_12529( var_7, var_0 );
            return 1;
        }
    }

    var_0 scripts\mp\gametypes\br_armory_kiosk::activate_gasmask( var_4 );
    return 0;
}

deafen_ai_near_pa_for_duration()
{
    level endon( "game_ended" );
    var_0 = ( 0, -30, 0 );
    var_1 = ( 0, -90, 0 );
    var_2 = rotatevector( var_0, self.angles );
    var_3 = self.origin + var_2;
    var_4 = spawnturret( "misc_turret", var_3, "manual_turret_payload_mp", 0 );
    var_4.angles = ( 0, self.angles[1], 0 ) + var_1;
    var_4 setmodel( "weapon_wm_mg_mobile_turret" );
    var_4 setscriptablepartstate( "hide_reticle", 1, 0 );
    self.turret = var_4;
    var_5 = "j_trigger";
    var_6 = var_4 gettagorigin( var_5 );

    if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "manual_turret", "createHintObject" ) )
        var_4.useownerobj = [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "manual_turret", "createHintObject" ) ]]( var_6, "HINT_BUTTON", undefined, &"BR_PAYLOAD/TURRET_MG", -1, "duration_none", undefined, 80, 60, 80, 60 );

    var_4.useownerobj linkto( var_4, var_5 );
    var_4 setdefaultdroppitch( 0 );
    var_4 setturretmodechangewait( 1 );
    var_4.maxhealth = 999999;
    var_4.health = var_4.maxhealth;
    var_4 makeunusable();

    for (;;)
    {
        var_4.useownerobj waittill( "trigger", var_7 );
        var_8 = var_7.origin;
        var_7 scripts\cp_mp\killstreaks\manual_turret::silo_door( 0 );
        var_7 disableturretdismount();
        var_4.owner = var_7;
        var_7 giveweapon( "manual_turret_payload_mp", -1, 0, -1, 1 );
        var_9 = var_7 scripts\cp_mp\utility\inventory_utility::domonitoredweaponswitch( "manual_turret_payload_mp", 1 );

        if ( !istrue( var_9 ) )
        {
            if ( isalive( var_7 ) )
            {
                var_7 enableturretdismount();
                var_7 scripts\cp_mp\killstreaks\manual_turret::silo_door( 1 );

                if ( var_7 hasweapon( "manual_turret_payload_mp" ) )
                    var_7 takeweapon( "manual_turret_payload_mp" );

                var_7 scripts\mp\utility\inventory::switchtolastweapon();
            }

            continue;
        }

        var_4 setotherent( var_7 );
        var_4 setentityowner( var_7 );
        var_7 controlturreton( var_4 );
        var_7 setclientomnvar( "ui_mobile_turret_controls", 2 );
        var_7 setplayerangles( var_4.angles );
        var_7 thread scripts\cp_mp\killstreaks\manual_turret::manualturret_disablefire( var_7, 0.5, 1 );
        waitframe();

        while ( var_7 usebuttonpressed() )
            waitframe();

        while ( isalive( var_7 ) && !var_7 usebuttonpressed() && !var_7 isinexecutionvictim() )
            waitframe();

        if ( isdefined( var_7 ) )
        {
            var_7 enableturretdismount();
            var_7 controlturretoff( var_4 );
            var_7 setclientomnvar( "ui_mobile_turret_controls", 0 );
            var_7 scripts\cp_mp\killstreaks\manual_turret::silo_door( 1 );

            if ( var_7 hasweapon( "manual_turret_payload_mp" ) )
                var_7 takeweapon( "manual_turret_payload_mp" );

            var_7 scripts\mp\utility\inventory::switchtolastweapon();
            var_7 thread scripts\cp_mp\killstreaks\manual_turret::siege_bot_team_triple_cap_check();
            var_7 setorigin( var_8 );
        }

        var_4.owner = undefined;
        var_4 setotherent( undefined );
        var_4 setentityowner( undefined );
        wait 0.5;
    }
}

_id_12A6A( var_0 )
{
    var_1 = 4;

    if ( !isdefined( level.cloudorigin._id_11A83 ) )
        level.cloudorigin._id_11A83 = [];

    if ( level.cloudorigin._id_11A83.size >= var_1 )
    {
        var_2 = undefined;
        var_3 = undefined;

        foreach ( var_6, var_5 in level.cloudorigin._id_11A83 )
        {
            if ( !isdefined( var_3 ) || var_5._id_11A84 < var_3 )
            {
                var_2 = var_6;
                var_3 = var_5._id_11A84;
            }
        }

        level.cloudorigin._id_11A83[var_2] clearportableradar();
        level.cloudorigin._id_11A83[var_2] = undefined;
    }

    self._id_11A84 = gettime();
    self makeportableradar( var_0 );
    level.cloudorigin._id_11A83[self getentitynumber()] = self;
}

tutorial_showtext()
{
    level endon( "game_ended" );
    wait 1;

    if ( !level.cloudorigin.hackomnvarclamp )
        return;

    var_0 = getentitylessscriptablearrayinradius( "scriptable_scriptable_auto_ascender", "classname" );
    var_1 = getentitylessscriptablearrayinradius( "scriptable_scriptable_auto_ascender_solo", "classname" );
    var_2 = getentitylessscriptablearrayinradius( "scriptable_scriptable_auto_ascender_soa_tower", "classname" );
    var_3 = getentitylessscriptablearrayinradius( "scriptable_scriptable_auto_ascender_solo_soa_tower", "classname" );

    if ( var_0.size )
    {
        foreach ( var_5 in var_0 )
        {
            if ( var_5 getscriptablehaspart( "ascender" ) )
                var_5 setscriptablepartstate( "ascender", "noprompt" );
        }
    }

    if ( var_1.size )
    {
        foreach ( var_5 in var_1 )
        {
            if ( var_5 getscriptablehaspart( "ascender_solo" ) )
                var_5 setscriptablepartstate( "ascender_solo", "noprompt" );
        }
    }

    if ( var_2.size )
    {
        foreach ( var_5 in var_2 )
        {
            if ( var_5 getscriptablehaspart( "ascender" ) )
                var_5 setscriptablepartstate( "ascender", "noprompt" );
        }
    }

    if ( var_3.size )
    {
        foreach ( var_5 in var_3 )
        {
            if ( var_5 getscriptablehaspart( "ascender_solo" ) )
                var_5 setscriptablepartstate( "ascender_solo", "noprompt" );
        }
    }
}

prohibited_weapon_list_from_vehicle()
{
    if ( !level.cloudorigin.hoopty_initdamage )
        return;

    var_0 = [ "jeep", "tac_rover" ];
    var_1 = 0;

    if ( !isdefined( level.cloudorigin.vehiclespawns ) )
        level.cloudorigin.vehiclespawns = scripts\engine\utility::getstructarray( "payload_vehicle_spawns", "script_noteworthy" );

    foreach ( var_3 in level.cloudorigin.vehiclespawns )
    {
        var_3._id_13002 = var_3.script_parameters;

        if ( !isdefined( var_3._id_13002 ) )
        {
            var_3._id_13002 = var_0[var_1];
            var_1++;

            if ( var_1 >= var_0.size )
                var_1 = 0;
        }

        if ( !isdefined( var_3.angles ) )
            var_3.angles = ( 0, 0, 0 );

        var_4 = var_3.script_index;
        var_5 = var_3.script_group;
        var_6 = mortars_set_player_targeted( var_5 );

        if ( isdefined( var_6 ) )
        {
            var_7 = var_6.dropcashdeny[var_4];

            if ( !isdefined( var_7.vehiclespawns ) )
                var_7.vehiclespawns = [];

            var_8 = game["attackers"];

            if ( var_3.targetname == "defender" )
                var_8 = game["defenders"];

            if ( !isdefined( var_7.vehiclespawns[var_8] ) )
                var_7.vehiclespawns[var_8] = [];

            var_9 = var_7.vehiclespawns[var_8].size;
            var_7.vehiclespawns[var_8][var_9] = var_3;
        }
    }
}

spawninitialvehicles()
{
    if ( !scripts\mp\flags::gameflag( "prematch_done" ) && !istrue( game["switchedsides"] ) )
        scripts\mp\gametypes\br_vehicles::spawninitialvehicles();
    else
    {
        _id_125A1( 1 );
        thread _id_12542( game["attackers"] );
        thread _id_12542( game["defenders"] );
    }
}

_id_12542( var_0 )
{
    level endon( "game_ended" );
    level notify( "spawnDrivableVehiclesTimer_" + var_0 );
    level endon( "spawnDrivableVehiclesTimer_" + var_0 );
    var_1 = 2;
    var_2 = 1;

    foreach ( var_4 in level.cloudorigin.paths )
        var_4.team_planted_bomb[var_0] = 0;

    for (;;)
    {
        foreach ( var_4 in level.cloudorigin.paths )
        {
            var_7 = minigamelosersettings( var_4 );

            if ( var_7 < 0 )
                var_7 = 0;

            var_8 = var_4.dropcashdeny[var_7];

            if ( isdefined( var_8 ) && isdefined( var_8.vehiclespawns ) )
            {
                var_9 = var_8.vehiclespawns[var_0];

                foreach ( var_11 in var_9 )
                {
                    if ( var_4.team_planted_bomb[var_0] >= var_1 )
                        break;

                    if ( istrue( var_11.inuse ) )
                        continue;

                    var_12 = scripts\mp\gametypes\br_vehicles::tryspawnavehicle( var_11._id_13002, var_11, "alwaysSpawn" );

                    if ( isdefined( var_12 ) )
                    {
                        scripts\cp_mp\vehicles\vehicle_spawn::_id_12FC6( var_12 );
                        var_12 thread _id_12FF8( var_4, var_11, var_0 );

                        if ( !var_2 )
                            break;
                    }
                }
            }
        }

        var_2 = 0;
        wait( level.cloudorigin._id_125A2 );
    }
}

_id_12FF8( var_0, var_1, var_2 )
{
    level endon( "game_ended" );
    var_0.team_planted_bomb[var_2]++;
    var_1.inuse = 1;
    self waittill( "death" );
    var_0.team_planted_bomb[var_2]--;
    var_1.inuse = undefined;
}

mountain_two_death_func( var_0, var_1 )
{
    var_2 = var_0.nodes[var_1].origin;

    if ( var_1 + 1 < var_0.nodes.size )
    {
        var_3 = var_0.nodes[var_1 + 1].origin;
        var_4 = var_3 - var_2;
    }
    else
    {
        var_5 = var_0.nodes[var_1 - 1].origin;
        var_4 = var_2 - var_5;
    }

    return var_4;
}

_id_1227B( var_0 )
{
    if ( level.cloudorigin.tv_station_fastrope_one_infil_start_targetname_array == "port" && var_0.label == "B" && var_0.dropbrweapon == 0 || level.cloudorigin.tv_station_fastrope_one_infil_start_targetname_array == "trainstation2" && var_0.label == "A" && var_0.dropbrweapon == 1 )
        return 1;

    return 0;
}

dropbrsuper( var_0 )
{
    [var_2, var_3, var_4, var_5] = isweaponvariantlocked( var_0, var_0.dropbrweapon );
    thread fxorigintag( var_0, var_2, var_4 );
    thread fxorigintag( var_0, var_3, var_4 );
}

isweaponvariantlocked( var_0, var_1 )
{
    var_2 = 150;
    var_3 = 200;
    var_4 = 5;
    var_5 = 30;
    var_6 = 184;
    var_7 = var_2 - var_4;
    var_8 = 50;
    var_9 = var_0.dropcashdeny[var_1].syncleadmarkers;
    var_10 = var_0.nodes[var_9].origin;
    var_11 = var_0.nodes[var_9].angles;
    var_12 = vectornormalize( mountain_two_death_func( var_0, var_9 ) );
    var_13 = vectortoangles( var_12 );
    var_14 = anglestoright( var_13 );
    var_15 = -1 * var_14;
    var_16 = var_10 + var_6 * var_12 + var_2 * var_14;
    var_17 = var_10 + var_6 * var_12 + var_2 * var_15;
    var_18 = 0;
    var_19 = 0;

    for ( var_20 = var_2; var_20 <= var_3; var_20 = var_20 + var_4 )
    {
        var_21 = var_10 + var_6 * var_12 + var_20 * var_14;
        var_22 = scripts\mp\gametypes\br_public::idflags_penetration_player_only( var_21 );
        var_23 = abs( var_10[2] - var_22[2] );
        var_24 = var_23 < var_5;

        if ( var_24 && !var_19 )
        {
            var_17 = var_22;
            var_19 = 1;
        }

        var_25 = var_10 + var_6 * var_12 + var_20 * var_15;
        var_26 = scripts\mp\gametypes\br_public::idflags_penetration_player_only( var_25 );
        var_27 = abs( var_10[2] - var_26[2] );
        var_28 = var_27 < var_5;

        if ( var_28 && !var_18 )
        {
            var_16 = var_26;
            var_18 = 1;
        }

        if ( var_28 && var_24 )
            return [ var_22, var_26, var_13, 1 ];
    }

    waitframe();

    if ( !var_18 || !var_19 )
    {
        for ( var_20 = var_8; var_20 <= var_7; var_20 = var_20 - var_4 )
        {
            if ( !var_19 )
            {
                var_21 = var_10 + var_6 * var_12 + var_20 * var_14;
                var_22 = scripts\mp\gametypes\br_public::idflags_penetration_player_only( var_21 );
                var_23 = abs( var_10[2] - var_22[2] );
                var_24 = var_23 < var_5;

                if ( var_24 )
                {
                    var_17 = var_22;
                    var_19 = 1;
                }
            }

            if ( !var_18 )
            {
                var_25 = var_10 + var_6 * var_12 + var_20 * var_15;
                var_26 = scripts\mp\gametypes\br_public::idflags_penetration_player_only( var_25 );
                var_27 = abs( var_10[2] - var_26[2] );
                var_28 = var_27 < var_5;

                if ( var_28 )
                {
                    var_16 = var_26;
                    var_18 = 1;
                }
            }

            if ( var_18 && var_19 )
                break;
        }
    }

    return [ var_16, var_17, var_13, 0 ];
}

fxorigintag( var_0, var_1, var_2 )
{
    var_3 = spawn( "script_model", var_1 );
    var_3.angles = ( 0, var_2[1], 0 );
    var_3 setmodel( "vfx_br_payload_checkpoint" );
    var_3 forcenetfieldhighlod( 1 );
    var_4 = "checkpoint";

    if ( _id_1227B( var_0 ) )
        var_4 = "checkpoint_ohcheck";

    var_3 setscriptablepartstate( "checkpoint", var_4 );
    _id_13116( var_0 );
    var_3 setscriptablepartstate( "checkpoint", "checkpoint_clear" );
    wait 5;
    var_3 delete();
}

_id_13116( var_0 )
{
    var_0 waittill( "checkPointUpdate" );
}

votesys_init( var_0, var_1 )
{
    level endon( "payloadComplete" );
    level endon( "game_ended" );
    self endon( "death_or_disconnect" );
    self giveweapon( var_0 );
    self setweaponammostock( var_0, 0 );
    self setweaponammoclip( var_0, 0 );
    scripts\mp\supers::allowsuperweaponstow();
    var_2 = scripts\cp_mp\utility\inventory_utility::domonitoredweaponswitch( var_0, 0, 1 );

    if ( !istrue( var_2 ) )
    {
        scripts\mp\supers::unstowsuperweapon();

        if ( scripts\cp_mp\utility\inventory_utility::isswitchingtoweaponwithmonitoring( var_0 ) )
            scripts\cp_mp\utility\inventory_utility::abortmonitoredweaponswitch( var_0 );
        else
            self takeweapon( var_0 );
    }

    var_1 notify( "build_tool_ready" );

    while ( istrue( self.register_sequence_3_objectives ) )
    {
        waitframe();

        if ( !scripts\cp_mp\utility\inventory_utility::iscurrentweapon( var_0 ) )
            self.register_sequence_3_objectives = 0;
    }

    var_1 show();
    scripts\cp_mp\utility\inventory_utility::getridofweapon( var_0 );
    var_1 notify( "build_complete" );
}

vote_player_set( var_0, var_1 )
{
    var_2 = self;
    level endon( "payloadComplete" );
    level endon( "game_ended" );
    var_2 endon( "death_or_disconnect" );

    if ( var_2 isgestureplaying( "iw8_ges_payload_build_barrier" ) )
        return;

    var_2 enableoffhandweapons();
    var_2 giveandfireoffhand( var_0 );
    waitframe();

    if ( !var_2 hasweapon( var_0 ) )
    {
        var_2 giveandfireoffhand( var_0 );
        waitframe();
    }

    var_1 notify( "build_tool_ready" );

    while ( istrue( var_2.register_sequence_3_objectives ) )
        waitframe();

    self takeweapon( var_0 );
    var_1 notify( "build_complete" );
}

tv_station_fastrope_two_infil_start_targetname_array()
{
    if ( !istrue( level.cloudorigin.tv_station_infil_enemies_attack_logic ) )
        return;

    level endon( "payloadComplete" );
    level endon( "game_ended" );
    scripts\mp\flags::gameflagwait( "prematch_done" );
    level._id_12950 = [];
    level._id_12950[game["attackers"]] = [];
    level._id_12950[game["defenders"]] = [];
    level._id_12947 = [];
    level._id_12947[game["attackers"]] = undefined;
    level._id_12947[game["defenders"]] = undefined;
    var_0 = 1;

    for (;;)
    {
        level waittill( "checkPointUpdate", var_1 );
        var_2 = int( max( minigamewinnersettings() - 1, 0 ) );
        wait 3;
        var_3 = undefined;
        var_4 = undefined;

        if ( istrue( level.cloudorigin.tv_station_gas_rise ) || istrue( level.cloudorigin.tv_station_infil_enemy_combat_logic ) )
        {
            var_5 = scripts\mp\gametypes\br_capshoot_quest::mine_caves_barrels_damage_watch();
            var_3 = var_5[var_2 % var_5.size];
        }

        if ( istrue( level.cloudorigin.tv_station_get_bomb_icon_on_cell_phone ) || istrue( level.cloudorigin.tv_station_infil_enemy_combat_logic ) )
        {
            var_6 = scripts\mp\gametypes\br_capshoot_quest::missiontime();
            var_4 = var_6[var_2 % var_6.size];
        }

        var_7 = level.cloudorigin.tv_station_global_stealth_broken;

        if ( istrue( level.cloudorigin.tv_station_gas_rise ) )
        {
            thread fxent2( var_1, var_7, game["attackers"], var_3, game["defenders"], var_4 );

            if ( var_0 )
                _id_122CC( game["attackers"] );
        }

        if ( istrue( level.cloudorigin.tv_station_get_bomb_icon_on_cell_phone ) )
        {
            thread fxent2( var_1, var_7, game["defenders"], var_4, game["attackers"], var_3 );

            if ( var_0 )
                _id_122CC( game["defenders"] );
        }

        if ( var_0 )
            var_0 = 0;
    }
}

fxent2( var_0, var_1, var_2, var_3, var_4, var_5 )
{
    level notify( "create_quest_tablets" );
    level endon( "create_quest_tablets" );

    for ( var_6 = 0; var_6 < var_1; var_6++ )
        fxangles( var_0, var_2, var_3, var_4, var_5 );
}

fxangles( var_0, var_1, var_2, var_3, var_4 )
{
    if ( !isdefined( var_0 ) )
        return;

    var_5 = -600;
    var_6 = -300;
    var_7 = 15;
    var_8 = var_0;

    if ( istrue( var_0.farms2_gw_ambient_sound_load ) )
        var_8 = morsenumber( var_0 );

    var_9 = undefined;

    if ( isdefined( var_8.flarecooldown ) )
        var_9 = var_8.flarecooldown;
    else
        var_9 = var_8.vehicle;

    if ( isdefined( var_9 ) )
    {
        var_10 = randomfloatrange( -1 * var_7, var_7 );
        var_11 = ( 0, var_9.angles[1] + var_10, 0 );
        var_12 = anglestoforward( var_11 );
        var_13 = randomfloatrange( var_5, var_6 );
        var_14 = var_9.origin + var_12 * var_13;
        var_15 = _id_12527( var_14, var_1, var_2, var_3, var_4 );
        var_15.path = var_8;
    }
}

_id_12527( var_0, var_1, var_2, var_3, var_4 )
{
    var_5 = 20;
    var_6 = scripts\mp\gametypes\br_public::idflags_penetration_player_only( var_0 );
    var_6 = var_6 + ( 0, 0, var_5 );
    var_7 = scripts\mp\gametypes\br_quest_util::_id_124F3( var_2, var_6 );

    if ( isdefined( var_7 ) )
    {
        var_7.team = var_1;

        if ( reset_recharge_after_respawn() )
            var_7.updateprematchloadoutarray = ::isweaponuihidden;

        if ( istrue( level.cloudorigin.tv_station_infil_enemy_combat_logic ) )
        {
            var_7.trial_dlog_gunslinger = ::mine_caves_turret_1_support;
            var_7.otherteam = var_3;
            var_7.trial_dlog_jugg = var_4;
        }

        scripts\mp\gametypes\br_pickups::_id_11BBC( var_7 );
    }

    return var_7;
}

isweaponuihidden( var_0, var_1 )
{
    var_2 = undefined;
    var_3 = var_1.path;

    if ( reset_recharge_after_respawn() && isdefined( var_3 ) )
    {
        level.cloudorigin._id_11A38 = var_3;
        var_4 = scripts\engine\utility::array_sort_with_func( level.cloudorigin._id_11A37, ::adjust_player_pos_memory_array_size );
        level.cloudorigin._id_11A38 = undefined;
        var_5 = var_4[0];

        if ( isdefined( var_5 ) )
        {
            var_2 = spawnstruct();
            var_2.origin = var_5.origin;
            var_2.angles = var_5.angles;
            var_2.spawnflags = 16;
            level.cloudorigin._id_11A37 = scripts\engine\utility::array_remove( level.cloudorigin._id_11A37, var_5 );
        }
    }

    return var_2;
}

mine_caves_turret_1_support( var_0 )
{
    var_1 = var_0.otherteam;
    var_2 = var_0.path;

    if ( !isdefined( var_1 ) || !isdefined( var_2 ) || !isdefined( var_2.vehicle ) )
        return undefined;

    var_3 = undefined;
    var_4 = undefined;

    foreach ( var_6 in level.squaddata[var_1] )
    {
        var_7 = 0;
        var_8 = var_6.players.size;

        if ( var_8 > 0 )
        {
            foreach ( var_10 in var_6.players )
                var_7 = var_7 + distancesquared( var_10.origin, var_2.vehicle.origin );

            var_7 = var_7 / var_8;

            if ( !istrue( var_4 ) || var_7 > var_4 )
            {
                var_3 = var_6;
                var_4 = var_7;
            }
        }
    }

    if ( isdefined( var_3 ) && var_3.players.size > 0 )
        return var_3.players[0];

    return undefined;
}

_id_122CC( var_0 )
{
    var_1 = scripts\mp\utility\teams::getteamdata( var_0, "players" );

    foreach ( var_3 in var_1 )
    {
        if ( isdefined( var_3 ) && isalive( var_3 ) )
            var_3 thread scripts\mp\hud_message::showsplash( "br_capshoot_quest_first_tablet_alert" );
    }
}

reset_recharge_after_respawn()
{
    return isdefined( level.cloudorigin._id_11A37 ) && level.cloudorigin._id_11A37.size > 0;
}

adjustactivespawnlogic( var_0, var_1 )
{
    var_2 = level.cloudorigin._id_11A38;
    var_3 = minigamelosersettings( var_2 );
    var_4 = var_2.dropcashdeny[var_3].syncleadmarkers;
    var_5 = var_2.nodes[var_4].origin;
    return distancesquared( var_0.origin, var_5 ) < distancesquared( var_1.origin, var_5 );
}

adjust_player_pos_memory_array_size( var_0, var_1 )
{
    var_2 = level.cloudorigin._id_11A38;
    var_3 = var_2.vehicle.origin;
    return distancesquared( var_0.origin, var_3 ) < distancesquared( var_1.origin, var_3 );
}

_id_1213E( var_0 )
{
    _id_1211A( "current_player_path_assignment", var_0 );
}

_id_12140( var_0 )
{
    _id_1211A( "current_player_team_assignment", var_0 );
}

_id_1213F( var_0 )
{
    _id_1211A( "current_player_respawn", var_0 );
}

setomnvarcurrentplayertacmap( var_0 )
{
    _id_1211A( "current_player_tacmap", var_0 );
}

_id_12141( var_0 )
{
    _id_1211A( "in_cinematic_controls_locked", var_0 );
}

_id_12145( var_0, var_1 )
{
    var_2 = scripts\engine\utility::ter_op( var_0 == 1, "number_of_teammates_on_path_b", "number_of_teammates_on_path_a" );
    _id_1211B( var_2, var_1 );
}

_id_12149( var_0, var_1 )
{
    var_2 = scripts\engine\utility::ter_op( var_0 == 1, "path_b_state", "path_a_state" );
    _id_1211B( var_2, var_1 );
}

_id_12144( var_0, var_1 )
{
    var_2 = scripts\engine\utility::ter_op( var_0 == 1, "path_b_checkpoints_complete", "path_a_checkpoints_complete" );
    _id_1211B( var_2, var_1 );
}

_id_12143( var_0 )
{
    var_1 = int( var_0 / 100 );
    var_1 = scripts\engine\utility::ter_op( var_1 <= 0, 0, var_1 );
    _id_1211B( "last_chance_time", var_1 );
}

_id_12142( var_0 )
{
    if ( !isdefined( var_0 ) )
        var_0 = 0;

    _id_1211B( "last_chance_max_time", var_0 );
}

showing_bomb_wire_pair_to_player( var_0 )
{
    var_1 = 0;

    if ( var_0 >= 0.999 )
        var_1 = 10000;
    else if ( var_0 > 0.0 )
        var_1 = int( var_0 * 10000 );

    return var_1;
}

_id_12148( var_0, var_1 )
{
    var_2 = scripts\engine\utility::ter_op( var_0 == 1, "path_b_percent_complete", "path_a_percent_complete" );
    var_3 = showing_bomb_wire_pair_to_player( var_1 );
    _id_1211B( var_2, var_3 );
}

_id_12146( var_0, var_1, var_2 )
{
    var_3 = scripts\engine\utility::ter_op( var_0 == 1, "path_b_obstacle_state", "path_a_obstacle_state" );
    var_4 = scripts\engine\utility::ter_op( var_2 == 1, 1, 0 );
    _id_1211B( var_3, var_4, var_1 );
}

_id_1211B( var_0, var_1, var_2 )
{
    [var_4, var_5, var_6, var_1] = modeonexitlaststandfunc( var_0, var_1 );

    if ( isdefined( var_2 ) )
        var_4 = var_4 + var_2;

    if ( var_6 == "" )
        return;

    waitandgetnewspawnpoint( var_6, var_1, var_4, var_5 );
}

_id_1211A( var_0, var_1 )
{
    [var_3, var_4, var_5, var_1] = modeonexitlaststandfunc( var_0, var_1 );

    if ( var_5 == "" )
        return;

    waitandapplybrweaponxp( var_5, var_1, var_3, var_4 );
}

modeonexitlaststandfunc( var_0, var_1 )
{
    var_2 = 0;
    var_3 = 0;
    var_4 = "";

    switch ( var_0 )
    {
        case "current_player_path_assignment":
            [var_2, var_3] = [ 0, 1 ];
            var_4 = "ui_br_payload_data_client";
            break;
        case "current_player_team_assignment":
            [var_2, var_3] = [ 1, 1 ];
            var_4 = "ui_br_payload_data_client";
            break;
        case "current_player_respawn":
            [var_2, var_3] = [ 2, 1 ];
            var_4 = "ui_br_payload_data_client";
            break;
        case "in_cinematic_controls_locked":
            [var_2, var_3] = [ 3, 1 ];
            var_4 = "ui_br_payload_data_client";
            break;
        case "current_player_tacmap":
            [var_2, var_3] = [ 4, 1 ];
            var_4 = "ui_br_payload_data_client";
            break;
        case "number_of_teammates_on_path_a":
            [var_2, var_3] = [ 0, 6 ];
            var_4 = "ui_br_payload_data";
            break;
        case "number_of_teammates_on_path_b":
            [var_2, var_3] = [ 6, 6 ];
            var_4 = "ui_br_payload_data";
            break;
        case "path_a_state":
            [var_2, var_3] = [ 12, 3 ];
            var_4 = "ui_br_payload_data";
            break;
        case "path_b_state":
            [var_2, var_3] = [ 15, 3 ];
            var_4 = "ui_br_payload_data";
            break;
        case "path_a_checkpoints_complete":
            [var_2, var_3] = [ 18, 2 ];
            var_4 = "ui_br_payload_data";
            break;
        case "path_b_checkpoints_complete":
            [var_2, var_3] = [ 20, 2 ];
            var_4 = "ui_br_payload_data";
            break;
        case "last_chance_time":
            [var_2, var_3] = [ 22, 10 ];
            var_4 = "ui_br_payload_data";
            break;
        case "path_a_obstacle_state":
            [var_2, var_3] = [ 0, 1 ];
            var_4 = "ui_br_payload_data_2";
            break;
        case "path_b_obstacle_state":
            [var_2, var_3] = [ 10, 1 ];
            var_4 = "ui_br_payload_data_2";
            break;
        case "last_chance_max_time":
            [var_2, var_3] = [ 20, 3 ];
            var_4 = "ui_br_payload_data_2";
            break;
        case "path_a_percent_complete":
            [var_2, var_3] = [ 0, 16 ];
            var_4 = "ui_br_payload_percents";
            break;
        case "path_b_percent_complete":
            [var_2, var_3] = [ 16, 16 ];
            var_4 = "ui_br_payload_percents";
            break;
        default:
            break;
    }

    return [ var_2, var_3, var_4, var_1 ];
}

waitandapplybrweaponxp( var_0, var_1, var_2, var_3 )
{
    var_4 = int( pow( 2, var_3 ) ) - 1;
    var_5 = ( var_1 & var_4 ) << var_2;
    var_6 = ~( var_4 << var_2 );
    var_7 = self getclientomnvar( var_0 );
    var_8 = var_7 & var_6;
    var_9 = var_8 + var_5;

    if ( var_9 != var_7 )
        self setclientomnvar( var_0, var_9 );
}

waitandgetnewspawnpoint( var_0, var_1, var_2, var_3 )
{
    var_4 = int( pow( 2, var_3 ) ) - 1;
    var_5 = ( var_1 & var_4 ) << var_2;
    var_6 = ~( var_4 << var_2 );
    var_7 = getomnvar( var_0 );
    var_8 = var_7 & var_6;
    var_9 = var_8 + var_5;

    if ( var_9 != var_7 )
        setomnvar( var_0, var_9 );
}

tutorial_intro()
{
    level endon( "game_ended" );
    scripts\mp\flags::gameflagwait( "prematch_fade_done" );
    wait 6.0;
    thread tutonplayerkilled();
    scripts\mp\flags::gameflagwait( "infil_complete" );
    wait( randomintrange( 20, 25 ) );
    thread tutonplayerkilled();
}

#using_animtree("script_model");

tutonplayerkilled()
{
    level endon( "game_ended" );
    var_0 = [];
    var_1 = undefined;
    var_2 = level.cloudorigin.tv_station_fastrope_one_infil_start_targetname_array;
    var_3 = [];
    var_4 = 1.2;

    switch ( var_2 )
    {
        case "port":
            var_0[var_0.size] = ( 38775, -23332, 197 );
            var_0[var_0.size] = ( 33582, -25827, -278 );
            var_1 = 255;
            break;
        case "trainstation2":
            var_0[var_0.size] = ( -9592, -17688, -360 );
            var_0[var_0.size] = ( -7456, -20160, 592 );
            var_1 = 15;
            break;
        case "downtown2":
            var_0[var_0.size] = ( 24012, -22726, 371 );
            var_0[var_0.size] = ( 21811, -18619, 784 );
            var_1 = 60;
            break;
        case "standard":
            var_0[var_0.size] = ( 0, 0, 0 );
            var_1 = 0;
            break;
        default:
            break;
    }

    var_5 = spawnstruct();
    var_5.streakname = "precision_airstrike";
    var_5.owner = isverdansksubmap();
    var_5.score = 0;
    var_5.shots_fired = 0;
    var_5.hits = 0;
    var_5.damage = 0;
    var_5.kills = 0;
    var_5.paired_lasers = 0;
    var_5.blueprintextract_shouldgivereward = 0;
    var_6 = undefined;
    var_7 = %mp_alfa10_flyin;
    var_8 = undefined;
    var_9 = 24000;
    var_10 = 6500;
    var_11 = 1000;
    var_12 = 1500;
    var_13 = 215;
    var_14 = ( 0, var_1, 0 );
    var_15 = undefined;
    var_16 = isverdansksubmap();

    if ( isdefined( var_16 ) && istrue( var_0.size > 1 ) )
    {
        for ( var_17 = 0; var_17 < var_0.size; var_17++ )
        {
            var_18 = scripts\cp_mp\killstreaks\airstrike::getflightpath( var_0[var_17], var_14, var_9, 1, var_11, var_10, var_12, var_5.streakname, var_15 );
            wait( var_4 );
            var_11 = var_11 + randomintrange( 200, 300 );
            level thread scripts\cp_mp\killstreaks\airstrike::doplanestrike( var_0[var_17], var_18["startPoint"], var_18["endPoint"], var_11, var_6, var_5, var_7, var_5.owner, var_8 );
        }

        level thread is_module_active( var_2, var_4 );
    }
}

is_module_active( var_0, var_1 )
{
    level endon( "game_ended" );
    wait 5;

    switch ( var_0 )
    {
        case "port":
            scripts\engine\utility::exploder( "pl_intro_exp_docks" );
            wait( var_1 - 1 );
            scripts\engine\utility::exploder( "pl_intro_exp_docks2" );
            break;
        case "trainstation2":
            wait 0.5;
            scripts\engine\utility::exploder( "pl_intro_exp_trnstn" );
            wait( var_1 - 0.7 );
            scripts\engine\utility::exploder( "pl_intro_exp_trnstn2" );
            break;
        case "downtown2":
            wait( var_1 - 1 );
            scripts\engine\utility::exploder( "pl_intro_exp_dwtn" );
            scripts\engine\utility::exploder( "pl_intro_exp_dwtn2" );
            break;
        case "standard":
            scripts\engine\utility::exploder( "pl_intro_exp_1" );
            break;
        default:
            break;
    }
}

isverdansksubmap()
{
    var_0 = undefined;

    foreach ( var_2 in level.players )
    {
        if ( isalive( var_2 ) && var_2.team == game["attackers"] )
        {
            var_0 = var_2;
            break;
        }
    }

    return var_0;
}

startspectatorview()
{
    level endon( "payloadComplete" );
    level endon( "game_ended" );
    self endon( "disconnect" );
    self endon( "spawned_player" );
    scripts\mp\gametypes\br_spectate::vehicle_travel_player_connect_monitor();

    if ( isbot( self ) )
        return;

    thread vehicledamageimmunity();
    scripts\mp\utility\player::updatesessionstate( "spectator" );
    scripts\mp\spectating::setdisabled();

    if ( isdefined( self.lastdeathangles ) )
        self setplayerangles( self.lastdeathangles );

    _id_1213F( 1 );
    waitframe();
    var_0 = mousetraplocs();

    if ( !isdefined( var_0 ) )
        return;

    var_1 = var_0.origin;
    var_2 = var_0.angles;
    self cameralinkto( var_0, "tag_origin", 1 );
    self visionsetthermalforplayer( "ac130_color" );
    self thermalvisionon();
    self playlocalsound( "mp_cmd_camera_zoom_out" );
    self setclienttriggeraudiozonepartialwithfade( "spawn_cam", 0.5, "mix" );
}

_id_12DCB( var_0, var_1, var_2, var_3 )
{
    self unlink();
    var_4 = self.origin;
    var_5 = self.angles;
    var_6 = 0;

    if ( var_1[0] != var_4[0] )
    {
        self moveto( var_1, 0.1 );
        var_6 = 1;
    }

    if ( istrue( var_6 ) )
    {
        var_7 = anglestoforward( var_2 ) * 300;
        var_7 = var_7 * ( 1, 1, 0 );
        var_0 earthquakeforplayer( 0.03, 15.0, var_1 + var_7, 1000 );
    }

    thread set_relic_grounded( var_3 );
}

set_relic_grounded( var_0 )
{
    level endon( "payloadComplete" );
    level endon( "game_ended" );
    self endon( "death" );
    self waittill( "movedone" );

    if ( isdefined( var_0 ) )
        self linkto( var_0 );
}

_id_12878( var_0 )
{
    if ( isdefined( self.isused ) && isdefined( self.truckwarspawnlocations ) && !isbot( self ) )
    {
        [var_2, var_3, var_4] = vfx_time( var_0 );
        self.isused _id_12DCB( self, var_2, var_3, var_4 );
    }
}

vfx_time( var_0 )
{
    if ( !isdefined( var_0 ) )
    {
        if ( isdefined( self.truckwarspawnlocations ) )
            var_0 = self.truckwarspawnlocations;
        else
            var_0 = level.cloudorigin.paths[0];
    }

    var_1 = var_0.label;
    var_2 = 0;

    if ( var_1 != "A" )
        var_2 = 1;

    var_3 = mountain_three_death_func( var_2 );
    var_4 = var_3.vehicle;
    var_5 = 88;
    var_6 = var_4.angles[1];
    var_7 = anglestoforward( ( 0, var_6, 0 ) );
    var_8 = 500;
    var_9 = 5000;
    var_10 = ( var_4.origin[0] + var_7[0] * var_8, var_4.origin[1] + var_7[1] * var_8, var_9 );
    var_11 = ( var_5, var_6, 0 );

    if ( self.team == game["defenders"] )
        var_11 = ( var_5, var_6 + 180, 0 );

    return [ var_10, var_11, var_4 ];
}

mousetraplocs()
{
    if ( isdefined( self.isused ) )
        return self.isused;

    var_0 = view_list();
    [var_2, var_3, var_4] = vfx_time( var_0 );
    var_5 = spawn( "script_model", var_2 );
    var_5.angles = var_3;
    var_5 setmodel( "tag_origin" );
    var_5 hide();
    var_5 forcenetfieldhighlod( 1 );
    var_5 showtoplayer( self );
    self.isused = var_5;
    return self.isused;
}

playerstreamoverheadview()
{
    var_0 = view_list();
    [var_2, var_3, var_4] = vfx_time( var_0 );
    scripts\mp\gametypes\br_public::wassquadspawned( var_2 );
}

wait_for_player_gulag_respawn()
{
    level endon( "payloadComplete" );
    level endon( "game_ended" );
    self endon( "disconnect" );
    self waittill( "playerPrestreamComplete" );
    wait 2;
    thread scripts\mp\spawncamera::startoperatorsound();
    waitframe();

    if ( isdefined( self.trap_toggle_logic ) )
    {
        self.trap_toggle_logic.origin = self.origin + ( 0, 0, 80 );
        self.trap_toggle_logic linkto( self );
    }

    scripts\mp\flags::gameflagwait( "infil_complete" );

    if ( isdefined( self.trap_toggle_logic ) )
    {
        self clearsoundsubmix( "iw8_mp_spawn_camera" );
        self.trap_toggle_logic unlink();
        self.trap_toggle_logic stoploopsound( self.trap_trigger_logic );
        self.trap_toggle_logic delete();
        self.trap_toggle_logic = undefined;
        self.trap_trigger_logic = undefined;
    }
}

vehicledamageimmunity()
{
    level endon( "payloadComplete" );
    level endon( "game_ended" );
    self endon( "disconnect" );
    thread scripts\mp\spawncamera::startoperatorsound();
    waitframe();

    if ( isdefined( self.trap_toggle_logic ) )
    {
        self.trap_toggle_logic.origin = self.origin + ( 0, 0, 80 );
        self.trap_toggle_logic linkto( self );
    }
}

publiceventsenabled()
{
    if ( !isdefined( level.cloudorigin._id_11EC3 ) )
    {
        var_0 = [];

        foreach ( var_2 in level.cloudorigin.paths )
        {
            var_0[var_0.size] = _id_12592( "ee_machinery_satellite_solarpanel_04_dmg_payload", var_2.get_actual_grenade_name, 0 );
            var_0[var_0.size] = _id_12592( "ee_machinery_satellite_solarpanel_04_dmg_payload", var_2.get_actual_grenade_name, 1 );
            var_0[var_0.size] = _id_12592( "ee_machinery_satellite_panel_01_payload", var_2.get_actual_grenade_name, 2 );
        }

        level.cloudorigin._id_11EC3 = var_0;
    }

    var_4 = getent( "payload_satellite_clipbrush", "script_noteworthy" );

    if ( isdefined( var_4 ) )
        var_4 delete();

    foreach ( var_2 in level.cloudorigin.paths )
    {
        foreach ( var_7 in level.cloudorigin._id_11EC3 )
        {
            if ( var_7.script_group == var_2.get_actual_grenade_name )
            {
                var_8 = var_7;

                if ( !isent( var_8 ) )
                    var_8 = _id_12592( var_7.model, var_7.script_group, var_7.script_index + 1 );

                var_8 notsolid();
                var_2.pieces[var_2.pieces.size] = var_8;
            }
        }

        var_2.update_restock_ui = _id_12592( "ee_machinery_satellite_thruster_module_nopanel_dmg_payload" );
    }
}

_id_12592( var_0, var_1, var_2 )
{
    var_3 = spawn( "script_model", ( 0, 0, 0 ) );
    var_3 setmodel( var_0 );
    var_3.script_group = var_1;
    var_3.script_index = var_2;
    var_3 hide();
    return var_3;
}

mp_layover_patch( var_0, var_1 )
{
    foreach ( var_3 in var_0.pieces )
    {
        if ( var_3.script_index == var_1 )
            return var_3;
    }
}

_id_12205( var_0, var_1 )
{
    if ( var_1 > 0 )
    {
        var_2 = mp_layover_patch( var_0, var_1 );
        var_0.flarecooldown _id_12C10( var_2, var_1 );
    }
}

_id_12C10( var_0, var_1 )
{
    var_2 = ( 0, 0, 0 );
    var_3 = ( 0, 0, 0 );

    switch ( var_1 )
    {
        case 0:
            var_3 = ( -41.3, -9.2, 106.1 );
            break;
        case 1:
            var_3 = ( -23.7, 40.8, 127.1 );
            var_2 = ( 0, 2, -80 );
            break;
        case 2:
            var_3 = ( -70.7, 40.8, 127.1 );
            var_2 = ( 0, 2, -80 );
            break;
        case 3:
            var_3 = ( 9.7, -1.8, 100.1 );
            var_2 = ( 0, -90, -84 );
            break;
        default:
            break;
    }

    var_0 show();
    var_0 linkto( self, "tag_origin", var_3, var_2 );
}

cinderblock_damage_monitor()
{
    wait 5;
    scripts\mp\utility\sound::announcedomplatespawns( "br_mode_payload_sfx" );
    setglobalsoundcontext( "gamemode", "payload" );
}

strafe_internal()
{
    level endon( "stop_overtime" );
    var_0 = 0;
    var_1 = mortars_fire_logic();

    for (;;)
    {
        var_2 = mortars_fire_logic();

        if ( var_2 > var_1 )
        {
            if ( var_0 >= 10 )
            {
                foreach ( var_4 in level.players )
                    var_4 playlocalsound( "mus_payload_overtime_hit" );
            }

            var_0 = 0;
        }
        else if ( var_2 == var_1 )
            var_0 = var_0 + 1;

        var_1 = var_2;
        waitframe();
    }
}

strafe_minigun_manager()
{
    while ( isdefined( level.addleadobjective ) == 1 )
    {
        foreach ( var_1 in level.players )
        {
            var_2 = isdefined( var_1.addplatepouch );

            if ( var_2 == 0 )
            {
                var_1 setplayermusicstate( "br_payload_overtime_suspense" );
                var_1 playlocalsound( "mus_payload_overtime_hit" );
                var_1.addplatepouch = 1;
            }
        }

        waitframe();
    }

    foreach ( var_1 in level.players )
    {
        var_2 = isdefined( var_1.addplatepouch );

        if ( var_2 == 1 )
        {
            var_1 setplayermusicstate( "br_payload_overtime_slam" );
            var_1.addplatepouch = undefined;
        }
    }

    scripts\mp\hostmigration::waitlongdurationwithhostmigrationpause( 4.5 );

    foreach ( var_1 in level.players )
        var_1 setplayermusicstate( "" );
}

strafe_acceleration()
{
    for (;;)
    {
        level waittill( "start_overtime" );
        level.addleadobjective = 1;
        level thread strafe_minigun_manager();
        level thread strafe_internal();
        level waittill( "stop_overtime" );
        waittillframeend;
        level.addleadobjective = undefined;
    }
}

x1fin_respawn( var_0 )
{
    if ( self.team == game["defenders"] )
    {
        foreach ( var_2 in level.cloudorigin.dropdeliveryatpos )
            updateaffordablestate( var_2 );

        foreach ( var_2 in level.cloudorigin._id_12A6B )
            updateaffordablestate( var_2 );
    }
}

updateaffordablestate( var_0 )
{
    if ( var_0._id_119FE == 0 )
    {
        var_1 = int( var_0.dropjuggbox.price / 100 );

        if ( self.plundercount >= var_1 )
        {
            var_0.dropjuggbox enableplayeruse( self );
            var_0.dropjuggernautcrate disableplayeruse( self );

            if ( istrue( var_0.dropjuggbox.isusable ) )
                var_0.dropjuggbox.scriptable hudoutlineenableforclient( self, "outline_depth_cyan" );
        }
        else if ( self.plundercount < var_1 )
        {
            var_0.dropjuggbox disableplayeruse( self );
            var_0.dropjuggernautcrate enableplayeruse( self );
            var_0.dropjuggbox.scriptable hudoutlinedisableforclient( self );
        }
    }
}

_id_11B43()
{
    foreach ( var_1 in level.cloudorigin.paths )
    {
        if ( !isdefined( var_1 ) || !isdefined( var_1.vehicle ) )
            continue;

        var_2 = var_1.vehicle;
        var_2 _id_13001();
        getentitylessscriptablearray( "dlog_event_br_payload_game_end", [ "path_name", level.cloudorigin.tv_station_fastrope_one_infil_start_targetname_array, "path_index", var_1.script_index, "total_push_distance", var_2 _id_12FEE(), "longest_push_distance", var_1.setup_weapons_at_pos, "total_push_time", var_1._id_12A4A, "checkpoints_completed", var_1.dropbrweapon, "obstacles_destroyed", var_1.thermiteboltburnout ] );
    }
}
