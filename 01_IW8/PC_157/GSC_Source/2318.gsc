// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

throwing_knife_mp_init()
{
    scripts\cp_mp\utility\script_utility::registersharedfunc( "_encstr_8AB70F9B0C6A60A4B293FF87EFAAE35015", "_encstr_986F074AC837EC6B01", ::throwing_knife_mp_ongive );
    scripts\cp_mp\utility\script_utility::registersharedfunc( "_encstr_8AB70F9B0C6A60A4B293FF87EFAAE35015", "_encstr_97CE07B73745B0B52B", ::throwing_knife_mp_ontake );
    scripts\cp_mp\utility\script_utility::registersharedfunc( "_encstr_8AB70F9B0C6A60A4B293FF87EFAAE35015", "_encstr_94C10C98CB1B04A048E93BBF4598", ::throwing_knife_mp_trytopickup );
    scripts\cp_mp\utility\script_utility::registersharedfunc( "_encstr_8AB70F9B0C6A60A4B293FF87EFAAE35015", "_encstr_AFE90D633B21BB1DDF4081FA401352", ::_id_13B51 );
}

throwing_knife_mp_ongive( var_0, var_1 )
{
    if ( var_0 == "_encstr_811F1A225BCDDF627961F8EA7F10EC7B7C365A1A202CA79168A3FAC5" )
    {
        self._id_13B5C = "_encstr_952020890F22313BDBBB0A732020BFF4489B3E0DC7B8C47B7536225AA88DCFA1F851";
        thread _id_13B5A();
    }
    else if ( var_0 == "_encstr_A6BF1E6983C8E727BF8BC83B98832BA2CA21CAD08B2527297584877FD10AE16E" )
    {
        self._id_13B5C = "_encstr_B3C2244B471F30A3C03258539CBEE05212A7DDEB4F126140E38BE3E806A7789D8AFF43177FEB";
        thread _id_13B56();
    }
    else if ( var_0 == "_encstr_888E1B324BDDCF728991E8FA4F20FC0B0C266A0AD03CB7E1688511FC71" )
        self._id_13B5C = "_encstr_A90A2162A3BA579B794A72C7A87828C21A50A63ADF316283056BC16D6FF1D31DF12D48";
    else
        self._id_13B5C = "_encstr_A6BB11E88FA23FAA7BCCC6D996433B6249AD7B";

    scripts\mp\utility\perk::giveperk( "_encstr_AB121EB3C285F853FA4311F37742A780515ABEEB6CFAE01452633F9F9BAA6458" );
}

throwing_knife_mp_ontake( var_0, var_1 )
{
    if ( scripts\mp\utility\perk::_hasperk( "_encstr_AB121EB3C285F853FA4311F37742A780515ABEEB6CFAE01452633F9F9BAA6458" ) )
        scripts\mp\utility\perk::removeperk( "_encstr_AB121EB3C285F853FA4311F37742A780515ABEEB6CFAE01452633F9F9BAA6458" );

    self._id_13B5C = undefined;
}

throwing_knife_mp_trytopickup( var_0 )
{
    if ( scripts\mp\equipment::getequipmentammo( var_0 ) >= scripts\mp\equipment::getequipmentmaxammo( var_0 ) )
        return 0;

    scripts\mp\equipment::incrementequipmentammo( var_0 );

    if ( var_0 == "_encstr_811F1A225BCDDF627961F8EA7F10EC7B7C365A1A202CA79168A3FAC5" )
        scripts\mp\damagefeedback::hudicontype( "_encstr_AB6913442A4060F80CDE38383880CDF999CACCB6AF" );
    else
        scripts\mp\damagefeedback::hudicontype( "_encstr_9F590E3578DBF8F744C21068DA1C9DF1" );

    return 1;
}

_id_13B51( var_0 )
{
    thread _id_13B59();
    var_0 setscriptablepartstate( "_encstr_9FED0B9AFFF87AE8D927C3BF8B", "_encstr_9BA4080D39CFFB5AB7C1", 0 );
}

_id_13B5A()
{
    self notify( "_encstr_801917D11AE4F6EE4B37762DDC5ACC59D78D36591693FACC1E" );
    self endon( "_encstr_801917D11AE4F6EE4B37762DDC5ACC59D78D36591693FACC1E" );
    self endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    var_0 = 0;

    for (;;)
    {
        var_1 = 0;
        var_2 = self getheldoffhand();

        if ( !nullweapon( var_2 ) && var_2.basename == "_encstr_B40F16E88627DEDDD2DCCE5BDC4BCCCAEBCC2D392BBE5B0E" )
            var_1 = 1;

        if ( var_1 && !var_0 )
            thread _id_13B57();
        else if ( var_0 && !var_1 )
            thread _id_13B59();

        var_0 = var_1;
        waitframe();
    }
}

_id_13B57()
{
    self endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    self endon( "_encstr_9450153D81BBF0E36805070A18B3DA9DC86F8063F97D9B" );
    self._id_12748 = 1;
    self setscriptablepartstate( "_encstr_B78411EF9BCDE27001EB85CB85816FDA26C993", "_encstr_9BA4080D39CFFB5AB7C1", 0 );
    self setscriptablepartstate( "_encstr_A1511097E360A1C319510F732DBBE9E9588B", "_encstr_B30B07E216CBFFC4C2", 0 );
    var_0 = 0.4;
    wait( var_0 );
    self setscriptablepartstate( "_encstr_B78411EF9BCDE27001EB85CB85816FDA26C993", "_encstr_B30B07E216CBFFC4C2", 0 );
    self waittill( "_encstr_8C600EDECC9934C2E623EB665AC9CA46" );
    waitframe();
    thread _id_13B59();
}

_id_13B59()
{
    self notify( "_encstr_9450153D81BBF0E36805070A18B3DA9DC86F8063F97D9B" );

    if ( istrue( self._id_12748 ) )
    {
        self setscriptablepartstate( "_encstr_B78411EF9BCDE27001EB85CB85816FDA26C993", "_encstr_9BA4080D39CFFB5AB7C1", 0 );
        self setscriptablepartstate( "_encstr_A1511097E360A1C319510F732DBBE9E9588B", "_encstr_9BA4080D39CFFB5AB7C1", 0 );
    }

    self._id_12748 = undefined;
}

_id_13B52()
{
    self notify( "_encstr_801917D11AE4F6EE4B37762DDC5ACC59D78D36591693FACC1E" );
    thread _id_13B59();
    thread _id_13B55();
}

_id_13B56()
{
    self notify( "_encstr_BD6B20E3E8F3E53FA8B667594D7F7721FF2A30DDBA582AD9B24F7040BF96BBCFB63B" );
    self endon( "_encstr_BD6B20E3E8F3E53FA8B667594D7F7721FF2A30DDBA582AD9B24F7040BF96BBCFB63B" );
    self endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    var_0 = 0;

    for (;;)
    {
        var_1 = 0;
        var_2 = self getheldoffhand();

        if ( !nullweapon( var_2 ) && var_2.basename == "_encstr_BE851A55744BB78B09E36810FB51E1EBE15FC1550E8355B0EB0F30C0" )
            var_1 = 1;

        if ( var_1 && !var_0 )
            thread _id_13B53();
        else if ( var_0 && !var_1 )
            thread _id_13B55();

        var_0 = var_1;
        waitframe();
    }
}

_id_13B53()
{
    self endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    self endon( "_encstr_B38C1E47869CBDBBA5B99D2D734B9956FA56362B1BE8C9A58DAF56DC19FA33C3" );
    self._id_12747 = 1;
    self setscriptablepartstate( "_encstr_B78411EF9BCDE27001EB85CB85816FDA26C993", "_encstr_9BA4080D39CFFB5AB7C1", 0 );
    self setscriptablepartstate( "_encstr_A1511097E360A1C319510F732DBBE9E9588B", "_encstr_8BC80EAD11E01603EEF0D258384B934F", 0 );
    var_0 = 0.4;
    wait( var_0 );
    self setscriptablepartstate( "_encstr_B78411EF9BCDE27001EB85CB85816FDA26C993", "_encstr_8BC80EAD11E01603EEF0D258384B934F", 0 );
    self waittill( "_encstr_8C600EDECC9934C2E623EB665AC9CA46" );
    waitframe();
    thread _id_13B55();
}

_id_13B55()
{
    self notify( "_encstr_B38C1E47869CBDBBA5B99D2D734B9956FA56362B1BE8C9A58DAF56DC19FA33C3" );

    if ( istrue( self._id_12747 ) )
    {
        self setscriptablepartstate( "_encstr_B78411EF9BCDE27001EB85CB85816FDA26C993", "_encstr_9BA4080D39CFFB5AB7C1", 0 );
        self setscriptablepartstate( "_encstr_A1511097E360A1C319510F732DBBE9E9588B", "_encstr_9BA4080D39CFFB5AB7C1", 0 );
    }

    self._id_12747 = undefined;
}

_id_13B54()
{
    self notify( "_encstr_BD6B20E3E8F3E53FA8B667594D7F7721FF2A30DDBA582AD9B24F7040BF96BBCFB63B" );
    thread _id_13B55();
}
