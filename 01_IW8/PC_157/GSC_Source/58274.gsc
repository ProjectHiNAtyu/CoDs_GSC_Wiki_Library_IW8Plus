// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

init()
{
    level._effect["_encstr_80B118BB506A374F81D8625D3B45E3C356505723D0A14EC18563"] = loadfx( "_encstr_80852DDC8E0B08232B7FF91833D5E719F7356759E177405D9332E8707A8D8DB17BE7EE4D75471B7171FBE888A2F769" );
    level._effect["_encstr_8F261F0EB5B8A94ABB66936A88986B1A290D9963F9686D37ED7A8B62506E57D558"] = loadfx( "_encstr_AF0C37F4574B97E8B75A49B86BB76143A23F6F716EB34FB39D67A8C01F5F9BF59B29E605C589B518733B88F00F7A124F92885F01DDE3738056" );
    level._effect["_encstr_AD34182370B1E9F23A80584FA3C0D32A5798DA5A88275FC3B0FC"] = loadfx( "_encstr_B90F3267330FF296BB07BE989C5E7658B5B2E0B10B2F7927AEB6C4B156973B331EEB4E5DDAD764F07D4385CD23B9BE474EB09663" );
    game["_encstr_B8DA073D799798C7C7"]["_encstr_B219160EDEBB59E4570ED78CEDEA138DACFA38EDB473D19B"] = "_encstr_82FB17D8DFC88145FEFD6B5F9CB7C32639C9D9FB5D2DB07303";
    var_0 = spawnstruct();
    var_0._id_138FD = "_encstr_80E60E32EDEA13D8CAD707F64BB9A39B";
    var_0.parachute_get_path = getdvarfloat( "_encstr_A22A2B0FD88B97EA35FF053B5D1D536073D1ABF7F021ECC217870DB430C90B0739382B4B09994D7B439D942D28", 45 );
    var_0.asm_playfacialanim_mp = ::asm_playfacialanim_mp;
    var_0._id_12A35 = ::_id_12A35;
    var_0.isdeathshieldskippingenabled = ::isdeathshieldskippingenabled;
    _keypadscriptableused_bunkeralt::_id_12AF4( var_0 );
}

asm_playfacialanim_mp()
{
    self._id_1265D = 0;
    self._id_11E08 = 2;
    self.player._id_12827 = 1;
    level thread _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::dmztut_endgamewithreward( "_encstr_B219160EDEBB59E4570ED78CEDEA138DACFA38EDB473D19B", self.player );
    thread _id_135B7();
    self.player playlocalsound( "_encstr_A87B1B7D436710F017ED86A3B78189166B4CF80F240B67FA2B8941D453" );
    _keypadscriptableused_bunkeralt::_id_12425( self.player, "_encstr_B7A62A233D494EA37AB65BD3E7CB378B8DEBCD3029897B0DBA1BCD98431D8A38E5E8B9600AE5F2E3FE849551" );
}

isdeathshieldskippingenabled()
{
    self notify( "_encstr_A2631A66843A1758B51BB8C8CFCC3153B26BD36C1E73EBE69E37B8A8" );
    self endon( "_encstr_A2631A66843A1758B51BB8C8CFCC3153B26BD36C1E73EBE69E37B8A8" );
    self.player._id_12827 = 0;
    thread lb_impulse_dmg_threshold_low();

    if ( isalive( self.player ) )
        self.player playlocalsound( "_encstr_988C1DDAC17DE07BBB594EAE83D723950BC6A35A67C24756FA643CBEE063C9" );
}

_id_12A35()
{
    open_starting_safehouse_door( self._id_12E2D.parachute_get_path );
    self.player playlocalsound( "_encstr_89771DB6C1AFE0F6BB5627AEC1BE9CCAC2D8A3A5D90B1DACEB233CAF0ED89C" );
}

_id_11FF1( var_0 )
{
    if ( isdefined( var_0.attacker ) && istrue( var_0.attacker._id_12827 ) )
    {
        playfx( scripts\engine\utility::getfx( "_encstr_8F261F0EB5B8A94ABB66936A88986B1A290D9963F9686D37ED7A8B62506E57D558" ), var_0.victim.origin );
        var_1 = easepower( "_encstr_B1F01A28D2C5085A2B41F67B8D0348377772BD4BF7A285CF5910C3C3", var_0.victim.origin );
        var_1 setscriptablepartstate( "_encstr_A219046FD17A", "_encstr_BDC11302B32FF3F1F1A30F074149B5CA01C3D1DA05" );
        var_0.attacker playlocalsound( "_encstr_94C91F57213922872FB0D06BAF998EE0EEEBA87B016F155A2B0DA927115171BCE8" );
        var_2 = var_0.attacker _keypadscriptableused_bunkeralt::_id_1249C( "_encstr_80E60E32EDEA13D8CAD707F64BB9A39B" );
        var_3 = 50;
    }
}

open_starting_safehouse_door( var_0 )
{
    self.mp_layover_patch = gettime() + var_0 * 1000;
    self.player thread _keypadscriptableused_bunkeralt::_id_13F7E( undefined, 1, 2 );
}

_id_135B7()
{
    playfxontag( scripts\engine\utility::getfx( "_encstr_AD34182370B1E9F23A80584FA3C0D32A5798DA5A88275FC3B0FC" ), self.player, "_encstr_A9190B4D7DEE39A537D1D7B12B" );
    playfxontag( scripts\engine\utility::getfx( "_encstr_AD34182370B1E9F23A80584FA3C0D32A5798DA5A88275FC3B0FC" ), self.player, "_encstr_82190BA2777052776E5311CBD8" );
    waitframe();
    stopfxontagforclients( scripts\engine\utility::getfx( "_encstr_AD34182370B1E9F23A80584FA3C0D32A5798DA5A88275FC3B0FC" ), self.player, "_encstr_A9190B4D7DEE39A537D1D7B12B", self.player );
    waitframe();
    stopfxontagforclients( scripts\engine\utility::getfx( "_encstr_AD34182370B1E9F23A80584FA3C0D32A5798DA5A88275FC3B0FC" ), self.player, "_encstr_82190BA2777052776E5311CBD8", self.player );
}

lb_impulse_dmg_threshold_low()
{
    stopfxontag( scripts\engine\utility::getfx( "_encstr_AD34182370B1E9F23A80584FA3C0D32A5798DA5A88275FC3B0FC" ), self.player, "_encstr_A9190B4D7DEE39A537D1D7B12B" );
    waitframe();
    stopfxontag( scripts\engine\utility::getfx( "_encstr_AD34182370B1E9F23A80584FA3C0D32A5798DA5A88275FC3B0FC" ), self.player, "_encstr_82190BA2777052776E5311CBD8" );
}

isplatepouch()
{
    _encstr_AB2720B21B5371B3DC50DE80D8EE7F7A42AF1BB3E8E5DEF0DB7E31686D3DED274F3A::_id_12B21( ::isplacementplayerobstructed );
    level thread isplayerbrsquadleader();
}

isplayerbrsquadleader()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );

    while ( !isdefined( level.player ) )
        waitframe();
}

isplacementplayerobstructed( var_0, var_1 )
{
    var_2 = "_encstr_A40101";

    switch ( var_0 )
    {
        case "_encstr_8BA820F8F521D0BE3F73D345F7C13D9D73C82051178FB436FDAB4F6F80932593C8F2":
            level.player _keypadscriptableused_bunkeralt::_id_1393A( "_encstr_80E60E32EDEA13D8CAD707F64BB9A39B" );
            break;
        case "_encstr_ADDB212380A19C011FC75ED3209F6A57EB40D3E7799BC72A0DDD22C1179713E5D3101B":
            var_3 = level.player.origin + anglestoforward( level.player.angles ) * 300 + ( 0, 0, 25 );
            easepower( "_encstr_81C724A083C4AF380361038DA7623830395302F8E5B8BD20F89AE71B98F8304F539079CBD39B", var_3 );
            break;
        case "_encstr_AB2C29395B4CD8FACE969D59AFA356B06BDAC2A3B2BE46BDEA89D895FA83DBD2E68ECDF583EDEEAC27AB07":
            var_4 = scripts\mp\utility\teams::getteamdata( level.player.team, "_encstr_8875080E3685E52B93B9" );
            var_4 = scripts\engine\utility::array_remove( var_4, level.player );
            var_4[randomintrange( 0, var_4.size )] _keypadscriptableused_bunkeralt::_id_1393A( "_encstr_80E60E32EDEA13D8CAD707F64BB9A39B" );
            break;
    }
}
