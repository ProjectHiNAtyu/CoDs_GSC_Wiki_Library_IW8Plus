// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

vehicle_spawn_mp_init()
{
    var_0 = getdvarint( "_encstr_AF01113B10EDD1B7D1CBAF9E6DD86F666988A3", 128 );
    var_1 = scripts\cp_mp\vehicles\vehicle_spawn::vehicle_spawn_getleveldata();
    var_1.maxinstancecount = var_0;
    scripts\cp_mp\utility\script_utility::registersharedfunc( "_encstr_BACE0ED0F708709F9217E8862A3ACFD8", "_encstr_B4011089BE8671D7E227DDA5879A93282C17", ::vehicle_spawn_mp_canspawnvehicle );
    scripts\cp_mp\utility\script_utility::registersharedfunc( "_encstr_BACE0ED0F708709F9217E8862A3ACFD8", "_encstr_BA1318CE16DA2BD4BD322BA9571CC1BDC9A39B4A56CD83C2DDB9", ::vehicle_spawn_mp_gamemodesupportsrespawn );
    scripts\cp_mp\utility\script_utility::registersharedfunc( "_encstr_BACE0ED0F708709F9217E8862A3ACFD8", "_encstr_8884219AC15967A580C96D43F3A032877EDB5360C92713A7A835657C994B3D1728139B", ::_id_14217 );
    vehicle_spawn_mp_codetesthackinit();
}

vehicle_spawn_mp_canspawnvehicle( var_0, var_1, var_2 )
{
    if ( getdvarint( "_encstr_8FEF136ED84E7D161BD8BD77F5D9CA345AD88DB2B9", 1 ) == 0 )
        return 0;

    if ( getdvarint( "_encstr_B7EF13379EA3F9F1BACD482F11E399DB34AB0DC5E6" + var_0, 1 ) == 0 )
        return 0;

    return 1;
}

vehicle_spawn_mp_gamemodesupportsrespawn()
{
    if ( getdvarint( "_encstr_8B64266A065D49A28B314B6770819DF1FDAD3464FEB922D7F3180B23805B447BD7BEFF1ADFCB5B3E", 0 ) )
        return 1;

    if ( scripts\mp\utility\game::getgametype() == "_encstr_9507034B25" )
    {
        if ( getdvar( "_encstr_A10E10BABF1EB12D4B819F18E8488BAA02E5", "_encstr_A40101" ) == "_encstr_BE180432D63D" || getdvar( "_encstr_A10E10BABF1EB12D4B819F18E8488BAA02E5", "_encstr_A40101" ) == "_encstr_89E10946E1536E6DD6A2B0" || getdvar( "_encstr_A10E10BABF1EB12D4B819F18E8488BAA02E5", "_encstr_A40101" ) == "_encstr_AD1F058082CACF" )
        {
            if ( getdvarint( "_encstr_9EE41ECD6C27EB31D6B7AF3BACD0D2B136AC49CADC8316DD73A8B90B89D8AC32", 1 ) > 0 )
                return 1;
        }

        return 0;
    }

    return 1;
}

_id_14217()
{
    if ( scripts\mp\utility\game::getgametype() == "_encstr_9507034B25" )
        return 0;

    return 1;
}

vehicle_spawn_mp_codetesthackinit()
{
    if ( scripts\cp_mp\vehicles\vehicle_spawn::vehicle_spawn_iscodevehicletest() )
        scripts\mp\utility\spawn_event_aggregator::registeronplayerspawncallback( ::vehicle_spawn_mp_codetesthackspawncallback );
}

vehicle_spawn_mp_codetesthackspawncallback()
{
    var_0 = scripts\cp_mp\utility\game_utility::getmapname();

    if ( var_0 == "_encstr_B7920F6F397892BF7008A36D43D0C7FAC4" )
    {
        self setorigin( ( 22314, -13059, -128 ), 1, 1 );
        self setplayerangles( ( 0, 36, 0 ) );
    }
    else if ( var_0 == "_encstr_B3D20DBDF726539E25D0838F595753" )
    {
        self setorigin( ( 45073, -11307, 18 ), 1, 1 );
        self setplayerangles( ( 0, 315, 0 ) );
    }
    else if ( var_0 == "_encstr_AA240B913AD1C3B379DB98C832" )
    {
        self setorigin( ( 29048, 35035, 560 ), 1, 1 );
        self setplayerangles( ( 0, 0, 0 ) );
    }

    thread vehicle_spawn_mp_codetesthackwatchrespawn();
}

vehicle_spawn_mp_codetesthackwatchrespawn()
{
    self endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    self notify( "_encstr_B1DB2BBB4868015AA9C5A95AB75BD3DE56A01B97E0E04462E1EDAA938303EA937FB0D7AFE0DDB93AF976364E0A" );
    self endon( "_encstr_B1DB2BBB4868015AA9C5A95AB75BD3DE56A01B97E0E04462E1EDAA938303EA937FB0D7AFE0DDB93AF976364E0A" );
    self notifyonplayercommand( "_encstr_A6A41AAF077F48F0830240680A8395E1136517098F22802E437ABBF0", "_encstr_A65C0E44DB08AB0A0F28F7811F9B8A3B" );
    self notifyonplayercommand( "_encstr_A6A41AAF077F48F0830240680A8395E1136517098F22802E437ABBF0", "_encstr_BC5C0E0AC12F2B7B755220A03ACBA1AB" );

    for (;;)
    {
        self waittill( "_encstr_A6A41AAF077F48F0830240680A8395E1136517098F22802E437ABBF0" );

        if ( !scripts\cp_mp\utility\player_utility::_isalive() )
            continue;

        var_0 = scripts\cp_mp\utility\player_utility::getvehicle();

        if ( isdefined( var_0 ) )
        {
            var_1 = scripts\cp_mp\vehicles\vehicle::vehicle_getleveldataforvehicle( var_0.vehiclename );

            if ( isdefined( var_1.destroycallback ) )
            {
                var_0 thread [[ var_1.destroycallback ]]();
                return;
            }
            else
                continue;
        }

        thread vehicle_spawn_mp_codetesthackspawncallback();
        break;
    }
}
