// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

init()
{
    level._effect["_encstr_ADE2479339CB46A4B8793F74EB986FF3D8337A1A21AB0F9B403B2756F590B9471709B282C8FDA7D7491569469318FFAFCD63AA6A1140FF0CF80F8C598959428F657E1282DB800387A0"] = loadfx( "_encstr_ADE2479339CB46A4B8793F74EB986FF3D8337A1A21AB0F9B403B2756F590B9471709B282C8FDA7D7491569469318FFAFCD63AA6A1140FF0CF80F8C598959428F657E1282DB800387A0" );
    level._effect["_encstr_BAF1415B0F781DB3B372368B992539A180F36E55ED21AFDB6A30870B5E489F6797B70D2CA74B6A80EF8858F0DF68D39ECC7BD59E8F18467DD0CB8A1FC278E3307007AA"] = loadfx( "_encstr_BAF1415B0F781DB3B372368B992539A180F36E55ED21AFDB6A30870B5E489F6797B70D2CA74B6A80EF8858F0DF68D39ECC7BD59E8F18467DD0CB8A1FC278E3307007AA" );
    level._effect["_encstr_8827416799E1F24BEE1C976356672BD897DC5899CAA1F6ABCD95BC3BCCE1F537B099CAD0DEBA37CAD7334BDC2CD8957D8CC9DB3759F54359B047BEC8A59B47C5B3990F"] = loadfx( "_encstr_8827416799E1F24BEE1C976356672BD897DC5899CAA1F6ABCD95BC3BCCE1F537B099CAD0DEBA37CAD7334BDC2CD8957D8CC9DB3759F54359B047BEC8A59B47C5B3990F" );
    level._effect["_encstr_9D032D269D909DFFE46299A273103FC4C861BBAC0DD0568FA08302FB7E96473180F9210E4B595A5735D87B6663E4E3"] = loadfx( "_encstr_9D032D269D909DFFE46299A273103FC4C861BBAC0DD0568FA08302FB7E96473180F9210E4B595A5735D87B6663E4E3" );
    level._effect["_encstr_97693428FA80FF8877881809B86ED3236AB26A905258E7C137E8AFF59247D8FB993A48283977C399EBE41DF79FEB61B1FFE372800288"] = loadfx( "_encstr_97693428FA80FF8877881809B86ED3236AB26A905258E7C137E8AFF59247D8FB993A48283977C399EBE41DF79FEB61B1FFE372800288" );
    level._effect["_encstr_A299296D1B0310C0E7987608B297407DFB47A7E583AB907805627E215A8F88A5C1D7A3752753CF6A36FF82"] = loadfx( "_encstr_A299296D1B0310C0E7987608B297407DFB47A7E583AB907805627E215A8F88A5C1D7A3752753CF6A36FF82" );

    if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_BA1413CAD6E0FA46C9B773B2F51D85C99D2BA3AC46", "_encstr_80C50550FA44C9" ) )
        [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_BA1413CAD6E0FA46C9B773B2F51D85C99D2BA3AC46", "_encstr_80C50550FA44C9" ) ]]();
}

empdrone_beginsuper()
{
    self endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    self endon( "_encstr_A19610E4B21BEDB98839B7DC56A873195646" );
    self endon( "_encstr_94691027CAC6DEDC229C7B7395AACDCD9547" );
    thread empdrone_superusethink();
    return 1;
}

empdrone_superusethink()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    var_0 = scripts\cp_mp\utility\killstreak_utility::createstreakinfo( "_encstr_8B2C0AD847800621C305E07D", self );
    var_1 = empdrone_tryuse( var_0 );
    wait 0.05;

    if ( var_1 )
    {
        if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_BEF407B95DC1B227E6", "_encstr_97A0119BD583954E559BAC234BE6B437432B19" ) )
            [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_BEF407B95DC1B227E6", "_encstr_97A0119BD583954E559BAC234BE6B437432B19" ) ]]();

        if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_936006576AC048BA", "_encstr_BA8311EBBB38A3FA5B79675F0B8981C7304067" ) )
            level thread [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_936006576AC048BA", "_encstr_BA8311EBBB38A3FA5B79675F0B8981C7304067" ) ]]( self, "_encstr_B11D0EAE6ECAF556D607AF32C97B9BB2" );
    }
    else if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_BEF407B95DC1B227E6", "_encstr_97A0119BD583954E559BAC234BE6B437432B19" ) )
        [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_BEF407B95DC1B227E6", "_encstr_97A0119BD583954E559BAC234BE6B437432B19" ) ]]( 1 );
}

empdrone_tryuse( var_0 )
{
    scripts\cp_mp\killstreaks\killstreakdeploy::ondeploystart( var_0 );
    var_1 = getcompleteweaponname( "_encstr_A420110F1729E6C885357B51D17D101FC1F7B1" );
    var_2 = scripts\cp_mp\killstreaks\killstreakdeploy::waituntilfinishedwithdeployweapon;
    var_3 = ::empdrone_weapongiven;
    var_4 = scripts\cp_mp\killstreaks\killstreakdeploy::switchtodeployweapon( var_1, var_0, var_2, var_3 );
    scripts\cp_mp\killstreaks\killstreakdeploy::ondeployfinished( var_0, istrue( var_4 ) );

    if ( !istrue( var_4 ) )
        return 0;

    var_5 = undefined;

    if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_87D211BA8009F72B30E0B59C0FFB37C779A832", "_encstr_BD6B1227E533EA7780BD66A00B5FF2879FEA70CC" ) )
        var_5 = self [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_87D211BA8009F72B30E0B59C0FFB37C779A832", "_encstr_BD6B1227E533EA7780BD66A00B5FF2879FEA70CC" ) ]]( var_0, 1 );
    else
        return 0;

    if ( !isdefined( var_5 ) )
        return 0;

    thread empdrone_createdrone( var_0, var_5[0].location );
    return 1;
}

empdrone_equipment_wrapper( var_0, var_1, var_2 )
{
    if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_BE8F0A2BB8D596386BB273A3", "_encstr_BA180E9B8BF21205B09B743AB03866BB" ) )
        self [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_BE8F0A2BB8D596386BB273A3", "_encstr_BA180E9B8BF21205B09B743AB03866BB" ) ]]( var_1 );

    var_3 = scripts\cp_mp\utility\killstreak_utility::createstreakinfo( "_encstr_8B2C0AD847800621C305E07D", self );
    var_4 = empdrone_tryuse( var_3 );

    if ( !var_4 )
    {
        if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_BE8F0A2BB8D596386BB273A3", "_encstr_8A400EF99016B5FDBA75307335557813" ) )
            self [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_BE8F0A2BB8D596386BB273A3", "_encstr_8A400EF99016B5FDBA75307335557813" ) ]]( "_encstr_A8330F1B17836358BFBF40FBE77A68287A", var_1 );
    }
}

empdrone_weapongiven( var_0 )
{
    if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_87D211BA8009F72B30E0B59C0FFB37C779A832", "_encstr_B337175F30B9EADB3B17B2620D11828363619FDF80913E52B3" ) )
        self [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_87D211BA8009F72B30E0B59C0FFB37C779A832", "_encstr_B337175F30B9EADB3B17B2620D11828363619FDF80913E52B3" ) ]]( 0, 0, undefined, 3 );
    else
        return 0;

    return 1;
}

empdrone_createdrone( var_0, var_1 )
{
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    var_2 = empdrone_calculatepositions( var_1 );
    var_3 = scripts\cp_mp\utility\weapon_utility::_magicbullet( getcompleteweaponname( "_encstr_812812552F998EEB7E425B9B76096A37526EC749" ), var_2.startpos, var_2.targetpos, self );
    var_3 setentityowner( self );
    var_3.owner = self;
    var_3.ownerid = self getentitynumber();
    var_3.team = self.team;
    var_3.streakinfo = var_0;
    var_3.usedcount = 0;
    var_3.superid = level.superglobals.staticsuperdata["_encstr_945B10A37F413BB229050570FE6172C7A589"].id;
    var_3 hidepart( "_encstr_953B0C537D0793BDC195C6B1B29C" );
    playfxontag( scripts\engine\utility::getfx( "_encstr_ADE2479339CB46A4B8793F74EB986FF3D8337A1A21AB0F9B403B2756F590B9471709B282C8FDA7D7491569469318FFAFCD63AA6A1140FF0CF80F8C598959428F657E1282DB800387A0" ), var_3, "_encstr_8CB40B4BB398B1C0A81FDF6BEA" );
    playfxontag( scripts\engine\utility::getfx( "_encstr_BAF1415B0F781DB3B372368B992539A180F36E55ED21AFDB6A30870B5E489F6797B70D2CA74B6A80EF8858F0DF68D39ECC7BD59E8F18467DD0CB8A1FC278E3307007AA" ), var_3, "_encstr_8CB40B4BB398B1C0A81FDF6BEA" );
    playfxontag( scripts\engine\utility::getfx( "_encstr_8827416799E1F24BEE1C976356672BD897DC5899CAA1F6ABCD95BC3BCCE1F537B099CAD0DEBA37CAD7334BDC2CD8957D8CC9DB3759F54359B047BEC8A59B47C5B3990F" ), var_3, "_encstr_8CB40B4BB398B1C0A81FDF6BEA" );
    playfxontag( scripts\engine\utility::getfx( "_encstr_9D032D269D909DFFE46299A273103FC4C861BBAC0DD0568FA08302FB7E96473180F9210E4B595A5735D87B6663E4E3" ), var_3, "_encstr_953B0C537D0793BDC195C6B1B29C" );

    if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_87D211BA8009F72B30E0B59C0FFB37C779A832", "_encstr_B3790E323A2D083378D310AED9C3E0F3" ) )
        var_3 thread [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_87D211BA8009F72B30E0B59C0FFB37C779A832", "_encstr_B3790E323A2D083378D310AED9C3E0F3" ) ]]( 25, "_encstr_8CFB0986B4E856B8EA960E", ::empdrone_handledeathdamage, undefined, 0 );

    if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_B6CE0B0BB00A031B7B88355740", "_encstr_9F1B1AA9C213557B261381B32E1719839BDA6373CB4F77E88DE197B1" ) )
        var_3 [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_B6CE0B0BB00A031B7B88355740", "_encstr_9F1B1AA9C213557B261381B32E1719839BDA6373CB4F77E88DE197B1" ) ]]( var_0.streakname, "_encstr_B2860FEF13897ACB10E3FFC6F871C1E25E", self, 0, 1, 25 );

    var_3 playloopsound( "_encstr_8268143F778B61E2906E626D41103DB98DEDBFB7DD5D" );
    var_3 thread empdrone_timeoutthink();
    var_3 thread monitorweaponswitchbr();
    var_3 thread empdrone_collidethink();

    if ( getdvarint( "_encstr_944619336A93F8781538C9DD5FBD30A0D3E2AB39926330282F13A1", 0 ) == 0 )
        var_3 thread empdrone_divebombthink( var_2 );
    else
        var_3 thread morales_laptop_initted( var_2 );

    var_3 scripts\cp_mp\emp_debuff::set_apply_emp_callback( ::empdrone_empapplied );
    return var_3;
}

empdrone_calculatepositions( var_0 )
{
    var_1 = scripts\cp_mp\utility\killstreak_utility::removeextracthelipad();
    var_2 = ( 0, 0, 1500 );

    if ( isdefined( var_1 ) )
    {
        var_3 = var_1.origin[2] + -1500;
        var_2 = ( 0, 0, var_3 );
    }

    var_4 = anglestoforward( self.angles );
    var_5 = undefined;
    var_6 = 0;
    var_7 = 0;
    var_8 = 0;

    for (;;)
    {
        var_9 = rotatevector( var_4, ( 0, var_7, 0 ) );
        var_10 = var_2 + var_0;
        var_5 = var_10 - var_9 * 4500;
        var_11 = ( 0, 0, 1500 );
        var_5 = var_5 + var_11;
        var_12 = physics_createcontents( [ "_encstr_9E9C1638865EB95A6CE68DDEE64795B98E6EAF9BF6B1968C", "_encstr_941116D7F47B0FC88317C8B07BCC017DD35AD8D44D52D773", "_encstr_8ADD1C8334E5DC4BD89BB1DEDC4759373A37EBECCA432D1BC6AC8DD8D238", "_encstr_BD431CE7B0D853097F67676D6BE477B61B072950F79BD30A5247185850D0", "_encstr_98C1190E865EE6D26CDC36DE73A32B73E8E6EB6C1B5A0EB91AED1D" ] );
        var_6 = scripts\engine\trace::ray_trace_passed( var_5, var_10, undefined, var_12 );
        var_8++;

        if ( var_6 )
            break;

        if ( var_8 >= 13 )
            break;

        wait 0.05;
        var_7 = var_7 + 55.3;
    }

    var_13 = vectornormalize( var_5 - var_10 ) * 1000 + var_10;
    var_14 = spawnstruct();
    var_14.startpos = var_5;
    var_14.divebombpos = var_13;
    var_14.targetpos = var_0;
    return var_14;
}

empdrone_timeoutthink()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self.owner endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    self endon( "_encstr_A3750609A5E61883" );
    var_0 = gettime() * 0.001;
    var_1 = var_0 + 20;
    scripts\cp_mp\hostmigration::hostmigration_waitlongdurationwithpause( var_1 );
    thread empdrone_destroy();
}

monitorweaponswitchbr()
{
    self.owner endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    self endon( "_encstr_A3750609A5E61883" );
    level scripts\engine\utility::_id_143A5( "_encstr_AD1D0BEF9161A06F1F684ADA39", "_encstr_A39F11A0FDA082D16B53E91FFF45070A08980A" );
    thread empdrone_destroy();
}

empdrone_collidethink()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self.owner endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    self endon( "_encstr_A3750609A5E61883" );
    self waittill( "_encstr_8AE90E7D08B8538A21DB77CF1155D2B3" );
    thread empdrone_explode();
}

empdrone_divebombthink( var_0 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self.owner endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    self endon( "_encstr_A3750609A5E61883" );
    self missile_settargetpos( var_0.divebombpos );
    var_1 = 50;

    while ( distancesquared( var_0.divebombpos, self.origin ) > var_1 * var_1 )
        wait 0.05;

    var_2 = anglestoforward( self.angles );
    var_3 = distance( var_0.targetpos, self.origin );
    var_4 = self.origin + var_2 * var_3;
    var_5 = gettime();
    var_6 = 0;
    var_7 = 0;

    for (;;)
    {
        wait 0.05;
        var_6 = ( gettime() - var_5 ) / 1300.0;
        var_6 = clamp( var_6, 0, 1 );
        var_8 = var_4 * ( 1 - var_6 ) + var_0.targetpos * var_6;
        self missile_settargetpos( var_8 );
    }
}

morales_laptop_initted( var_0 )
{

}

empdrone_handledeathdamage( var_0, var_1, var_2 )
{
    empdrone_givepointsfordeath( var_0 );
    empdrone_destroy();
}

empdrone_explode()
{
    self playsound( "_encstr_B1AD18967783BE4ED8D71CC60B9B957D56CDB3D23756EBB2C3C1" );
    var_0 = anglestoforward( self.angles );
    playfx( scripts\engine\utility::getfx( "_encstr_97693428FA80FF8877881809B86ED3236AB26A905258E7C137E8AFF59247D8FB993A48283977C399EBE41DF79FEB61B1FFE372800288" ), self.origin, var_0 );
    empdrone_explodeemp();
    empdrone_delete();
}

empdrone_destroy()
{
    self playsound( "_encstr_A69113350FF76060DB2680DB9D0ED0D7E8227F2394" );
    var_0 = anglestoforward( self.angles );
    playfx( scripts\engine\utility::getfx( "_encstr_A299296D1B0310C0E7987608B297407DFB47A7E583AB907805627E215A8F88A5C1D7A3752753CF6A36FF82" ), self.origin, var_0 );
    empdrone_delete();
}

empdrone_delete()
{
    self stoploopsound( "_encstr_8268143F778B61E2906E626D41103DB98DEDBFB7DD5D" );

    if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_B1580B38A27EF1A0A7568CF523", "_encstr_A98C127BDC3296593623AAE0EC27C2C8CA2AE6C8" ) )
        self.owner [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_B1580B38A27EF1A0A7568CF523", "_encstr_A98C127BDC3296593623AAE0EC27C2C8CA2AE6C8" ) ]]( "_encstr_945B10A37F413BB229050570FE6172C7A589", self.usedcount );

    if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_8967055FF1EDFA", "_encstr_8F03145F4AC9DDE9CBBBCA9DC7B4A17D592837F89285" ) )
        self thread [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_8967055FF1EDFA", "_encstr_8F03145F4AC9DDE9CBBBCA9DC7B4A17D592837F89285" ) ]]( self.owner, self.superid, self.usedcount, 0 );

    self delete();
}

empdrone_empapplied( var_0 )
{
    var_1 = var_0.attacker;
    empdrone_givepointsfordeath( var_1 );
    empdrone_destroy();
}

empdrone_givepointsfordeath( var_0 )
{
    if ( istrue( scripts\cp_mp\utility\player_utility::playersareenemies( self.owner, var_0 ) ) )
    {
        var_0 notify( "_encstr_B6BB140AE56FC14D7781B0FDAF0869F3E818D827BDEB" );

        if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_AAB0079B102F47FF38", "_encstr_878E12CEB4CEB2AA9BD23396CA9141ED4B37E837" ) )
            var_0 thread [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_AAB0079B102F47FF38", "_encstr_878E12CEB4CEB2AA9BD23396CA9141ED4B37E837" ) ]]( "_encstr_B6BB140AE56FC14D7781B0FDAF0869F3E818D827BDEB" );
    }
}

empdrone_explodeemp()
{
    var_0 = getcompleteweaponname( "_encstr_97641895ADC1F52339B773CAFACDBDDCAF073616F2AC9CD7DA1C" );
    var_1 = getcompleteweaponname( "_encstr_9D0D1F7248C1C98B5BB8666558205F4D77386A8A40B3FA2FB193629D6E4BD7D591" );
    var_2 = [];
    var_3 = scripts\cp_mp\emp_debuff::get_emp_ents();

    foreach ( var_5 in var_3 )
    {
        if ( var_5 == self )
            continue;

        var_6 = var_5.owner;

        if ( isdefined( var_6 ) )
        {
            if ( var_6 != self.owner && !scripts\cp_mp\utility\player_utility::playersareenemies( self.owner, var_6 ) )
                continue;
        }

        var_7 = distancesquared( self.origin, var_5.origin );

        if ( var_7 > 640000 )
            continue;

        var_8 = var_5 scripts\cp_mp\vehicles\vehicle::isvehicle();
        var_9 = scripts\cp_mp\vehicles\vehicle_occupancy::_id_141DE( var_5 );

        if ( var_8 && var_9 )
        {
            var_10 = scripts\cp_mp\vehicles\vehicle_occupancy::vehicle_occupancy_getalloccupants( var_5 );

            foreach ( var_12 in var_10 )
                var_2[var_2.size] = var_12;
        }

        var_14 = scripts\engine\utility::ter_op( var_7 > 6400, var_0, var_1 );
        var_5 dodamage( 1, self.origin, self.owner, self, "_encstr_A45C0E4B9FDF3165A3B93C4491BFA4A9", var_14 );
        var_15 = scripts\cp_mp\utility\damage_utility::packdamagedata( self.owner, var_5, 1, var_14, "_encstr_A45C0E4B9FDF3165A3B93C4491BFA4A9", self, self.origin );
        thread empdrone_applyemp( var_15 );
    }

    var_17 = getcompleteweaponname( "_encstr_B2931468F730D6F113F510ADC10BD9D9914F58411FE8" );
    self radiusdamage( self.origin, 80, 120, 80, self.owner, "_encstr_A45C0E4B9FDF3165A3B93C4491BFA4A9", var_17 );
    var_18 = scripts\common\utility::playersinsphere( self.origin, 800 );
    var_18 = scripts\engine\utility::array_combine_unique( var_18, var_2 );

    foreach ( var_20 in var_18 )
    {
        if ( !isdefined( var_20 ) )
            continue;

        if ( !var_20 scripts\cp_mp\emp_debuff::can_emp_player() )
            continue;

        if ( var_20 != self.owner && !scripts\cp_mp\utility\player_utility::playersareenemies( self.owner, var_20 ) )
            continue;

        var_20 dodamage( 1, self.origin, self.owner, self, "_encstr_A45C0E4B9FDF3165A3B93C4491BFA4A9", var_17 );
        var_15 = scripts\cp_mp\utility\damage_utility::packdamagedata( self.owner, var_20, 1, var_17, "_encstr_A45C0E4B9FDF3165A3B93C4491BFA4A9", self, self.origin );
        thread empdrone_applyemp( var_15 );
    }

    var_22 = scripts\common\utility::playersinsphere( self.origin, 2000 );
    var_22 = scripts\engine\utility::array_combine_unique( var_22, var_2 );

    foreach ( var_20 in var_22 )
    {
        if ( !isdefined( var_20 ) )
            continue;

        if ( var_20 == self.owner )
            continue;

        var_20 earthquakeforplayer( 0.3, 1, self.origin, 2000 );
        var_20 setclientomnvar( "_encstr_982A0DAED2EBA15DC8AFE64316D62B", 1 );
        var_20 playrumbleonpositionforclient( "_encstr_88B9173EA06DBA8C33A1E880A9DBC5859BDA928F4A285F907B", self.origin );
    }

    self.owner earthquakeforplayer( 0.2, 1, self.owner.origin, 2000 );
    self.owner setclientomnvar( "_encstr_982A0DAED2EBA15DC8AFE64316D62B", 1 );
    self.owner playrumbleonpositionforclient( "_encstr_88B9173EA06DBA8C33A1E880A9DBC5859BDA928F4A285F907B", self.origin );
}

empdrone_applyemp( var_0 )
{
    scripts\cp_mp\emp_debuff::apply_emp_struct( var_0 );
    var_1 = 8;

    if ( isplayer( var_0.victim ) )
    {
        if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_B40D05E05627D6", "_encstr_80C90886B0370A95E4D6" ) )
        {
            if ( var_0.victim != self.owner && var_0.victim [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_B40D05E05627D6", "_encstr_80C90886B0370A95E4D6" ) ]]( "_encstr_8833157EDA920790D9030868E7F5289999C2FD86742BE1" ) )
            {
                var_1 = 2;

                if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_B8BE07320B5B16ECAC", "_encstr_BDBD15BFDFCF2FABBDEDBE3058921F78ADBA11AE9E413B" ) )
                    self.owner [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_B8BE07320B5B16ECAC", "_encstr_BDBD15BFDFCF2FABBDEDBE3058921F78ADBA11AE9E413B" ) ]]( "_encstr_8A760D43963AE8168D9356CD4BB93A" );
            }
        }

        if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_9B220A11EB91B8EF9E1DB207", "_encstr_AB9E1254263197CC992022ABC0258E1FAB03DBEC" ) )
            [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_9B220A11EB91B8EF9E1DB207", "_encstr_AB9E1254263197CC992022ABC0258E1FAB03DBEC" ) ]]( var_0.attacker, var_0.victim, var_0.objweapon.basename );

        if ( isdefined( var_0.attacker ) )
            var_0.attacker scripts\cp\vehicles\vehicle_compass_cp::_id_12021( var_0.victim );
    }

    if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_B90D0507B24E37", "_encstr_8A310C96E6D80AB239379A3A2C47" ) )
        self.owner [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_B90D0507B24E37", "_encstr_8A310C96E6D80AB239379A3A2C47" ) ]]( "_encstr_A69E0DCF2179D8D248D8279B8843AB", 1 );

    if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_BEF407B95DC1B227E6", "_encstr_936B16C8228D1DF133BA5D466FC39987733B60C8B82477C9" ) )
        self.owner [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_BEF407B95DC1B227E6", "_encstr_936B16C8228D1DF133BA5D466FC39987733B60C8B82477C9" ) ]]( "_encstr_945B10A37F413BB229050570FE6172C7A589" );

    self.usedcount++;
    empdrone_empendearly( var_0, var_1 );

    if ( isdefined( var_0.victim ) )
    {
        var_0.victim scripts\cp_mp\emp_debuff::remove_emp();

        if ( isdefined( var_0.attacker ) && isplayer( var_0.victim ) )
        {
            if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_9B220A11EB91B8EF9E1DB207", "_encstr_B10414D51EA33BBBA632A9B8BAFB7D71CFAB5E437BCB" ) )
                [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_9B220A11EB91B8EF9E1DB207", "_encstr_B10414D51EA33BBBA632A9B8BAFB7D71CFAB5E437BCB" ) ]]( var_0.attacker, var_0.victim, var_0.objweapon.basename );
        }
    }
}

empdrone_empendearly( var_0, var_1 )
{
    var_0.victim endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    var_2 = scripts\engine\utility::waittill_notify_or_timeout_return( "_encstr_94C40C10B78B0F2174E539DB4D8C", var_1 );

    if ( var_2 != "_encstr_94C40C10B78B0F2174E539DB4D8C" )
        var_0.empremoved = 1;
}
