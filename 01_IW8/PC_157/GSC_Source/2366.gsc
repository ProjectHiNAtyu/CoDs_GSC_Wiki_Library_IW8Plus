// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

init()
{
    level.remoteuav_fx["_encstr_AB0808DFB97F822F1899"] = loadfx( "_encstr_80D827FB51A31E7ED055DDEF0310C25B6049E273F8F6FFF5B827D2AD0958484FFD628B6A2056B7ED28" );
    level.remoteuav_fx["_encstr_93C9105BD237DCA58D2BEB2BC30E8DF691B2"] = loadfx( "_encstr_A48A2BD999E15E2DEEC1BEDA0779D64BD8C637E8399516D6E53B331EAF58E0B0C60D95D7ACC30E1BED3796BD9B" );
    level.remoteuav_dialog["_encstr_88690789E6EB65D9D8"][0] = "_encstr_B3A616163613CC0CF5073647F5979516341BC62B2C27B291";
    level.remoteuav_dialog["_encstr_88690789E6EB65D9D8"][1] = "_encstr_9EF91388B2CAEF8BEFE8A99DEF732809C57A8840FA";
    level.remoteuav_dialog["_encstr_88690789E6EB65D9D8"][2] = "_encstr_B7E4142611F24B77C089D38BEFFE0A51505B5E6D09F8";
    level.remoteuav_dialog["_encstr_8A3E0DF813148FE87F6053513654FD"][0] = "_encstr_AD8A12506A12076317704145D71F1063EE227860";
    level.remoteuav_dialog["_encstr_8A3E0DF813148FE87F6053513654FD"][1] = "_encstr_8C5F164EA67B2F10CEA883EBB9C33943BFCD93021D27829C";
    level.remoteuav_dialog["_encstr_9EA606092BF256B0"][0] = "_encstr_A9FD14DBF2034713D16FB1C84120B7A3A3A7A8FDF062";
    level.remoteuav_dialog["_encstr_9EA606092BF256B0"][1] = "_encstr_AFA215EFAFFF5750A199969DD6084D5B35D177331F053B";
    level.remoteuav_dialog["_encstr_9EA606092BF256B0"][2] = "_encstr_953D13B0B14C3318F5991BB7AF3BBA5E5BDBCE2D37";
    level.remoteuav_dialog["_encstr_9EA606092BF256B0"][3] = "_encstr_9FC814BF73D67379C9423048C99F9BD3AB1DBE2EC703";
    level.remoteuav_dialog["_encstr_9EA606092BF256B0"][4] = "_encstr_B11314695AAFDFDAD65297D7DF080D10539B400DC130";
    level.remoteuav_dialog["_encstr_9EA606092BF256B0"][5] = "_encstr_98FC15796296D6CA9126FFEF77C7683D7FCB73CD5A3FAE";
    level.remoteuav_dialog["_encstr_9EA606092BF256B0"][6] = "_encstr_801A1685D8623306FA3336BDBE98C2D8DABD371D867B9BCA";
    level.remoteuav_dialog["_encstr_9EA606092BF256B0"][7] = "_encstr_B66D160B364C99817D338D7BF59DDBDCE6C2B3951D1AD2B5";
    level.remoteuav_dialog["_encstr_9EA606092BF256B0"][8] = "_encstr_A3DD1979A633DE02B730CA0211018F03D318CEFECDE08B5CFB8852";
    level.remoteuav_dialog["_encstr_9EA606092BF256B0"][9] = "_encstr_828E152FC366C3C979D2A0B8394A33015B7C2D135D83F1";
    level.remoteuav_dialog["_encstr_9EA606092BF256B0"][10] = "_encstr_8AA51338027A5F3B3F2EFEE03FBB3B43562AE0C8BA";
    level.remoteuav_dialog["_encstr_A619045937C2"][0] = "_encstr_B17E0FE94F0242523851925A5E886F0EC8";
    level.remoteuav_dialog["_encstr_A619045937C2"][1] = "_encstr_A6A414AB0B2AFA47273221A8C9D790B0D76F1931B9E5";
    level.remoteuav_dialog["_encstr_A619045937C2"][2] = "_encstr_97D3158956C32ED267E0FA3241437D4F61C80408FB90E2";
    level.remoteuav_dialog["_encstr_A619045937C2"][3] = "_encstr_8AC916A2D92F76B23905B3B75F902CE7B8B35ACAC36BD7DD";
    level.remoteuav_dialog["_encstr_A9BD0716B96E4BCDE8"][0] = "_encstr_9E881302FAFBBB5F40DB1A20AF3F90FF13922D2920";
    level.remoteuav_dialog["_encstr_A9BD0716B96E4BCDE8"][1] = "_encstr_82CD14DB970F86A277B759D0912418D7334F53711783";
    level.remoteuav_dialog["_encstr_A9BD0716B96E4BCDE8"][2] = "_encstr_BC5814914AAAD258D874864FF9D8090BA19073A36795";
    level.remoteuav_dialog["_encstr_A9BD0716B96E4BCDE8"][3] = "_encstr_9595182E19FA436FC8ADD7EFF706A24F5883257553C0CAD23D91";
    level.remoteuav_lastdialogtime = 0;
    level.remoteuav_nodeployzones = getentarray( "_encstr_B9950C9BBD7DEC59A12DB1B195CD", "_encstr_B8CE0BE43FC317DF690862BA48" );
    level.remote_uav = [];
}

useremoteuav( var_0, var_1 )
{
    return tryuseremoteuav( var_0, "_encstr_B14E0B86E52B5FE151C1538AED" );
}

exceededmaxremoteuavs( var_0 )
{
    if ( scripts\mp\utility\game::getgametype() == "_encstr_8807031CC1" )
    {
        if ( isdefined( level.remote_uav[var_0] ) || isdefined( level.remote_uav[scripts\mp\utility\game::getotherteam( var_0 )[0]] ) )
            return 1;
        else
            return 0;
    }
    else if ( isdefined( level.remote_uav[var_0] ) )
        return 1;
    else
        return 0;
}

tryuseremoteuav( var_0, var_1 )
{
    scripts\common\utility::allow_usability( 0 );

    if ( scripts\mp\utility\player::isusingremote() || self isusingturret() || isdefined( level.nukeincoming ) )
    {
        scripts\common\utility::allow_usability( 1 );
        return 0;
    }

    var_2 = 1;

    if ( exceededmaxremoteuavs( self.team ) || level.littlebirds.size >= 4 )
    {
        self iprintlnbold( &"_encstr_B29B22930315913F13256D2B09A35621C4364017428E7E99F82BE788978F99B74B8B2760" );
        scripts\common\utility::allow_usability( 1 );
        return 0;
    }
    else if ( scripts\mp\utility\killstreak::currentactivevehiclecount() >= scripts\mp\utility\killstreak::maxvehiclesallowed() || level.fauxvehiclecount + var_2 >= scripts\mp\utility\killstreak::maxvehiclesallowed() )
    {
        self iprintlnbold( &"_encstr_BA8B1EA7793D498E7339BD25B0B7784105870733D915B9F01360142CD8E31501" );
        scripts\common\utility::allow_usability( 1 );
        return 0;
    }

    self setplayerdata( "_encstr_87C110DA15C91F0511937A6250D77BDFC38D", "_encstr_8ABE0C1B33F75520BE2181B12066", 0 );
    self setplayerdata( "_encstr_87C110DA15C91F0511937A6250D77BDFC38D", "_encstr_9DE0101BABFBC0F81B688F27FF26323BCD75", 0 );
    scripts\mp\utility\killstreak::incrementfauxvehiclecount();
    var_3 = givecarryremoteuav( var_0, var_1 );

    if ( var_3 )
    {
        scripts\common\utility::_id_13E0A( level._id_11B2A, var_1, self.origin );
        thread scripts\mp\hud_util::teamplayercardsplash( "_encstr_B4F510ADCA42D9E67A9790883B853E23AA33", self );
    }
    else
        scripts\mp\utility\killstreak::decrementfauxvehiclecount();

    self.iscarrying = 0;
    return var_3;
}

givecarryremoteuav( var_0, var_1 )
{
    var_2 = createcarryremoteuav( var_1, self );
    scripts\cp_mp\utility\inventory_utility::_takeweapon( "_encstr_9B8C123AE3C1D9E3C9D323F1D797ED70AB7FF003" );
    scripts\cp_mp\utility\inventory_utility::_giveweapon( "_encstr_A135198B6B506B0A395892AAE817020728C01C3DE89BA7934788CB" );
    scripts\cp_mp\utility\inventory_utility::_switchtoweaponimmediate( "_encstr_A135198B6B506B0A395892AAE817020728C01C3DE89BA7934788CB" );
    setcarryingremoteuav( var_2 );

    if ( isalive( self ) && isdefined( var_2 ) )
    {
        var_3 = var_2.origin;
        var_4 = self.angles;
        var_2.soundent delete();
        var_2 delete();
        var_5 = startremoteuav( var_0, var_1, var_3, var_4 );
    }
    else
    {
        var_5 = 0;

        if ( isalive( self ) )
        {
            scripts\cp_mp\utility\inventory_utility::_takeweapon( "_encstr_A135198B6B506B0A395892AAE817020728C01C3DE89BA7934788CB" );
            scripts\cp_mp\utility\inventory_utility::_giveweapon( "_encstr_9B8C123AE3C1D9E3C9D323F1D797ED70AB7FF003" );
        }
    }

    return var_5;
}

createcarryremoteuav( var_0, var_1 )
{
    var_2 = var_1.origin + anglestoforward( var_1.angles ) * 4 + anglestoup( var_1.angles ) * 50;
    var_3 = spawnturret( "_encstr_88710C0763169AF7A3330A1229D8", var_2, "_encstr_B9A312FF18F84C1BB3E8150C68BB02F540611F7B" );
    var_3.origin = var_2;
    var_3.angles = var_1.angles;
    var_3.sentrytype = "_encstr_BA600F372BDCD1932FBEB5B4DCB4B3BA37";
    var_3.canbeplaced = 1;
    var_3 setturretmodechangewait( 1 );
    var_3 setmode( "_encstr_81FD0F630D75B34B6377920CF0B2D09EB3" );
    var_3 makeunusable();
    var_3 maketurretinoperable();
    var_3.owner = var_1;
    var_3 setsentryowner( var_3.owner );
    var_3.scale = 3;
    var_3.inheliproximity = 0;
    var_3 thread carryremoteuav_handleexistence();
    var_3.rangetrigger = getent( "_encstr_932C11C612BDF0CB87205D6B9B899E5605DA0F", "_encstr_B8CE0BE43FC317DF690862BA48" );

    if ( !isdefined( var_3.rangetrigger ) )
    {
        var_4 = scripts\cp_mp\utility\killstreak_utility::removeextracthelipad();
        var_3.maxheight = var_4.origin[2];
        var_3.maxdistance = 3600;
    }

    var_3.soundent = spawn( "_encstr_A3050EDF6FF5DC081CC1AFA37097B80B", var_3.origin );
    var_3.soundent.angles = var_3.angles;
    var_3.soundent.origin = var_3.origin;
    var_3.soundent linkto( var_3 );
    var_3.soundent playloopsound( "_encstr_9B6D159C2B36BDE6234EF6E656F54B191BACFA0DA5B3D0" );
    return var_3;
}

setcarryingremoteuav( var_0 )
{
    var_0 thread carryremoteuav_setcarried( self );
    self notifyonplayercommand( "_encstr_AF32150B40F9A2974F23F11B6A190D92C5F80349FBAEAD", "_encstr_9DE608483AFB1D28C673" );
    self notifyonplayercommand( "_encstr_AF32150B40F9A2974F23F11B6A190D92C5F80349FBAEAD", "_encstr_B6D21A59B0E88EC236DAEBC2D62DD631BDFA16D8B1566E9B5A31C62B" );
    self notifyonplayercommand( "_encstr_9BFB16FF78B81B2A592856CEA64D239261B0572B20B77121", "_encstr_825C0E23CB1013B7A0D013EAD805CA5B" );

    if ( !self isconsoleplayer() )
    {
        self notifyonplayercommand( "_encstr_9BFB16FF78B81B2A592856CEA64D239261B0572B20B77121", "_encstr_AA5C0E13FB2023E7F080639A8855FACB" );
        self notifyonplayercommand( "_encstr_9BFB16FF78B81B2A592856CEA64D239261B0572B20B77121", "_encstr_AB5C0E86296FC9F83062830A50E34635" );
        self notifyonplayercommand( "_encstr_9BFB16FF78B81B2A592856CEA64D239261B0572B20B77121", "_encstr_B15C0EB327F943D457F04BB210895E96" );
    }

    for (;;)
    {
        var_1 = _id_11969( "_encstr_AF32150B40F9A2974F23F11B6A190D92C5F80349FBAEAD", "_encstr_9BFB16FF78B81B2A592856CEA64D239261B0572B20B77121", "_encstr_B3C216770F8AA7D8C679DB539CA4C0D301CFF9E3FB03E548", "_encstr_A97817572058AB92107F371367254ADFF0E80E9E9948751ADD", "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
        self forceusehintoff();

        if ( var_1 != "_encstr_AF32150B40F9A2974F23F11B6A190D92C5F80349FBAEAD" )
        {
            carryremoteuav_delete( var_0 );
            break;
        }

        if ( !var_0.canbeplaced )
        {
            if ( self.team != "_encstr_A68C0A5803A5D151A2B310A6" )
                self forceusehinton( &"_encstr_B18524B4291362A9A24A8AA0694DF5491535D3512AEBAA14ACD71A14E439D3A8FA289805868A" );

            continue;
        }

        if ( exceededmaxremoteuavs( self.team ) || scripts\mp\utility\killstreak::currentactivevehiclecount() >= scripts\mp\utility\killstreak::maxvehiclesallowed() || level.fauxvehiclecount >= scripts\mp\utility\killstreak::maxvehiclesallowed() )
        {
            self iprintlnbold( &"_encstr_BA8B1EA7793D498E7339BD25B0B7784105870733D915B9F01360142CD8E31501" );
            carryremoteuav_delete( var_0 );
            break;
        }

        self.iscarrying = 0;
        var_0.carriedby = undefined;
        var_0 playsound( "_encstr_B31A11072A6A4118792904EB8576D3C829159B" );
        var_0 notify( "_encstr_BDB00703157108A55A" );
        break;
    }
}

_id_11969( var_0, var_1, var_2, var_3, var_4, var_5 )
{
    if ( ( !isdefined( var_0 ) || var_0 != "_encstr_A3750609A5E61883" ) && ( !isdefined( var_1 ) || var_1 != "_encstr_A3750609A5E61883" ) && ( !isdefined( var_2 ) || var_2 != "_encstr_A3750609A5E61883" ) && ( !isdefined( var_3 ) || var_3 != "_encstr_A3750609A5E61883" ) && ( !isdefined( var_4 ) || var_4 != "_encstr_A3750609A5E61883" ) )
        self endon( "_encstr_A3750609A5E61883" );

    var_6 = spawnstruct();

    if ( isdefined( var_0 ) )
        thread scripts\engine\utility::waittill_string( var_0, var_6 );

    if ( isdefined( var_1 ) )
        thread scripts\engine\utility::waittill_string( var_1, var_6 );

    if ( isdefined( var_2 ) )
        thread scripts\engine\utility::waittill_string( var_2, var_6 );

    if ( isdefined( var_3 ) )
        thread scripts\engine\utility::waittill_string( var_3, var_6 );

    if ( isdefined( var_4 ) )
        thread scripts\engine\utility::waittill_string( var_4, var_6 );

    if ( isdefined( var_5 ) )
        thread scripts\engine\utility::waittill_string( var_5, var_6 );

    var_6 waittill( "_encstr_BE300993B23ABA93E6AC8C", var_7 );
    var_6 notify( "_encstr_BD1804379BFB" );
    return var_7;
}

carryremoteuav_setcarried( var_0 )
{
    self setcandamage( 0 );
    self setsentrycarrier( var_0 );
    self notsolid();
    self.carriedby = var_0;
    var_0.iscarrying = 1;
    var_0 thread updatecarryremoteuavplacement( self );
    self notify( "_encstr_9D3B0803A3F0FACFDDF9" );
}

carryremoteuav_delete( var_0 )
{
    self.iscarrying = 0;

    if ( isdefined( var_0 ) )
    {
        if ( isdefined( var_0.soundent ) )
            var_0.soundent delete();

        var_0 delete();
    }
}

isinremotenodeploy()
{
    if ( isdefined( level.remoteuav_nodeployzones ) && level.remoteuav_nodeployzones.size )
    {
        foreach ( var_1 in level.remoteuav_nodeployzones )
        {
            if ( self istouching( var_1 ) )
                return 1;
        }
    }

    return 0;
}

updatecarryremoteuavplacement( var_0 )
{
    self endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    var_0 endon( "_encstr_BDB00703157108A55A" );
    var_0 endon( "_encstr_A3750609A5E61883" );
    var_0.canbeplaced = 1;
    var_1 = -1;
    scripts\common\utility::allow_usability( 1 );

    for (;;)
    {
        var_2 = 18;

        switch ( self getstance() )
        {
            case "_encstr_B1AD06374716DC8C":
                var_2 = 40;
                break;
            case "_encstr_9C3D071B63023B26C3":
                var_2 = 25;
                break;
            case "_encstr_9F24062875D5FD98":
                var_2 = 10;
                break;
        }

        var_3 = self canplayerplacetank( 22, 22, 50, var_2, 0, 0 );
        var_0.origin = var_3["_encstr_88FE07B07AAFE1C38D"] + anglestoup( self.angles ) * 27;
        var_0.angles = var_3["_encstr_9B6107C2DC3B63B2E6"];
        var_0.canbeplaced = self isonground() && var_3["_encstr_AD7C0739959BAB1B47"] && var_0 remoteuav_in_range() && !var_0 isinremotenodeploy();

        if ( var_0.canbeplaced != var_1 )
        {
            if ( var_0.canbeplaced )
            {
                if ( self.team != "_encstr_A68C0A5803A5D151A2B310A6" )
                    self forceusehinton( &"_encstr_A3771D5789ADD91EE3890DB520C7D0E13715D7916DC1A94F8331A71C686FE5" );

                if ( self attackbuttonpressed() )
                    self notify( "_encstr_AF32150B40F9A2974F23F11B6A190D92C5F80349FBAEAD" );
            }
            else if ( self.team != "_encstr_A68C0A5803A5D151A2B310A6" )
                self forceusehinton( &"_encstr_B18524B4291362A9A24A8AA0694DF5491535D3512AEBAA14ACD71A14E439D3A8FA289805868A" );
        }

        var_1 = var_0.canbeplaced;
        waitframe();
    }
}

carryremoteuav_handleexistence()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self.owner endon( "_encstr_AF32150B40F9A2974F23F11B6A190D92C5F80349FBAEAD" );
    self.owner endon( "_encstr_9BFB16FF78B81B2A592856CEA64D239261B0572B20B77121" );
    self.owner scripts\engine\utility::_id_143A6( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3", "_encstr_B2170C4AD884CDC823B9DB9D9F42", "_encstr_8CD0124A97D7F07BAD07C8C342FAA010C490DD5B" );

    if ( isdefined( self ) )
    {
        if ( isdefined( self.soundent ) )
            self.soundent delete();

        self delete();
    }
}

removeremoteweapon()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    wait 0.7;
}

startremoteuav( var_0, var_1, var_2, var_3 )
{
    lockplayerforremoteuavlaunch();
    scripts\mp\utility\player::setusingremote( var_1 );
    scripts\cp_mp\utility\inventory_utility::_giveweapon( "_encstr_BA540E3341D83743ED83EF9B8B98FA50" );
    scripts\cp_mp\utility\inventory_utility::_switchtoweaponimmediate( "_encstr_BA540E3341D83743ED83EF9B8B98FA50" );
    self visionsetnakedforplayer( "_encstr_898C091336851BADBE98DD", 0.0 );
    var_4 = scripts\mp\killstreaks\killstreaks::initridekillstreak( "_encstr_B14E0B86E52B5FE151C1538AED" );

    if ( var_4 != "_encstr_80E3087F5B1E9ACD38F3" )
    {
        if ( var_4 != "_encstr_8A820B4696CDB1ED3737AC1B3A" )
        {
            self notify( "_encstr_939611ABB25768788FA50B2DE7F3D0A1374A6D" );
            scripts\cp_mp\utility\inventory_utility::_takeweapon( "_encstr_BA540E3341D83743ED83EF9B8B98FA50" );
            scripts\mp\utility\player::clearusingremote();
        }

        return 0;
    }

    if ( exceededmaxremoteuavs( self.team ) || scripts\mp\utility\killstreak::currentactivevehiclecount() >= scripts\mp\utility\killstreak::maxvehiclesallowed() || level.fauxvehiclecount >= scripts\mp\utility\killstreak::maxvehiclesallowed() )
    {
        self iprintlnbold( &"_encstr_BA8B1EA7793D498E7339BD25B0B7784105870733D915B9F01360142CD8E31501" );
        self notify( "_encstr_939611ABB25768788FA50B2DE7F3D0A1374A6D" );
        scripts\cp_mp\utility\inventory_utility::_takeweapon( "_encstr_BA540E3341D83743ED83EF9B8B98FA50" );
        scripts\mp\utility\player::clearusingremote();
        return 0;
    }

    self notify( "_encstr_939611ABB25768788FA50B2DE7F3D0A1374A6D" );
    var_5 = createremoteuav( var_0, self, var_1, var_2, var_3 );

    if ( isdefined( var_5 ) )
    {
        thread remoteuav_ride( var_0, var_5, var_1 );
        return 1;
    }
    else
    {
        self iprintlnbold( &"_encstr_BA8B1EA7793D498E7339BD25B0B7784105870733D915B9F01360142CD8E31501" );
        scripts\cp_mp\utility\inventory_utility::_takeweapon( "_encstr_BA540E3341D83743ED83EF9B8B98FA50" );
        scripts\mp\utility\player::clearusingremote();
        return 0;
    }
}

lockplayerforremoteuavlaunch()
{
    var_0 = spawn( "_encstr_A3050EDF6FF5DC081CC1AFA37097B80B", self.origin );
    var_0 hide();
    self playerlinkto( var_0 );
    thread clearplayerlockfromremoteuavlaunch( var_0 );
}

clearplayerlockfromremoteuavlaunch( var_0 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    var_1 = scripts\engine\utility::_id_143AD( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3", "_encstr_939611ABB25768788FA50B2DE7F3D0A1374A6D" );

    if ( var_1 != "_encstr_8A820B4696CDB1ED3737AC1B3A" )
        self unlink();

    var_0 delete();
}

createremoteuav( var_0, var_1, var_2, var_3, var_4 )
{
    if ( var_1 isconsoleplayer() )
        var_5 = spawnhelicopter( var_1, var_3, var_4, "_encstr_B1E60E27ACADBDA32BF5EA2CD9AFB51C", "_encstr_93AD13EEADB0A7B68D81BE86BD2A4243E8A853FA2D" );
    else
        var_5 = spawnhelicopter( var_1, var_3, var_4, "_encstr_88AD1102DDC0D77BABA1035AF08775E3FE3F9B", "_encstr_93AD13EEADB0A7B68D81BE86BD2A4243E8A853FA2D" );

    if ( !isdefined( var_5 ) )
        return undefined;

    var_5 makevehiclesolidcapsule( 18, -9, 18 );
    var_5.lifeid = var_0;
    var_5.team = var_1.team;
    var_5.pers["_encstr_89EF05D46BA8FD"] = var_1.team;
    var_5.owner = var_1;
    var_5 setotherent( var_1 );
    var_5 scripts\mp\sentientpoolmanager::registersentient( "_encstr_B2860FEF13897ACB10E3FFC6F871C1E25E", var_1 );
    var_5.maxhealth = 250;
    var_5.scrambler = spawn( "_encstr_93DC0DCD1B272D3847AF5BED23B2C6", var_3 );
    var_5.scrambler linkto( var_5, "_encstr_8CB40B4BB398B1C0A81FDF6BEA", ( 0, 0, -160 ), ( 0, 0, 0 ) );
    var_5.scrambler makescrambler( var_1 );
    var_5.smoking = 0;
    var_5.inheliproximity = 0;
    var_5.helitype = "_encstr_B14E0B86E52B5FE151C1538AED";
    var_5.markedplayers = [];
    var_5 thread remoteuav_light_fx();
    var_5 thread remoteuav_explode_on_disconnect();
    var_5 thread remoteuav_explode_on_changeteams();
    var_5 thread remoteuav_explode_on_death();
    var_5 thread remoteuav_clear_marked_on_gameended();
    var_5 thread remoteuav_leave_on_timeout();
    var_5 thread remoteuav_watch_distance();
    var_5 thread remoteuav_watchheliproximity();
    var_5 thread remoteuav_handledamage();
    var_5.numflares = 2;
    var_5.hasincoming = 0;
    var_5.incomingmissiles = [];
    var_5 thread remoteuav_clearincomingwarning();
    var_5 thread remoteuav_handleincomingstinger();
    var_5 thread remoteuav_handleincomingsam();
    level.remote_uav[var_5.team] = var_5;
    return var_5;
}

remoteuav_ride( var_0, var_1, var_2 )
{
    var_1.playerlinked = 1;
    self.restoreangles = self.angles;

    if ( getdvarint( "_encstr_93570B93F4A9629272A825B426" ) )
        scripts\mp\utility\player::setthirdpersondof( 0 );

    self cameralinkto( var_1, "_encstr_8CB40B4BB398B1C0A81FDF6BEA" );
    self remotecontrolvehicle( var_1 );
    thread remoteuav_playerexit( var_1 );
    thread remoteuav_track( var_1 );
    thread remoteuav_fire( var_1 );
    self.remote_uav_ridelifeid = var_0;
    self.remoteuav = var_1;
    thread remoteuav_delaylaunchdialog( var_1 );
    self visionsetnakedforplayer( "_encstr_898C091336851BADBE98DD", 0.0 );
    scripts\mp\utility\player::restorebasevisionset( 1 );
}

remoteuav_delaylaunchdialog( var_0 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    var_0 endon( "_encstr_A3750609A5E61883" );
    var_0 endon( "_encstr_9F0E0B56DC8C7D93ACADF6472B" );
    var_0 endon( "_encstr_98C8126BCE8761A117DB4811F2176D181E54F7D7" );
    wait 3;
    remoteuav_dialog( "_encstr_88690789E6EB65D9D8" );
}

remoteuav_endride( var_0 )
{
    if ( isdefined( var_0 ) )
    {
        var_0.playerlinked = 0;
        var_0 notify( "_encstr_9F0E0B56DC8C7D93ACADF6472B" );
        scripts\mp\utility\player::clearusingremote();

        if ( getdvarint( "_encstr_93570B93F4A9629272A825B426" ) )
            scripts\mp\utility\player::setthirdpersondof( 1 );

        self cameraunlink( var_0 );
        self remotecontrolvehicleoff( var_0 );
        self thermalvisionoff();
        self setplayerangles( self.restoreangles );
        var_1 = scripts\mp\utility\inventory::getlastweapon();

        if ( !self hasweapon( var_1 ) )
            var_1 = scripts\mp\utility\inventory::getfirstprimaryweapon();

        scripts\cp_mp\utility\inventory_utility::_switchtoweapon( var_1 );
        scripts\cp_mp\utility\inventory_utility::_takeweapon( "_encstr_BA540E3341D83743ED83EF9B8B98FA50" );
        thread remoteuav_freezebuffer();
    }

    self.remoteuav = undefined;
}

remoteuav_freezebuffer()
{
    self endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    scripts\mp\utility\player::_freezecontrols( 1 );
    wait 0.5;
    scripts\mp\utility\player::_freezecontrols( 0 );
}

remoteuav_playerexit( var_0 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    var_0 endon( "_encstr_A3750609A5E61883" );
    var_0 endon( "_encstr_9F0E0B56DC8C7D93ACADF6472B" );
    wait 2;
    var_1 = level.framedurationseconds;

    for (;;)
    {
        var_2 = 0;

        while ( self usebuttonpressed() )
        {
            var_2 = var_2 + var_1;

            if ( var_2 > 0.75 )
            {
                var_0 thread remoteuav_leave();
                return;
            }

            wait( var_1 );
        }

        waitframe();
    }
}

remoteuav_track( var_0 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    var_0 endon( "_encstr_A3750609A5E61883" );
    var_0 endon( "_encstr_9F0E0B56DC8C7D93ACADF6472B" );
    var_0.lasttrackingdialogtime = 0;
    self.lockedtarget = undefined;
    self weaponlockfree();
    wait 1;

    for (;;)
    {
        var_1 = var_0 gettagorigin( "_encstr_94FE0B5D3E12DFD32D9BD868EB" );
        var_2 = anglestoforward( self getplayerangles() );
        var_3 = var_1 + var_2 * 1024;
        var_4 = scripts\engine\trace::_bullet_trace( var_1, var_3, 1, var_0 );

        if ( isdefined( var_4["_encstr_B7260923C89E8F3378E72E"] ) )
            var_5 = var_4["_encstr_B7260923C89E8F3378E72E"];
        else
        {
            var_5 = var_3;
            var_4["_encstr_A38A07E5CD12B1A03B"] = var_3;
        }

        var_0.trace = var_4;
        var_6 = remoteuav_trackentities( var_0, level.players, var_5 );
        var_7 = remoteuav_trackentities( var_0, level.turrets, var_5 );
        var_8 = undefined;

        if ( level.teambased )
        {
            var_9 = undefined;
            var_10 = [];
            var_11 = scripts\mp\utility\teams::getenemyteams( self.team );

            if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_A47205E8C28D13", "_encstr_B45B139B0B40B6635793415A39A93FAD48950C1549" ) )
                var_9 = level [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_A47205E8C28D13", "_encstr_B45B139B0B40B6635793415A39A93FAD48950C1549" ) ]]();

            if ( istrue( var_9 ) && getdvarint( "_encstr_B8D817B673DBFEF34643D133CADAEF33AF0D37A5F707CD39A8", 1 ) )
            {
                foreach ( var_13 in level.teamnamelist )
                {
                    foreach ( var_20, var_15 in level.squaddata[var_13] )
                    {
                        var_16 = var_13 + var_20;

                        foreach ( var_18 in level.uavmodels[var_16] )
                            var_10[var_10.size] = var_18;
                    }
                }
            }
            else
            {
                foreach ( var_23 in level.teamnamelist )
                {
                    foreach ( var_18 in level.uavmodels[var_23] )
                        var_10[var_10.size] = var_18;
                }
            }

            var_8 = remoteuav_trackentities( var_0, var_10, var_5 );
        }
        else
            var_8 = remoteuav_trackentities( var_0, level.uavmodels, var_5 );

        var_27 = undefined;

        if ( isdefined( var_6 ) )
            var_27 = var_6;
        else if ( isdefined( var_7 ) )
            var_27 = var_7;
        else if ( isdefined( var_8 ) )
            var_27 = var_8;

        if ( isdefined( var_27 ) )
        {
            if ( !isdefined( self.lockedtarget ) || isdefined( self.lockedtarget ) && self.lockedtarget != var_27 )
            {
                self weaponlockfinalize( var_27 );
                self.lockedtarget = var_27;

                if ( isdefined( var_6 ) )
                {
                    var_0 notify( "_encstr_98C8126BCE8761A117DB4811F2176D181E54F7D7" );
                    remoteuav_dialog( "_encstr_9EA606092BF256B0" );
                }
            }
        }
        else
        {
            self weaponlockfree();
            self.lockedtarget = undefined;
        }

        wait 0.05;
    }
}

remoteuav_trackentities( var_0, var_1, var_2 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    var_3 = undefined;

    foreach ( var_5 in var_1 )
    {
        if ( level.teambased && ( !isdefined( var_5.team ) || var_5.team == self.team ) )
            continue;

        if ( isplayer( var_5 ) )
        {
            if ( !scripts\mp\utility\player::isreallyalive( var_5 ) )
                continue;

            if ( var_5 == self )
                continue;

            var_6 = var_5.guid;
        }
        else
            var_6 = var_5.birthtime;

        if ( isdefined( var_5.sentrytype ) || isdefined( var_5.turrettype ) )
        {
            var_7 = 32;
            var_8 = "_encstr_81071B5157C228B8FF0FD148B0E78078EB3B2BD18FD904786824F9209F";
        }
        else if ( isdefined( var_5.uavtype ) )
        {
            var_7 = -52;
            var_8 = "_encstr_81071B5157C228B8FF0FD148B0E78078EB3B2BD18FD904786824F9209F";
        }
        else
        {
            var_7 = 26;
            var_8 = "_encstr_ABE51855DDAC499B7FE2761B9A4BC440430FABED4D56685247FA";
        }

        if ( isdefined( var_5.uavremotemarkedby ) )
        {
            if ( !isdefined( var_0.markedplayers[var_6] ) )
            {
                var_0.markedplayers[var_6] = [];
                var_0.markedplayers[var_6]["_encstr_AAB0079B102F47FF38"] = var_5;
                var_0.markedplayers[var_6]["_encstr_AFC505A3FF8240"] = var_5 thread scripts\cp_mp\entityheadicons::setheadicon_singleimage( self, "_encstr_BC9016EBDDF1D12BAB69A00D11EAD0D7630641CE75C82990", var_7 );
                var_0.markedplayers[var_6]["_encstr_AFC505A3FF8240"].shader = "_encstr_BC9016EBDDF1D12BAB69A00D11EAD0D7630641CE75C82990";

                if ( !isdefined( var_5.sentrytype ) || !isdefined( var_5.turrettype ) )
                    var_0.markedplayers[var_6]["_encstr_AFC505A3FF8240"] settargetent( var_5 );
            }
            else if ( isdefined( var_0.markedplayers[var_6] ) && isdefined( var_0.markedplayers[var_6]["_encstr_AFC505A3FF8240"] ) && isdefined( var_0.markedplayers[var_6]["_encstr_AFC505A3FF8240"].shader ) && var_0.markedplayers[var_6]["_encstr_AFC505A3FF8240"].shader != "_encstr_BC9016EBDDF1D12BAB69A00D11EAD0D7630641CE75C82990" )
            {
                var_0.markedplayers[var_6]["_encstr_AFC505A3FF8240"].shader = "_encstr_BC9016EBDDF1D12BAB69A00D11EAD0D7630641CE75C82990";
                var_0.markedplayers[var_6]["_encstr_AFC505A3FF8240"] setshader( "_encstr_BC9016EBDDF1D12BAB69A00D11EAD0D7630641CE75C82990", 10, 10 );
                var_0.markedplayers[var_6]["_encstr_AFC505A3FF8240"] setwaypoint( 0, 0, 0, 0 );
            }

            continue;
        }

        if ( isplayer( var_5 ) )
        {
            var_9 = isdefined( var_5.spawntime ) && ( gettime() - var_5.spawntime ) / 1000 <= 5;
            var_10 = var_5 scripts\mp\utility\perk::_hasperk( "_encstr_BC8613CD83AC8DA5161B47CBBE4CD84B3732B2CBAC" );
            var_11 = 0;
            var_12 = 0;
        }
        else
        {
            var_9 = 0;
            var_10 = 0;
            var_11 = isdefined( var_5.carriedby );
            var_12 = isdefined( var_5.isleaving ) && var_5.isleaving == 1;
        }

        if ( !isdefined( var_0.markedplayers[var_6] ) && !var_9 && !var_10 && !var_11 && !var_12 )
        {
            var_0.markedplayers[var_6] = [];
            var_0.markedplayers[var_6]["_encstr_AAB0079B102F47FF38"] = var_5;
            var_0.markedplayers[var_6]["_encstr_AFC505A3FF8240"] = var_5 scripts\cp_mp\entityheadicons::setheadicon_singleimage( self, var_8, var_7 );
            var_0.markedplayers[var_6]["_encstr_AFC505A3FF8240"].shader = var_8;

            if ( !isdefined( var_5.sentrytype ) || !isdefined( var_5.turrettype ) )
                var_0.markedplayers[var_6]["_encstr_AFC505A3FF8240"] settargetent( var_5 );
        }

        if ( ( !isdefined( var_3 ) || var_3 != var_5 ) && ( isdefined( var_0.trace["_encstr_B60E07C9FD1C2055E3"] ) && var_0.trace["_encstr_B60E07C9FD1C2055E3"] == var_5 && !var_11 && !var_12 ) || distance( var_5.origin, var_2 ) < 200 * var_0.trace["_encstr_B130095358E1B3930B687D"] && !var_9 && !var_11 && !var_12 || !var_12 && remoteuav_cantargetuav( var_0, var_5 ) )
        {
            var_13 = scripts\engine\trace::_bullet_trace( var_0.origin, var_5.origin + ( 0, 0, 32 ), 1, var_0 );

            if ( isdefined( var_13["_encstr_B60E07C9FD1C2055E3"] ) && var_13["_encstr_B60E07C9FD1C2055E3"] == var_5 || var_13["_encstr_B130095358E1B3930B687D"] == 1 )
            {
                self playlocalsound( "_encstr_8CFE12B37BF3F718213B0FA86DD9C807E6876082" );
                var_3 = var_5;
            }
        }
    }

    return var_3;
}

remoteuav_cantargetuav( var_0, var_1 )
{
    if ( isdefined( var_1.uavtype ) )
    {
        var_2 = anglestoforward( self getplayerangles() );
        var_3 = vectornormalize( var_1.origin - var_0 gettagorigin( "_encstr_94FE0B5D3E12DFD32D9BD868EB" ) );
        var_4 = vectordot( var_2, var_3 );

        if ( var_4 > 0.985 )
            return 1;
    }

    return 0;
}

remoteuav_fire( var_0 )
{
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    var_0 endon( "_encstr_A3750609A5E61883" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    var_0 endon( "_encstr_9F0E0B56DC8C7D93ACADF6472B" );
    wait 1;
    self notifyonplayercommand( "_encstr_B79E0EC0C73DA0A1126B9704F15BD3E9", "_encstr_9DE608483AFB1D28C673" );
    self notifyonplayercommand( "_encstr_B79E0EC0C73DA0A1126B9704F15BD3E9", "_encstr_B6D21A59B0E88EC236DAEBC2D62DD631BDFA16D8B1566E9B5A31C62B" );

    for (;;)
    {
        self waittill( "_encstr_B79E0EC0C73DA0A1126B9704F15BD3E9" );

        if ( isdefined( self.lockedtarget ) )
        {
            self playlocalsound( "_encstr_89BE0F1B02DFF8385F32E7ED4DC9B0B767" );
            scripts\mp\damagefeedback::updatedamagefeedback( "_encstr_A40101" );
            thread remoteuav_markplayer( self.lockedtarget );
            thread remoteuav_rumble( var_0, 3 );
            wait 0.25;
            continue;
        }

        waitframe();
    }
}

remoteuav_rumble( var_0, var_1 )
{
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    var_0 endon( "_encstr_A3750609A5E61883" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    var_0 endon( "_encstr_9F0E0B56DC8C7D93ACADF6472B" );
    var_0 notify( "_encstr_A99D0B99AD5CC10613FF9581F7" );
    var_0 endon( "_encstr_A99D0B99AD5CC10613FF9581F7" );

    for ( var_2 = 0; var_2 < var_1; var_2++ )
    {
        self playrumbleonentity( "_encstr_A4BE0D23B06BC2D995BEA1B258CECB" );
        wait 0.05;
    }
}

remoteuav_markplayer( var_0 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    var_0.uavremotemarkedby = self;

    if ( isplayer( var_0 ) && !var_0 scripts\mp\utility\player::isusingremote() )
    {

    }
    else if ( isdefined( var_0.uavtype ) )
        var_0.birth_time = var_0.birthtime;
    else if ( isdefined( var_0.owner ) && isalive( var_0.owner ) )
        var_0.owner thread scripts\mp\rank::scoreeventpopup( "_encstr_A2991C6957A3BEA0E441308932D3E8FD29630BB7D37A89281C277E039E96" );

    remoteuav_dialog( "_encstr_A619045937C2" );

    if ( scripts\mp\utility\game::getgametype() != "_encstr_8807031CC1" )
    {
        if ( isplayer( var_0 ) )
            thread scripts\mp\utility\points::giveunifiedpoints( "_encstr_97D70583536853" );
    }

    if ( isplayer( var_0 ) )
        var_0 setperk( "_encstr_947514E6E0561B9658361D2FAF4E0B46583931364B0E", 1 );
    else
    {
        if ( isdefined( var_0.uavtype ) )
            var_1 = "_encstr_956B16CB100863C67F088B1208BFB1CF808D5D59A0536F4B";
        else
            var_1 = "_encstr_9F3A19A7D7E003BB77CB13B10DAFDE18AA80A46391BF3FE057490B";

        if ( level.teambased )
        {
            var_2 = scripts\mp\objidpoolmanager::requestobjectiveid( 1 );

            if ( var_2 != -1 )
            {
                scripts\mp\objidpoolmanager::objective_add_objective( var_2, "_encstr_8CBE0A41F59874FF8371821A", ( 0, 0, 0 ) );
                scripts\mp\objidpoolmanager::update_objective_onentity( var_2, var_0 );
                scripts\mp\objidpoolmanager::update_objective_state( var_2, "_encstr_B30B07E216CBFFC4C2" );
                scripts\mp\objidpoolmanager::objective_teammask_single( var_2, self.team );
                scripts\mp\objidpoolmanager::update_objective_icon( var_2, var_1 );
                scripts\mp\objidpoolmanager::update_objective_setbackground( var_2, 1 );
            }

            var_0.remoteuavmarkedobjid01 = var_2;
        }
        else
        {
            var_2 = scripts\mp\objidpoolmanager::requestobjectiveid( 1 );

            if ( var_2 != -1 )
            {
                scripts\mp\objidpoolmanager::objective_add_objective( var_2, "_encstr_8CBE0A41F59874FF8371821A", ( 0, 0, 0 ) );
                scripts\mp\objidpoolmanager::update_objective_onentity( var_2, var_0 );
                scripts\mp\objidpoolmanager::update_objective_state( var_2, "_encstr_B30B07E216CBFFC4C2" );
                scripts\mp\objidpoolmanager::objective_teammask_single( var_2, scripts\mp\utility\game::getotherteam( self.team )[0] );
                scripts\mp\objidpoolmanager::update_objective_icon( var_2, var_1 );
                scripts\mp\objidpoolmanager::update_objective_setbackground( var_2, 1 );
            }

            var_0.remoteuavmarkedobjid02 = var_2;
            var_2 = scripts\mp\objidpoolmanager::requestobjectiveid( 1 );

            if ( var_2 != -1 )
            {
                scripts\mp\objidpoolmanager::objective_add_objective( var_2, "_encstr_8CBE0A41F59874FF8371821A", ( 0, 0, 0 ) );
                scripts\mp\objidpoolmanager::update_objective_onentity( var_2, var_0 );
                scripts\mp\objidpoolmanager::update_objective_state( var_2, "_encstr_B30B07E216CBFFC4C2" );
                scripts\mp\objidpoolmanager::objective_teammask_single( var_2, self.team );
                scripts\mp\objidpoolmanager::update_objective_icon( var_2, var_1 );
                scripts\mp\objidpoolmanager::update_objective_setbackground( var_2, 1 );
            }

            var_0.remoteuavmarkedobjid03 = var_2;
        }
    }

    var_0 thread remoteuav_unmarkremovedplayer( self.remoteuav );
}

remoteuav_processtaggedassist( var_0 )
{
    remoteuav_dialog( "_encstr_A9BD0716B96E4BCDE8" );

    if ( scripts\mp\utility\game::getgametype() != "_encstr_8807031CC1" )
    {
        self.taggedassist = 1;

        if ( isdefined( var_0 ) )
            thread scripts\mp\gamescore::processassist( var_0 );
        else
            thread scripts\mp\utility\points::giveunifiedpoints( "_encstr_A9BD0716B96E4BCDE8" );
    }
}

remoteuav_unmarkremovedplayer( var_0 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    var_1 = scripts\engine\utility::_id_143AE( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3", "_encstr_9D3B0803A3F0FACFDDF9", "_encstr_982D088DCA2CD95ADCB3" );

    if ( var_1 == "_encstr_982D088DCA2CD95ADCB3" || !isdefined( self.uavtype ) )
        self.uavremotemarkedby = undefined;

    if ( isdefined( var_0 ) )
    {
        if ( isplayer( self ) )
            var_2 = self.guid;
        else if ( isdefined( self.birthtime ) )
            var_2 = self.birthtime;
        else
            var_2 = self.birth_time;

        if ( var_1 == "_encstr_9D3B0803A3F0FACFDDF9" || var_1 == "_encstr_982D088DCA2CD95ADCB3" )
        {
            if ( isdefined( var_0.markedplayers[var_2]["_encstr_AFC505A3FF8240"] ) )
            {
                var_0.markedplayers[var_2]["_encstr_AFC505A3FF8240"] destroy();
                var_0.markedplayers[var_2]["_encstr_AFC505A3FF8240"] = undefined;
            }
        }

        if ( isdefined( var_2 ) && isdefined( var_0.markedplayers[var_2] ) )
        {
            var_0.markedplayers[var_2] = undefined;
            var_0.markedplayers = scripts\engine\utility::array_removeundefined( var_0.markedplayers );
        }
    }

    if ( isplayer( self ) )
        self unsetperk( "_encstr_947514E6E0561B9658361D2FAF4E0B46583931364B0E", 1 );
    else
    {
        if ( isdefined( self.remoteuavmarkedobjid01 ) )
            scripts\mp\objidpoolmanager::returnobjectiveid( self.remoteuavmarkedobjid01 );

        if ( isdefined( self.remoteuavmarkedobjid02 ) )
            scripts\mp\objidpoolmanager::returnobjectiveid( self.remoteuavmarkedobjid02 );

        if ( isdefined( self.remoteuavmarkedobjid03 ) )
            scripts\mp\objidpoolmanager::returnobjectiveid( self.remoteuavmarkedobjid03 );
    }
}

remoteuav_clearmarkedforowner()
{
    foreach ( var_1 in self.markedplayers )
    {
        if ( isdefined( var_1["_encstr_AFC505A3FF8240"] ) )
        {
            var_1["_encstr_AFC505A3FF8240"] destroy();
            var_1["_encstr_AFC505A3FF8240"] = undefined;
        }
    }

    self.markedplayers = undefined;
}

remoteuav_operationrumble( var_0 )
{
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    var_0 endon( "_encstr_A3750609A5E61883" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    var_0 endon( "_encstr_9F0E0B56DC8C7D93ACADF6472B" );

    for (;;)
    {
        self playrumbleonentity( "_encstr_9C4F0D87B1F0F9E23D3733DFBF531B" );
        wait 0.5;
    }
}

remoteuav_watch_distance()
{
    self endon( "_encstr_A3750609A5E61883" );
    self.rangetrigger = getent( "_encstr_932C11C612BDF0CB87205D6B9B899E5605DA0F", "_encstr_B8CE0BE43FC317DF690862BA48" );

    if ( !isdefined( self.rangetrigger ) )
    {
        var_0 = scripts\cp_mp\utility\killstreak_utility::removeextracthelipad();
        self.maxheight = var_0.origin[2];
        self.maxdistance = 12800;
    }

    self.centerref = spawn( "_encstr_93DC0DCD1B272D3847AF5BED23B2C6", level.mapcenter );
    var_1 = self.origin;
    self.rangecountdownactive = 0;

    for (;;)
    {
        if ( !remoteuav_in_range() )
        {
            var_2 = 0;

            while ( !remoteuav_in_range() )
            {
                self.owner remoteuav_dialog( "_encstr_8A3E0DF813148FE87F6053513654FD" );

                if ( !self.rangecountdownactive )
                {
                    self.rangecountdownactive = 1;
                    thread remoteuav_rangecountdown();
                }

                if ( isdefined( self.heliinproximity ) )
                {
                    var_3 = distance( self.origin, self.heliinproximity.origin );
                    var_2 = 1 - ( var_3 - 150 ) / 150;
                }
                else
                {
                    var_3 = distance( self.origin, var_1 );
                    var_2 = min( 1, var_3 / 200 );
                }

                self.owner setplayerdata( "_encstr_87C110DA15C91F0511937A6250D77BDFC38D", "_encstr_8ABE0C1B33F75520BE2181B12066", var_2 );
                wait 0.05;
            }

            self notify( "_encstr_8ADD094B377D9C0B9B3BB2" );
            self.rangecountdownactive = 0;
            thread remoteuav_staticfade( var_2 );
        }

        var_1 = self.origin;
        waitframe();
    }
}

remoteuav_in_range()
{
    if ( isdefined( self.rangetrigger ) )
    {
        if ( !self istouching( self.rangetrigger ) && !self.inheliproximity )
            return 1;
    }
    else if ( distance2d( self.origin, level.mapcenter ) < self.maxdistance && self.origin[2] < self.maxheight && !self.inheliproximity )
        return 1;

    return 0;
}

remoteuav_staticfade( var_0 )
{
    self endon( "_encstr_A3750609A5E61883" );

    while ( remoteuav_in_range() )
    {
        var_0 = var_0 - 0.05;

        if ( var_0 < 0 )
        {
            self.owner setplayerdata( "_encstr_87C110DA15C91F0511937A6250D77BDFC38D", "_encstr_8ABE0C1B33F75520BE2181B12066", 0 );
            break;
        }

        self.owner setplayerdata( "_encstr_87C110DA15C91F0511937A6250D77BDFC38D", "_encstr_8ABE0C1B33F75520BE2181B12066", var_0 );
        wait 0.05;
    }
}

remoteuav_rangecountdown()
{
    self endon( "_encstr_A3750609A5E61883" );
    self endon( "_encstr_8ADD094B377D9C0B9B3BB2" );

    if ( isdefined( self.heliinproximity ) )
        var_0 = 3;
    else
        var_0 = 6;

    scripts\mp\hostmigration::waitlongdurationwithhostmigrationpause( var_0 );
    self notify( "_encstr_A3750609A5E61883" );
}

remoteuav_explode_on_disconnect()
{
    self endon( "_encstr_A3750609A5E61883" );
    self.owner waittill( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    self notify( "_encstr_A3750609A5E61883" );
}

remoteuav_explode_on_changeteams()
{
    self endon( "_encstr_A3750609A5E61883" );
    self.owner scripts\engine\utility::_id_143A5( "_encstr_B2170C4AD884CDC823B9DB9D9F42", "_encstr_8CD0124A97D7F07BAD07C8C342FAA010C490DD5B" );
    self notify( "_encstr_A3750609A5E61883" );
}

remoteuav_clear_marked_on_gameended()
{
    self endon( "_encstr_A3750609A5E61883" );
    level waittill( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    remoteuav_clearmarkedforowner();
}

remoteuav_leave_on_timeout()
{
    self endon( "_encstr_A3750609A5E61883" );
    var_0 = 60.0;
    scripts\mp\hostmigration::waitlongdurationwithhostmigrationpause( var_0 );
    thread remoteuav_leave();
}

remoteuav_leave()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_A3750609A5E61883" );
    self notify( "_encstr_982D088DCA2CD95ADCB3" );
    self.owner remoteuav_endride( self );
    self notify( "_encstr_A3750609A5E61883" );
}

remoteuav_explode_on_death()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self waittill( "_encstr_A3750609A5E61883" );
    self playsound( "_encstr_950115C9CA6CF6CD2393EDB995EB3259CDA393DBF25632" );
    playfx( level.remoteuav_fx["_encstr_AB0808DFB97F822F1899"], self.origin );
    remoteuav_cleanup();
}

remoteuav_cleanup()
{
    if ( self.playerlinked == 1 && isdefined( self.owner ) )
        self.owner remoteuav_endride( self );

    if ( isdefined( self.scrambler ) )
        self.scrambler delete();

    if ( isdefined( self.centerref ) )
        self.centerref delete();

    remoteuav_clearmarkedforowner();
    stopfxontag( level.remoteuav_fx["_encstr_BE72069FCF8ACAA8"], self, "_encstr_8CB40B4BB398B1C0A81FDF6BEA" );
    level.remote_uav[self.team] = undefined;
    scripts\mp\utility\killstreak::decrementfauxvehiclecount();
    self delete();
}

remoteuav_light_fx()
{
    playfxontag( level.chopper_fx["_encstr_8BA90608F481F0DB"]["_encstr_A15E06265B8C79F1"], self, "_encstr_9F790F8E169DF5C6963B431DD79B7B37AC" );
    wait 0.05;
    playfxontag( level.chopper_fx["_encstr_8BA90608F481F0DB"]["_encstr_9CEF05339FE3F2"], self, "_encstr_8A84108EB0ECFAC696EC1A3AAFD1C2D26313" );
}

remoteuav_dialog( var_0 )
{
    if ( var_0 == "_encstr_A619045937C2" )
        var_1 = 1000;
    else
        var_1 = 5000;

    if ( gettime() - level.remoteuav_lastdialogtime < var_1 )
        return;

    level.remoteuav_lastdialogtime = gettime();
    var_2 = randomint( level.remoteuav_dialog[var_0].size );
    var_3 = level.remoteuav_dialog[var_0][var_2];
    var_4 = scripts\mp\utility\teams::getteamvoiceinfix( self.team ) + "_encstr_A80703E38A" + var_3;
    self playlocalsound( var_4 );
}

remoteuav_handleincomingstinger()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_A3750609A5E61883" );
    self endon( "_encstr_9F0E0B56DC8C7D93ACADF6472B" );

    for (;;)
    {
        level waittill( "_encstr_A9B90EDC47D273B3CA4E7D66A539B2C8", var_0, var_1, var_2 );

        if ( !isdefined( var_1 ) || !isdefined( var_2 ) || var_2 != self )
            continue;

        self.owner playlocalsound( "_encstr_8A1B115BA6D4AB034B4E510FC343298B481BD8" );
        self.owner setplayerdata( "_encstr_87C110DA15C91F0511937A6250D77BDFC38D", "_encstr_9DE0101BABFBC0F81B688F27FF26323BCD75", 1 );
        self.hasincoming = 1;
        self.incomingmissiles[self.incomingmissiles.size] = var_1;
        var_1.owner = var_0;
        var_1 thread watchstingerproximity( var_2 );
    }
}

remoteuav_handleincomingsam()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_A3750609A5E61883" );
    self endon( "_encstr_9F0E0B56DC8C7D93ACADF6472B" );

    for (;;)
    {
        level waittill( "_encstr_A4340AF7FB81C156606B470F", var_0, var_1, var_2 );

        if ( !isdefined( var_2 ) || var_2 != self )
            continue;

        var_3 = 0;

        foreach ( var_5 in var_1 )
        {
            if ( isdefined( var_5 ) )
            {
                self.incomingmissiles[self.incomingmissiles.size] = var_5;
                var_5.owner = var_0;
                var_3++;
            }
        }

        if ( var_3 )
        {
            self.owner playlocalsound( "_encstr_8A1B115BA6D4AB034B4E510FC343298B481BD8" );
            self.owner setplayerdata( "_encstr_87C110DA15C91F0511937A6250D77BDFC38D", "_encstr_9DE0101BABFBC0F81B688F27FF26323BCD75", 1 );
            self.hasincoming = 1;
            level thread watchsamproximity( var_2, var_1 );
        }
    }
}

watchstingerproximity( var_0 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_A3750609A5E61883" );
    self missile_settargetent( var_0 );
    var_1 = vectornormalize( var_0.origin - self.origin );

    while ( isdefined( var_0 ) )
    {
        var_2 = var_0 getpointinbounds( 0, 0, 0 );
        var_3 = distance( self.origin, var_2 );

        if ( var_0.numflares > 0 && var_3 < 4000 )
        {
            var_4 = var_0 deployflares();
            self missile_settargetent( var_4 );
            return;
        }
        else
        {
            var_5 = vectornormalize( var_0.origin - self.origin );

            if ( vectordot( var_5, var_1 ) < 0 )
            {
                self playsound( "_encstr_ABB01A6510DB385BB3BA02C8C76BE1C1534DB27A29ED39DB05C2DF31" );
                playfx( level.remoteuav_fx["_encstr_93C9105BD237DCA58D2BEB2BC30E8DF691B2"], self.origin );

                if ( isdefined( self.owner ) )
                    radiusdamage( self.origin, 400, 1000, 1000, self.owner, "_encstr_A45C0E4B9FDF3165A3B93C4491BFA4A9", "_encstr_87D60BDB483B7D7F71EE8FA587" );
                else
                    radiusdamage( self.origin, 400, 1000, 1000, undefined, "_encstr_A45C0E4B9FDF3165A3B93C4491BFA4A9", "_encstr_87D60BDB483B7D7F71EE8FA587" );

                self hide();
                wait 0.05;
                self delete();
            }
            else
                var_1 = var_5;
        }

        wait 0.05;
    }
}

watchsamproximity( var_0, var_1 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    var_0 endon( "_encstr_A3750609A5E61883" );

    foreach ( var_3 in var_1 )
    {
        if ( isdefined( var_3 ) )
        {
            var_3 missile_settargetent( var_0 );
            var_3.lastvectotarget = vectornormalize( var_0.origin - var_3.origin );
        }
    }

    while ( var_1.size && isdefined( var_0 ) )
    {
        var_5 = var_0 getpointinbounds( 0, 0, 0 );

        foreach ( var_3 in var_1 )
        {
            if ( isdefined( var_3 ) )
            {
                if ( isdefined( self.markfordetete ) )
                {
                    self delete();
                    continue;
                }

                if ( var_0.numflares > 0 )
                {
                    var_7 = distance( var_3.origin, var_5 );

                    if ( var_7 < 4000 )
                    {
                        var_8 = var_0 deployflares();

                        foreach ( var_10 in var_1 )
                        {
                            if ( isdefined( var_10 ) )
                                var_10 missile_settargetent( var_8 );
                        }

                        return;
                    }

                    continue;
                }

                var_12 = vectornormalize( var_0.origin - var_3.origin );

                if ( vectordot( var_12, var_3.lastvectotarget ) < 0 )
                {
                    var_3 playsound( "_encstr_ABB01A6510DB385BB3BA02C8C76BE1C1534DB27A29ED39DB05C2DF31" );
                    playfx( level.remoteuav_fx["_encstr_93C9105BD237DCA58D2BEB2BC30E8DF691B2"], var_3.origin );

                    if ( isdefined( var_3.owner ) )
                        radiusdamage( var_3.origin, 400, 1000, 1000, var_3.owner, "_encstr_A45C0E4B9FDF3165A3B93C4491BFA4A9", "_encstr_87D60BDB483B7D7F71EE8FA587" );
                    else
                        radiusdamage( var_3.origin, 400, 1000, 1000, undefined, "_encstr_A45C0E4B9FDF3165A3B93C4491BFA4A9", "_encstr_87D60BDB483B7D7F71EE8FA587" );

                    var_3 hide();
                    var_3.markfordetete = 1;
                }
                else
                    var_3.lastvectotarget = var_12;
            }
        }

        var_1 = scripts\engine\utility::array_removeundefined( var_1 );
        wait 0.05;
    }
}

deployflares()
{
    self.numflares--;
    self.owner thread remoteuav_rumble( self, 6 );
    self playsound( "_encstr_AF621CE41F58E9AE131B49893F4DC483B1F37766A4511D543A47C1514BB3" );
    thread playflarefx();
    var_0 = self.origin + ( 0, 0, -100 );
    var_1 = spawn( "_encstr_A3050EDF6FF5DC081CC1AFA37097B80B", var_0 );
    var_1.angles = self.angles;
    var_1 movegravity( ( 0, 0, -1 ), 5.0 );
    var_1 thread deleteaftertime( 5.0 );
    return var_1;
}

playflarefx()
{
    for ( var_0 = 0; var_0 < 5; var_0++ )
    {
        if ( !isdefined( self ) )
            return;

        playfxontag( level._effect["_encstr_A1940F6351B891C2D9239F4309779BD538"], self, "_encstr_8A4F0ACDA9F7067DE5E89121" );
        wait 0.15;
    }
}

deleteaftertime( var_0 )
{
    wait( var_0 );
    self delete();
}

remoteuav_clearincomingwarning()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_A3750609A5E61883" );
    self endon( "_encstr_9F0E0B56DC8C7D93ACADF6472B" );

    for (;;)
    {
        var_0 = 0;

        for ( var_1 = 0; var_1 < self.incomingmissiles.size; var_1++ )
        {
            if ( isdefined( self.incomingmissiles[var_1] ) && missile_isincoming( self.incomingmissiles[var_1], self ) )
                var_0++;
        }

        if ( self.hasincoming && !var_0 )
        {
            self.hasincoming = 0;
            self.owner setplayerdata( "_encstr_87C110DA15C91F0511937A6250D77BDFC38D", "_encstr_9DE0101BABFBC0F81B688F27FF26323BCD75", 0 );
        }

        self.incomingmissiles = scripts\engine\utility::array_removeundefined( self.incomingmissiles );
        wait 0.05;
    }
}

missile_isincoming( var_0, var_1 )
{
    var_2 = vectornormalize( var_1.origin - var_0.origin );
    var_3 = anglestoforward( var_0.angles );
    return vectordot( var_2, var_3 ) > 0;
}

remoteuav_watchheliproximity()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_A3750609A5E61883" );
    self endon( "_encstr_9F0E0B56DC8C7D93ACADF6472B" );

    for (;;)
    {
        var_0 = 0;

        foreach ( var_2 in level.helis )
        {
            if ( distance( var_2.origin, self.origin ) < 300 )
            {
                var_0 = 1;
                self.heliinproximity = var_2;
            }
        }

        foreach ( var_5 in level.littlebirds )
        {
            if ( var_5 != self && ( !isdefined( var_5.helitype ) || var_5.helitype != "_encstr_B14E0B86E52B5FE151C1538AED" ) && distance( var_5.origin, self.origin ) < 300 )
            {
                var_0 = 1;
                self.heliinproximity = var_5;
            }
        }

        if ( !self.inheliproximity && var_0 )
            self.inheliproximity = 1;
        else if ( self.inheliproximity && !var_0 )
        {
            self.inheliproximity = 0;
            self.heliinproximity = undefined;
        }

        waitframe();
    }
}

remoteuav_handledamage()
{
    self endon( "_encstr_9F0E0B56DC8C7D93ACADF6472B" );
    scripts\mp\damage::monitordamage( self.maxhealth, "_encstr_B14E0B86E52B5FE151C1538AED", ::handledeathdamage, ::modifydamage, 1 );
}

modifydamage( var_0 )
{
    var_1 = var_0.attacker;
    var_2 = var_0.objweapon;
    var_3 = var_0.meansofdeath;
    var_4 = var_0.damage;
    var_5 = var_0.idflags;
    var_6 = var_4;
    var_6 = scripts\mp\damage::handleempdamage( var_2, var_3, var_6 );
    var_6 = scripts\mp\damage::handlemissiledamage( var_2, var_3, var_6 );
    var_6 = scripts\mp\damage::handleapdamage( var_2, var_3, var_6 );
    playfxontagforclients( level.remoteuav_fx["_encstr_B71904ABC973"], self, "_encstr_8CB40B4BB398B1C0A81FDF6BEA", self.owner );
    self playsound( "_encstr_A69113350FF76060DB2680DB9D0ED0D7E8227F2394" );

    if ( self.smoking == 0 && self.damagetaken >= self.maxhealth / 2 )
    {
        self.smoking = 1;
        playfxontag( level.remoteuav_fx["_encstr_BE72069FCF8ACAA8"], self, "_encstr_8CB40B4BB398B1C0A81FDF6BEA" );
    }

    return var_6;
}

handledeathdamage( var_0 )
{
    var_1 = var_0.attacker;
    var_2 = var_0.objweapon;
    var_3 = var_0.meansofdeath;
    var_4 = var_0.damage;
    scripts\mp\damage::onkillstreakkilled( "_encstr_B14E0B86E52B5FE151C1538AED", var_1, var_2, var_3, var_4, "_encstr_8207158F257FDBD24860272B3983BD322FC557C9958333", undefined, "_encstr_94531DB6937890E08831779D40BEFB8AD01FD863F9554AA7F5732B18DB0B93" );
}
