// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

init()
{
    if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_B26111DBB297152BF150C9CF7BE2B050139BD3", "_encstr_80C50550FA44C9" ) )
        [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_B26111DBB297152BF150C9CF7BE2B050139BD3", "_encstr_80C50550FA44C9" ) ]]();

    level._effect["_encstr_979621A7EBDA757807426880AAF0C8208367276F4712B7504291F17A92C4B8666AA7E5"] = loadfx( "_encstr_A9DB3AF3A1A847F2E4292FFFA1A09A4970882AFB9BE8D12A109DC3A397B472B11831A94230608BD39B57ABEFF748EAE8E0B8D18C6878292BC04DF3D3" );
    level._effect["_encstr_972918DBD2A9BBEB7FFB13C0D3FB539FDEAD47EF5BC7D3D3D095"] = loadfx( "_encstr_93A836EE2C30BE344B2ABE09A80E0292A03193AB25F22FD8361BFAA341EFA33FB4C757B7E00770E35CAD80ABF2896E7E82F9AA18F54BC282" );
    level.activewpzones = [];
    level.activewpinnerzones = [];
    level.white_phosphorus_damage_area = getent( "_encstr_BAA418D79BAA0568175258B0BA703830B377577F43F2410B476F", "_encstr_B8CE0BE43FC317DF690862BA48" );
}

weapongivenwp( var_0 )
{
    if ( istrue( level.wpinprogress ) )
    {
        if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_801904A15DC8", "_encstr_A4851193A81077FF205DAFBA4BF03A3F4FE14A" ) )
            self [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_801904A15DC8", "_encstr_A4851193A81077FF205DAFBA4BF03A3F4FE14A" ) ]]( "_encstr_9DF616695298C4358A25A20AD2A9CBEA41EB821A2A29AC54" );

        return 0;
    }

    if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_B26111DBB297152BF150C9CF7BE2B050139BD3", "_encstr_B337175F30B9EADB3B17B2620D11828363619FDF80913E52B3" ) )
        self [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_B26111DBB297152BF150C9CF7BE2B050139BD3", "_encstr_B337175F30B9EADB3B17B2620D11828363619FDF80913E52B3" ) ]]( 0, 1, 1 );

    return 1;
}

tryusewp()
{
    var_0 = scripts\cp_mp\utility\killstreak_utility::createstreakinfo( "_encstr_B26111DBB297152BF150C9CF7BE2B050139BD3", self );
    return tryusewpfromstruct( var_0 );
}

tryusewpfromstruct( var_0 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );

    if ( isdefined( level.killstreaktriggeredfunc ) )
    {
        if ( !level [[ level.killstreaktriggeredfunc ]]( var_0 ) )
            return 0;
    }

    var_1 = getcompleteweaponname( "_encstr_A420110F1729E6C885357B51D17D101FC1F7B1" );
    var_2 = scripts\cp_mp\killstreaks\killstreakdeploy::streakdeploy_doweaponswitchdeploy( var_0, var_1, 1, ::weapongivenwp );

    if ( !istrue( var_2 ) )
        return 0;

    if ( isdefined( level.killstreakbeginusefunc ) )
    {
        if ( !level [[ level.killstreakbeginusefunc ]]( var_0 ) )
            return 0;
    }

    var_3 = wp_getmapselectioninfo( var_0, 1, 1 );

    if ( !isdefined( var_3 ) )
        return 0;

    thread wp_startdeploy( var_3, var_0 );
    var_4 = undefined;

    if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_936006576AC048BA", "_encstr_82011B33295F7BA3A850CD124B28D5B22201EFAB81F0A36440D9C51D41" ) )
    {
        [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_936006576AC048BA", "_encstr_82011B33295F7BA3A850CD124B28D5B22201EFAB81F0A36440D9C51D41" ) ]]( self, var_0.streakname );
        var_4 = 2.0;
    }

    thread scripts\cp_mp\utility\killstreak_utility::playkillstreakoperatordialog( "_encstr_9BE405709A9D69" + var_0.streakname, 1, var_4 );

    if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_B6CE0B0BB00A031B7B88355740", "_encstr_8F0A13980A279728BB7CAE255AA7119F070358F0D3" ) )
        self [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_B6CE0B0BB00A031B7B88355740", "_encstr_8F0A13980A279728BB7CAE255AA7119F070358F0D3" ) ]]( "_encstr_B26111DBB297152BF150C9CF7BE2B050139BD3", self.origin );

    if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_801904A15DC8", "_encstr_957515E82BC2AD28B116F2CA9C6885E4C8D41CB12C6E43" ) )
        self thread [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_801904A15DC8", "_encstr_957515E82BC2AD28B116F2CA9C6885E4C8D41CB12C6E43" ) ]]( "_encstr_8C05160D6AE27946DF03D0301FDF7BB9AA92071BC52B138B", self );

    return 1;
}

wp_getmapselectioninfo( var_0, var_1, var_2 )
{
    scripts\common\utility::allow_weapon_switch( 0 );
    self setsoundsubmix( "_encstr_82E616AD83AFD62D1B636E8E4EB258B6D7BDD9CA39B10BE5" );
    var_3 = undefined;

    if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_B26111DBB297152BF150C9CF7BE2B050139BD3", "_encstr_BD6B1227E533EA7780BD66A00B5FF2879FEA70CC" ) )
        var_3 = self [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_B26111DBB297152BF150C9CF7BE2B050139BD3", "_encstr_BD6B1227E533EA7780BD66A00B5FF2879FEA70CC" ) ]]( var_0, var_1, var_2 );

    if ( !isdefined( var_3 ) )
    {
        scripts\common\utility::allow_weapon_switch( 1 );
        self clearsoundsubmix( "_encstr_82E616AD83AFD62D1B636E8E4EB258B6D7BDD9CA39B10BE5" );
        return undefined;
    }

    scripts\common\utility::allow_weapon_switch( 1 );
    self clearsoundsubmix( "_encstr_82E616AD83AFD62D1B636E8E4EB258B6D7BDD9CA39B10BE5" );
    return var_3;
}

wp_startdeploy( var_0, var_1 )
{
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );

    if ( istrue( level.wpinprogress ) )
    {
        if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_801904A15DC8", "_encstr_A4851193A81077FF205DAFBA4BF03A3F4FE14A" ) )
            self [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_801904A15DC8", "_encstr_A4851193A81077FF205DAFBA4BF03A3F4FE14A" ) ]]( "_encstr_9DF616695298C4358A25A20AD2A9CBEA41EB821A2A29AC54" );

        return 0;
    }

    level.wpinprogress = 1;

    foreach ( var_6, var_3 in var_0 )
    {
        var_4 = var_3.location;
        var_5 = var_3.angles;
        wp_finishdeployment( var_4, var_5, var_1 );

        if ( var_0.size > 1 && var_6 < var_0.size - 1 )
            wait( randomfloatrange( 1, 3.0 ) );
    }
}

wp_finishdeployment( var_0, var_1, var_2 )
{
    level endon( "_encstr_9518155068E003318ED7E2606BC969275B6FC0CF2A0B8A" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    thread _id_145E6( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    thread _id_145E6( "_encstr_B2170C4AD884CDC823B9DB9D9F42" );
    thread _id_145E6( "_encstr_9F3011E2B77F102BFF19687852D6F109E32F76" );
    scripts\cp_mp\hostmigration::hostmigration_waitlongdurationwithpause( 3 );
    var_3 = wp_createplane( var_0, var_1, var_2 );

    if ( !isdefined( var_3 ) )
        return 0;

    var_3 thread _id_145EA();
    var_3 thread wp_deliverpayloads( var_2 );
}

wp_createplane( var_0, var_1, var_2 )
{
    var_3 = scripts\cp_mp\utility\killstreak_utility::removeextracthelipad();
    var_4 = 28000;
    var_5 = 5000;
    var_6 = 2500;
    var_7 = 1500;
    var_8 = ( 0, var_1, 0 );

    if ( !isdefined( var_3 ) )
        var_6 = var_6 + 3000;
    else
    {
        var_6 = var_3.origin[2] + 3000;
        var_7 = scripts\cp_mp\killstreaks\airstrike::getexplodedistance( var_6 );
    }

    var_9 = scripts\cp_mp\killstreaks\airstrike::getflightpath( var_0, var_8, var_4, var_3, var_6, var_5, var_7 );
    var_10 = spawn( "_encstr_93DC0DCD1B272D3847AF5BED23B2C6", var_9["_encstr_9C8C0B532531D30BB170921A50"] );
    var_10.angles = var_8;
    var_10.flightpath = var_9;
    var_10.owner = self;
    var_10.team = self.team;
    var_10.streakinfo = var_2;
    var_10.speed = var_5;
    var_11 = "_encstr_94331DD83A74019ECFE9B120F907E3071A8390B862CDCD909A5DD02CD5076B";

    if ( scripts\cp_mp\utility\player_utility::getplayersuperfaction( self ) )
        var_11 = "_encstr_B325186B6F2B39175021D96F224A9B611725C8CC27801ECF2AB3";

    var_10 setmodel( var_11 );
    var_12 = undefined;
    var_13 = undefined;

    if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_A47205E8C28D13", "_encstr_B1B0107EA86179137789A2249886F3E006E5" ) )
        var_13 = scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_A47205E8C28D13", "_encstr_B1B0107EA86179137789A2249886F3E006E5" );

    if ( isdefined( var_13 ) )
    {
        var_12 = var_10 [[ var_13 ]]( "_encstr_BD9D10A536F69BAF6BD237965B2CC1F5EE07", var_10.team, 1, 1, 1 );
        var_10.minimapid = var_12;
    }

    if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_B6CE0B0BB00A031B7B88355740", "_encstr_9F1B1AA9C213557B261381B32E1719839BDA6373CB4F77E88DE197B1" ) )
        var_10 [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_B6CE0B0BB00A031B7B88355740", "_encstr_9F1B1AA9C213557B261381B32E1719839BDA6373CB4F77E88DE197B1" ) ]]( var_10.streakinfo.streakname, "_encstr_B2860FEF13897ACB10E3FFC6F871C1E25E", self );

    return var_10;
}

_id_145E6( var_0, var_1 )
{
    level endon( "_encstr_9518155068E003318ED7E2606BC969275B6FC0CF2A0B8A" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self waittill( var_0 );
    level.wpinprogress = undefined;
    level notify( "_encstr_9518155068E003318ED7E2606BC969275B6FC0CF2A0B8A" );
}

_id_145EA()
{
    self endon( "_encstr_A3750609A5E61883" );
    level waittill( "_encstr_9518155068E003318ED7E2606BC969275B6FC0CF2A0B8A" );
    wp_removeplane( self );
}

_id_145E8()
{
    self endon( "_encstr_A3750609A5E61883" );
    level waittill( "_encstr_9518155068E003318ED7E2606BC969275B6FC0CF2A0B8A" );

    if ( _id_145E3( "_encstr_BE72069FCF8ACAA8", self ) )
        level wp_removefromactivewplist( "_encstr_BE72069FCF8ACAA8", self );
    else
    {
        var_0 = 0;

        if ( var_0 )
            self freescriptable();
        else
            self delete();
    }
}

_id_145E7( var_0 )
{
    self endon( "_encstr_A3750609A5E61883" );
    level waittill( "_encstr_9518155068E003318ED7E2606BC969275B6FC0CF2A0B8A" );

    if ( isdefined( self.killcament ) )
        self.killcament delete();

    if ( _id_145E3( "_encstr_B98F06F35018B74A", self ) )
        level wp_removefromactivewplist( "_encstr_B98F06F35018B74A", self, var_0, 1 );

    self notify( "_encstr_AAD0166EE8DB0EAFDD1CFA9BD1C2A3EA6EBE56CC99B21B47" );
    var_1 = 0;

    if ( var_1 )
        self freescriptable();
    else
        self delete();
}

wp_deliverpayloads( var_0 )
{
    level endon( "_encstr_9518155068E003318ED7E2606BC969275B6FC0CF2A0B8A" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    var_1 = self.flightpath["_encstr_9C8C0B532531D30BB170921A50"];
    var_2 = self.flightpath["_encstr_B9B7097AE01D73ED709D3C"];
    var_3 = self.flightpath["_encstr_95020899D82F452D6B2B"];
    var_4 = var_1 + anglestoforward( self.angles ) * 12500;
    var_5 = var_2 - anglestoforward( self.angles ) * 12500;
    var_6 = length( var_4 - var_5 );
    var_7 = 30;
    self.owner thread wp_watchend( var_0, var_7 );
    self.owner thread _id_145E9( var_0 );
    self moveto( var_2, var_3 );
    self setscriptablepartstate( "_encstr_95C90726DE462F32C2", "_encstr_9707035F3B", 0 );
    self scriptmodelplayanim( "_encstr_A11C14B5E3119BB3E80B4B7725018F9569496D387830" );
    thread wp_enterpayloadaudio();
    thread wp_exitpayloadaudio( var_2, var_3 );
    var_9 = 3;
    wp_handlepayloadtyperelease( ::wp_fireairburst, var_1, var_4, var_6, var_7, 4000, var_9, 1 );
    wp_handlepayloadtyperelease( ::wp_firesmoke, var_1, var_4, var_6, var_7, 4000, 3, 1 );
    wp_handlepayloadtyperelease( ::wp_fireflaregroup, var_1, var_4, var_6, var_7, 2000, 6, 2 );
    scripts\cp_mp\hostmigration::hostmigration_waitlongdurationwithpause( var_3 );
    self stopsounds();
    self scriptmodelplayanimdeltamotion( "_encstr_B2AF1310BBC70E1835C16D47E2DDEAF51F024A1863" );
    scripts\cp_mp\hostmigration::hostmigration_waitlongdurationwithpause( 5.33 );
    wp_removeplane( self );
}

wp_watchend( var_0, var_1 )
{
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    level endon( "_encstr_9518155068E003318ED7E2606BC969275B6FC0CF2A0B8A" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    scripts\cp_mp\hostmigration::hostmigration_waitlongdurationwithpause( var_1 );
    self notify( "_encstr_88E21A77342D1DB2EBE034F6CDC1A1BDC95DB9AF994BDC96DC342BC8" );
    scripts\cp_mp\utility\killstreak_utility::_id_12AA7( var_0 );
}

_id_145E9( var_0 )
{
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    self endon( "_encstr_88E21A77342D1DB2EBE034F6CDC1A1BDC95DB9AF994BDC96DC342BC8" );
    level endon( "_encstr_9518155068E003318ED7E2606BC969275B6FC0CF2A0B8A" );
    level waittill( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    scripts\cp_mp\utility\killstreak_utility::_id_12AA7( var_0 );
}

wp_enterpayloadaudio()
{
    self endon( "_encstr_A3750609A5E61883" );
    level endon( "_encstr_9518155068E003318ED7E2606BC969275B6FC0CF2A0B8A" );
    waitframe();
    self playsoundonmovingent( "_encstr_AB3F1DB4DD70AFDA1CEBEE864BE8CA7DC134DBCDBE37EA23D47D338DE598CB" );
}

wp_exitpayloadaudio( var_0, var_1 )
{
    self endon( "_encstr_A3750609A5E61883" );
    level endon( "_encstr_9518155068E003318ED7E2606BC969275B6FC0CF2A0B8A" );
    scripts\cp_mp\hostmigration::hostmigration_waitlongdurationwithpause( var_1 );
    playsoundatpos( var_0, "_encstr_BE7F1CAFB00A4FC2F9B0FB3483A91A076B303F5F59DBBDFF9BA84728FB81" );
}

wp_watchunsuccessfulzones( var_0 )
{
    level endon( "_encstr_B47212A3473F23E740B8E76FABD9A39A13D5AF1F" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );

    for ( var_1 = 0; var_1 < var_0; var_1++ )
        level waittill( "_encstr_B7F40FEEC1EBA77BDC59BE99C2B41B5623" );

    level.wpinprogress = undefined;
}

wp_handlepayloadtyperelease( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7 )
{
    var_8 = int( var_3 / var_5 );
    var_9 = 0;

    if ( !isdefined( var_6 ) )
        var_6 = var_8;
    else
    {
        var_10 = var_8 - var_6;
        var_9 = int( var_10 / 2 );
    }

    if ( isdefined( var_7 ) )
        var_9 = var_9 + var_7;

    var_11 = anglestoforward( self.angles );
    var_12 = var_2;
    var_13 = 0;

    for ( var_14 = 0; var_14 < var_8; var_14++ )
    {
        var_15 = length( var_1 - var_12 ) / self.speed;

        if ( var_14 < var_9 )
        {
            var_12 = var_12 + var_11 * var_5;
            continue;
        }

        var_16 = var_12 - ( 0, 0, 2000 );

        if ( var_0 == ::wp_fireflaregroup )
        {
            var_17 = spawn( "_encstr_93DC0DCD1B272D3847AF5BED23B2C6", var_1 + ( 0, 0, 1500 ) );
            var_17 thread wp_movekillcam( var_15, var_16, var_11, var_4 );
            self thread [[ var_0 ]]( var_16, var_11, var_15, var_17 );
        }
        else if ( var_0 == ::wp_firesmoke )
            self thread [[ var_0 ]]( var_16, var_11, var_15, var_14 );
        else
            self thread [[ var_0 ]]( var_16, var_11, var_15 );

        var_12 = var_12 + var_11 * var_5;
        var_13++;

        if ( var_13 == var_6 )
            break;
    }
}

wp_movekillcam( var_0, var_1, var_2, var_3 )
{
    self endon( "_encstr_A3750609A5E61883" );
    var_1 = var_1 - var_2 * 3500;
    var_4 = var_1 - var_2 * 1000;
    self moveto( var_1, var_0 + 3 );
    scripts\cp_mp\hostmigration::hostmigration_waitlongdurationwithpause( var_0 + 2 );
    self moveto( var_4, 3 );
    scripts\cp_mp\hostmigration::hostmigration_waitlongdurationwithpause( var_3 );
    self delete();
}

wp_testpayloads( var_0, var_1, var_2 )
{
    self endon( "_encstr_A3750609A5E61883" );
}

wp_fireairburst( var_0, var_1, var_2 )
{
    level endon( "_encstr_9518155068E003318ED7E2606BC969275B6FC0CF2A0B8A" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    var_3 = var_0 - var_1 * 3000;
    var_4 = var_0 - var_1 * 2000;
    var_5 = 30;
    scripts\cp_mp\hostmigration::hostmigration_waitlongdurationwithpause( var_2 );
    playfx( scripts\engine\utility::getfx( "_encstr_979621A7EBDA757807426880AAF0C8208367276F4712B7504291F17A92C4B8666AA7E5" ), var_3, var_1 );
    playsoundatpos( var_4, "_encstr_984B1F48BB5091D973076F5937DB1549B0D43083297D68055AC79D2F3F43E79877" );
}

wp_firesmoke( var_0, var_1, var_2, var_3 )
{
    level endon( "_encstr_9518155068E003318ED7E2606BC969275B6FC0CF2A0B8A" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );

    if ( !isdefined( self.playersininitialsmokerange ) )
        self.playersininitialsmokerange = [];

    if ( !isdefined( self.playersoutsideinitialsmokerange ) )
        self.playersoutsideinitialsmokerange = [];

    var_4 = 1;

    if ( scripts\cp_mp\utility\game_utility::islargemap() && level.gametype != "_encstr_BD19047616EB" )
        var_4 = 0;

    var_5 = scripts\engine\trace::ray_trace( var_0, var_0 - ( 0, 0, 10000 ) );
    var_6 = var_5["_encstr_B7260923C89E8F3378E72E"];
    var_7 = 30;
    scripts\cp_mp\hostmigration::hostmigration_waitlongdurationwithpause( var_2 );
    var_9 = 0;

    if ( var_9 )
        var_10 = easepower( "_encstr_B619196DB9F5EE344B47CAFA0E1AF69B0E86F627D5E6FAAD83AF83", var_6, self.angles );
    else
    {
        var_10 = spawn( "_encstr_93DC0DCD1B272D3847AF5BED23B2C6", var_6 );
        var_10 setmodel( "_encstr_9BE3172BA207E73380D152F9CB1410D3BB548010834E81C560" );
        var_10 setentityowner( self.owner );
    }

    var_10.team = self.team;
    var_10.owner = self.owner;
    var_10.streakinfo = self.streakinfo;
    var_10 thread _id_145E8();
    scripts\cp_mp\hostmigration::hostmigration_waitlongdurationwithpause( 1 );
    level thread _id_145E5( var_10 );

    if ( istrue( var_4 ) )
    {
        var_11 = isdefined( var_3 ) && var_3 == 3;

        if ( istrue( var_11 ) )
        {
            scripts\cp_mp\hostmigration::hostmigration_waitlongdurationwithpause( 3.5 );
            self.playersininitialsmokerange = scripts\common\utility::playersincylinder( var_6, 2000 );
            self.playersoutsideinitialsmokerange = scripts\engine\utility::array_difference( level.players, self.playersininitialsmokerange );
            var_10 thread wp_watchdisorienteffect( 2000, self.playersininitialsmokerange, self.playersoutsideinitialsmokerange );
        }
    }
    else
    {
        if ( scripts\cp_mp\utility\game_utility::isnightmap() || scripts\cp_mp\utility\game_utility::update_operator_west_char_loc() )
            var_10 setscriptablepartstate( "_encstr_A3790C7BC2AFBA20D16E2B3F80C3", "_encstr_9707035F3B", 0 );
        else
            var_10 setscriptablepartstate( "_encstr_BE72069FCF8ACAA8", "_encstr_9707035F3B", 0 );

        scripts\cp_mp\hostmigration::hostmigration_waitlongdurationwithpause( 3.5 );
        var_10 thread wp_watchdisorienteffect( 2000, var_4 );
    }

    level wp_addtoactivewplist( "_encstr_BE72069FCF8ACAA8", var_10 );
    scripts\cp_mp\hostmigration::hostmigration_waitlongdurationwithpause( var_7 );
    level wp_removefromactivewplist( "_encstr_BE72069FCF8ACAA8", var_10 );
}

wp_fireflaregroup( var_0, var_1, var_2, var_3 )
{
    level endon( "_encstr_9518155068E003318ED7E2606BC969275B6FC0CF2A0B8A" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    var_4 = self.owner;
    var_5 = self.team;
    var_6 = self.angles;
    var_7 = scripts\engine\trace::ray_trace( var_0, var_0 - ( 0, 0, 10000 ), self, undefined, 1, 1 );
    var_8 = var_7["_encstr_B7260923C89E8F3378E72E"];
    var_9 = var_7["_encstr_AACA0C1F789BBECA2755F3A8C7C3"];
    var_10 = isdefined( level.white_phosphorus_damage_area );

    if ( istrue( var_10 ) )
    {
        level.white_phosphorus_damage_area dontinterpolate();
        level.white_phosphorus_damage_area.owner = var_4;
        level.white_phosphorus_damage_area.team = var_5;
        level.white_phosphorus_damage_area.streakinfo = self.streakinfo;
    }

    var_11 = 30;
    scripts\cp_mp\hostmigration::hostmigration_waitlongdurationwithpause( var_2 );
    var_12 = wp_getflarepositions( var_0, var_8, 4, int( 250.0 ) );

    foreach ( var_14 in var_12 )
    {
        var_15 = 0;

        if ( var_15 )
            var_16 = easepower( "_encstr_B619196DB9F5EE344B47CAFA0E1AF69B0E86F627D5E6FAAD83AF83", var_14.flareorigin, var_6 );
        else
        {
            var_16 = spawn( "_encstr_93DC0DCD1B272D3847AF5BED23B2C6", var_14.flareorigin );
            var_16 setmodel( "_encstr_9BE3172BA207E73380D152F9CB1410D3BB548010834E81C560" );
            var_16 setentityowner( var_4 );
            var_16.angles = var_6;
        }

        var_16.owner = var_4;
        var_16.team = var_5;
        var_16.streakinfo = self.streakinfo;
        var_16.struct = var_14;
        var_16.weapon_name = "_encstr_9EDB195BB8D8784731B31367338BC37F23EDCBE9674807CA777DF3";
        var_16.killcament = var_3;
        var_16 thread _id_145E7( "_encstr_BD9B051A9306FB" );
        var_16 thread wp_projwatchimpact( var_11, "_encstr_BD9B051A9306FB", var_9 );
        wait( randomfloatrange( 0.1, 0.4 ) );
    }

    if ( istrue( var_10 ) )
        level.white_phosphorus_damage_area.origin = ( 0, 0, 50000 );
}

wp_getflarepositions( var_0, var_1, var_2, var_3 )
{
    var_4 = [];
    var_5 = self.angles * ( 0, 1, 0 );
    var_6 = anglestoforward( var_5 );
    var_7 = anglestoright( var_5 );
    var_8 = [ "_encstr_98C1190E865EE6D26CDC36DE73A32B73E8E6EB6C1B5A0EB91AED1D", "_encstr_BD431CE7B0D853097F67676D6BE477B61B072950F79BD30A5247185850D0", "_encstr_9E9C1638865EB95A6CE68DDEE64795B98E6EAF9BF6B1968C", "_encstr_B7D018B89C4B13AC473342305523920D607E50E3571038A69138" ];
    var_9 = physics_createcontents( var_8 );
    var_10 = -2000;
    var_11 = 0;

    for ( var_12 = 0; var_12 < var_2; var_12++ )
    {
        var_13 = var_6 * var_10 + var_7 * var_11;
        var_14 = var_1 + var_6 * var_10;
        var_15 = var_1 + var_13;
        var_16 = scripts\engine\trace::ray_trace( var_15 + ( 0, 0, var_0[2] ), var_15 - ( 0, 0, 10000 ), level.characters, var_9 );
        var_17 = var_16["_encstr_B7260923C89E8F3378E72E"];
        var_18 = var_1 * ( 1, 1, 0 ) + ( 0, 0, var_17[2] ) + var_6 * var_10;
        var_19 = spawnstruct();
        var_19.damageorigin = var_18;
        var_19.flareorigin = var_17;
        var_4[var_4.size] = var_19;
        var_10 = var_10 + 500;
        var_11 = randomintrange( -750, 750 );
    }

    return var_4;
}

wp_projwatchimpact( var_0, var_1, var_2 )
{
    self endon( "_encstr_A3750609A5E61883" );
    level endon( "_encstr_9518155068E003318ED7E2606BC969275B6FC0CF2A0B8A" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    scripts\cp_mp\hostmigration::hostmigration_waitlongdurationwithpause( 2.5 );
    self.projimpacted = 1;
    level wp_addtoactivewplist( "_encstr_B98F06F35018B74A", self );
    self setscriptablepartstate( "_encstr_8F880751B3A741AFDB", "_encstr_9707035F3B", 0 );

    if ( isdefined( var_2 ) && var_2 == "_encstr_8C8E0FEA9BA0566B9BC18F6FE74FB38D48" )
        self setscriptablepartstate( "_encstr_A2CA1233B1169C95BE329516D11A7DEEB08E59C9", "_encstr_9707035F3B", 0 );
    else
        self setscriptablepartstate( "_encstr_9CA9060C2CC70B83", "_encstr_9707035F3B", 0 );

    var_3 = self.struct.damageorigin + ( 0, 0, 10 );

    if ( isdefined( self.owner ) )
        self radiusdamage( var_3, 512, 500, 500, self.owner, "_encstr_A45C0E4B9FDF3165A3B93C4491BFA4A9", "_encstr_9EDB195BB8D8784731B31367338BC37F23EDCBE9674807CA777DF3" );

    if ( isdefined( var_2 ) && var_2 != "_encstr_8C8E0FEA9BA0566B9BC18F6FE74FB38D48" )
    {
        if ( isdefined( var_1 ) )
        {
            self.killcament = spawn( "_encstr_93DC0DCD1B272D3847AF5BED23B2C6", self.origin + ( 0, 0, 100 ) );

            if ( var_1 == "_encstr_BD9B051A9306FB" )
                thread wp_watchburneffect( 300 );
            else
                thread wp_watchblindeffect( 300 );

            if ( !scripts\common\utility::iscp() )
            {
                scripts\cp_mp\utility\killstreak_utility::killstreak_createdangerzone( self.origin, 300, 300, var_0, self.owner, self.team );
                thread _id_145E2();
            }
        }

        scripts\cp_mp\hostmigration::hostmigration_waitlongdurationwithpause( var_0 );
        level wp_removefromactivewplist( "_encstr_B98F06F35018B74A", self, var_1, 1 );
        self notify( "_encstr_AAD0166EE8DB0EAFDD1CFA9BD1C2A3EA6EBE56CC99B21B47" );
        self setscriptablepartstate( "_encstr_9CA9060C2CC70B83", "_encstr_9819045FD029", 0 );
        self setscriptablepartstate( "_encstr_AABC0C03AD4FD3F81603E3FF14EB", "_encstr_9707035F3B", 0 );
    }

    if ( isdefined( self.killcament ) )
        self.killcament delete();

    thread _id_145E1( 15 );
}

_id_145E2()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    var_0 = self.dangerzoneid;
    self waittill( "_encstr_A3750609A5E61883" );
    scripts\cp_mp\utility\killstreak_utility::killstreak_destroydangerzone( var_0 );
}

_id_145E1( var_0 )
{
    self endon( "_encstr_A3750609A5E61883" );
    level endon( "_encstr_9518155068E003318ED7E2606BC969275B6FC0CF2A0B8A" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    var_1 = 0;
    scripts\cp_mp\hostmigration::hostmigration_waitlongdurationwithpause( var_0 );

    if ( var_1 )
        self freescriptable();
    else
        self delete();
}

wp_watchdisorienteffect( var_0, var_1, var_2 )
{
    self endon( "_encstr_A3750609A5E61883" );
    self.playersindisorientradius = [];

    if ( isdefined( var_1 ) && isdefined( var_2 ) )
    {
        thread wp_delaydisorientplayersinrange( 0.15, 2000, var_1 );
        thread wp_delaydisorientplayersinrange( 0.25, undefined, var_2 );
    }
    else
    {
        for (;;)
        {
            var_3 = scripts\common\utility::playersincylinder( self.origin, var_0 );
            var_4 = scripts\engine\utility::array_difference( level.players, var_3 );

            foreach ( var_6 in var_3 )
            {
                if ( !var_6 scripts\cp_mp\utility\player_utility::_isalive() )
                    continue;

                if ( !wp_isinwpzone( "_encstr_BE72069FCF8ACAA8", var_6, self ) )
                    wp_addplayertostatusradiuslist( "_encstr_BE72069FCF8ACAA8", var_6 );

                if ( !istrue( var_6.wpdisorient ) )
                    var_6 thread wp_startdisorientplayer( self );
            }

            foreach ( var_6 in var_4 )
            {
                if ( !var_6 scripts\cp_mp\utility\player_utility::_isalive() )
                    continue;

                if ( istrue( var_6.wpdisorient ) && wp_isinwpzone( "_encstr_BE72069FCF8ACAA8", var_6, self ) )
                    var_6 thread wp_stopdisorientplayer( self );
            }

            waitframe();
        }
    }
}

wp_getplayerswithinrange( var_0, var_1 )
{
    var_2 = [];

    foreach ( var_4 in var_0 )
    {
        if ( distance2dsquared( self.origin, var_4.origin ) <= var_1 * var_1 )
            var_2[var_2.size] = var_4;
    }

    return var_2;
}

wp_delaydisorientplayersinrange( var_0, var_1, var_2 )
{
    self endon( "_encstr_A3750609A5E61883" );

    if ( isdefined( var_0 ) && var_0 > 0 )
        scripts\cp_mp\hostmigration::hostmigration_waitlongdurationwithpause( var_0 );

    var_3 = var_2;

    if ( isdefined( var_1 ) && var_1 > 0 )
        var_3 = wp_getplayerswithinrange( var_2, var_1 );

    foreach ( var_5 in var_3 )
    {
        if ( var_5 scripts\cp_mp\utility\player_utility::_isalive() )
        {
            wp_addplayertostatusradiuslist( "_encstr_BE72069FCF8ACAA8", var_5 );

            if ( !istrue( var_5.wpdisorient ) )
                var_5 thread wp_startdisorientplayer( self );
        }

        var_5 thread wp_startdisorientplayeronspawn( self );
    }
}

wp_watchburneffect( var_0 )
{
    self endon( "_encstr_AAD0166EE8DB0EAFDD1CFA9BD1C2A3EA6EBE56CC99B21B47" );
    self endon( "_encstr_A3750609A5E61883" );
    self.playersininnerradius = [];

    for (;;)
    {
        foreach ( var_2 in level.players )
        {
            if ( !var_2 scripts\cp_mp\utility\player_utility::_isalive() )
                continue;

            if ( distance2d( self.origin, var_2.origin ) <= var_0 && scripts\engine\trace::ray_trace_passed( var_2 geteye(), self.origin + ( 0, 0, 30 ), var_2 ) )
            {
                if ( !istrue( var_2.wpburning ) )
                    var_2 thread wp_startburnplayer( self, self.owner );

                continue;
            }

            if ( istrue( var_2.wpburning ) && wp_isinwpzone( "_encstr_B98F06F35018B74A", var_2, self ) )
                var_2 wp_stopburnplayer( self );
        }

        waitframe();
    }
}

wp_watchblindeffect( var_0 )
{
    self endon( "_encstr_AAD0166EE8DB0EAFDD1CFA9BD1C2A3EA6EBE56CC99B21B47" );
    self endon( "_encstr_A3750609A5E61883" );
    self.playersininnerradius = [];

    for (;;)
    {
        foreach ( var_2 in level.players )
        {
            if ( !var_2 scripts\cp_mp\utility\player_utility::_isalive() )
                continue;

            if ( distance2d( self.origin, var_2.origin ) <= var_0 && scripts\engine\trace::ray_trace_passed( var_2 geteye(), self.origin + ( 0, 0, 30 ), var_2 ) )
            {
                if ( !istrue( var_2.wpblinding ) )
                    var_2 wp_startblindplayer( self );

                continue;
            }

            if ( istrue( var_2.wpblinding ) && wp_isinwpzone( "_encstr_B98F06F35018B74A", var_2, self ) )
                var_2 wp_stopblindplayer( self );
        }

        waitframe();
    }
}

wp_addtoactivewplist( var_0, var_1 )
{
    if ( var_0 == "_encstr_BE72069FCF8ACAA8" )
        level.activewpzones[level.activewpzones.size] = var_1;
    else
        level.activewpinnerzones[level.activewpinnerzones.size] = var_1;
}

_id_145E3( var_0, var_1 )
{
    var_2 = 0;

    if ( var_0 == "_encstr_BE72069FCF8ACAA8" )
    {
        foreach ( var_4 in level.activewpzones )
        {
            if ( var_4 == var_1 )
            {
                var_2 = 1;
                break;
            }
        }
    }
    else
    {
        foreach ( var_4 in level.activewpinnerzones )
        {
            if ( var_4 == var_1 )
            {
                var_2 = 1;
                break;
            }
        }
    }

    return var_2;
}

wp_removefromactivewplist( var_0, var_1, var_2, var_3 )
{
    if ( !isdefined( var_1 ) )
        return;

    var_4 = [];

    if ( var_0 == "_encstr_BE72069FCF8ACAA8" )
    {
        foreach ( var_6 in level.activewpzones )
        {
            if ( var_6 == var_1 )
                continue;

            var_4[var_4.size] = var_6;
        }

        level.activewpzones = var_4;

        if ( isdefined( var_1.playersindisorientradius ) )
        {
            foreach ( var_9 in var_1.playersindisorientradius )
            {
                if ( isdefined( var_9 ) && !wp_isinanywpzone( "_encstr_BE72069FCF8ACAA8", var_9 ) )
                    var_9 thread wp_stopdisorientplayer( var_1 );
            }
        }

        if ( level.activewpzones.size <= 0 )
            level.wpinprogress = undefined;
    }
    else
    {
        foreach ( var_6 in level.activewpinnerzones )
        {
            if ( var_6 == var_1 )
                continue;

            var_4[var_4.size] = var_6;
        }

        level.activewpinnerzones = var_4;

        if ( isdefined( var_1.playersininnerradius ) )
        {
            foreach ( var_9 in var_1.playersininnerradius )
            {
                if ( isdefined( var_9 ) && !wp_isinanywpzone( "_encstr_B98F06F35018B74A", var_9 ) )
                {
                    if ( var_2 == "_encstr_BD9B051A9306FB" )
                    {
                        var_9 thread wp_stopburnplayer( var_1 );
                        continue;
                    }

                    var_9 thread wp_stopblindplayer( var_1 );
                }
            }
        }
    }

    if ( istrue( var_3 ) )
        return;

    var_15 = 0;

    if ( var_15 )
        var_1 freescriptable();
    else
        var_1 delete();
}

wp_isinanywpzone( var_0, var_1 )
{
    var_2 = 0;

    if ( var_0 == "_encstr_BE72069FCF8ACAA8" )
    {
        foreach ( var_4 in level.activewpzones )
        {
            if ( wp_isinwpzone( var_0, var_1, var_4 ) )
            {
                var_2 = 1;
                break;
            }
        }
    }
    else
    {
        foreach ( var_4 in level.activewpinnerzones )
        {
            if ( wp_isinwpzone( var_0, var_1, var_4 ) )
            {
                var_2 = 1;
                break;
            }
        }
    }

    return var_2;
}

wp_isinwpzone( var_0, var_1, var_2 )
{
    var_3 = 0;
    var_4 = undefined;

    if ( var_0 == "_encstr_BE72069FCF8ACAA8" )
        var_4 = var_2.playersindisorientradius;
    else
        var_4 = var_2.playersininnerradius;

    if ( isdefined( var_4 ) )
    {
        foreach ( var_6 in var_4 )
        {
            if ( var_6 == var_1 )
            {
                var_3 = 1;
                break;
            }
        }
    }

    return var_3;
}

wp_addplayertostatusradiuslist( var_0, var_1 )
{
    if ( var_0 == "_encstr_BE72069FCF8ACAA8" )
        self.playersindisorientradius[self.playersindisorientradius.size] = var_1;
    else
        self.playersininnerradius[self.playersininnerradius.size] = var_1;
}

wp_removeplayerfromstatusradiuslist( var_0, var_1 )
{
    if ( var_0 == "_encstr_BE72069FCF8ACAA8" )
    {
        var_2 = [];

        foreach ( var_4 in self.playersindisorientradius )
        {
            if ( var_4 == var_1 )
                continue;

            var_2[var_2.size] = var_4;
        }

        self.playersindisorientradius = var_2;
    }
    else
    {
        var_2 = [];

        foreach ( var_4 in self.playersininnerradius )
        {
            if ( var_4 == var_1 )
                continue;

            var_2[var_2.size] = var_4;
        }

        self.playersininnerradius = var_2;
    }
}

wp_removeplayerfromallstatusradiuslists( var_0, var_1 )
{
    if ( var_0 == "_encstr_BE72069FCF8ACAA8" )
    {
        foreach ( var_3 in level.activewpzones )
        {
            if ( wp_isinwpzone( var_0, var_1, var_3 ) )
                var_3 wp_removeplayerfromstatusradiuslist( var_0, var_1 );
        }
    }
    else
    {
        foreach ( var_3 in level.activewpinnerzones )
        {
            if ( wp_isinwpzone( var_0, var_1, var_3 ) )
                var_3 wp_removeplayerfromstatusradiuslist( var_0, var_1 );
        }
    }
}

wp_startdisorientplayeronspawn( var_0 )
{
    var_0 endon( "_encstr_A3750609A5E61883" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );

    for (;;)
    {
        self waittill( "_encstr_9B6F0FDC8316DDE62B8CF507C616CB599C" );
        scripts\cp_mp\hostmigration::hostmigration_waitlongdurationwithpause( 0.1 );
        var_0 wp_addplayertostatusradiuslist( "_encstr_BE72069FCF8ACAA8", self );
        thread wp_startdisorientplayer( var_0 );
    }
}

wp_startdisorientplayer( var_0 )
{
    var_0 endon( "_encstr_A3750609A5E61883" );
    self endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    self endon( "_encstr_B76B0F9BD1F6E0F546A59BDB9C4BCA9B3A" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self.wpdisorient = 1;

    while ( isdefined( self.sessionstate ) && self.sessionstate != "_encstr_8F7508BB18675378EBC7" )
        waitframe();

    thread wp_stopdisorientonplayerdeath( var_0 );
    thread wp_monitorsmokevisionset( var_0 );
    playfxontagforclients( scripts\engine\utility::getfx( "_encstr_972918DBD2A9BBEB7FFB13C0D3FB539FDEAD47EF5BC7D3D3D095" ), self, "_encstr_A93008E0529FF7E1B73D", self );

    if ( level.teambased && self.team == var_0.team || self == var_0.owner )
    {
        var_1 = 1;

        if ( istrue( var_1 ) )
            return;
    }

    self.wphealthblock = 1;

    if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_B40D05E05627D6", "_encstr_97110992604D08F77BC0B4" ) )
        self [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_B40D05E05627D6", "_encstr_97110992604D08F77BC0B4" ) ]]( "_encstr_9CD01D8E2A62F72D4993B8D877627837EA14109BC79AA1EB3847B0206FBD70" );

    if ( self.health > 10 )
    {
        var_3 = wp_gethealthdebuffamount();
        wp_degenhealth( var_3, var_0 );
    }

    if ( !wp_hasresistperk() )
        enableloopingcoughaudio();
}

wp_degenhealth( var_0, var_1 )
{
    if ( istrue( self.gasmaskequipped ) )
        return;

    if ( !isdefined( self.wphealthblock ) )
    {
        self.wphealthblock = 1;

        if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_B40D05E05627D6", "_encstr_97110992604D08F77BC0B4" ) )
            self [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_B40D05E05627D6", "_encstr_97110992604D08F77BC0B4" ) ]]( "_encstr_9CD01D8E2A62F72D4993B8D877627837EA14109BC79AA1EB3847B0206FBD70" );
    }

    self dodamage( var_0, self.origin, var_1.owner, var_1, "_encstr_A45C0E4B9FDF3165A3B93C4491BFA4A9", "_encstr_9EDB195BB8D8784731B31367338BC37F23EDCBE9674807CA777DF3" );
}

wp_startdofshiftforplayer( var_0 )
{
    var_0 endon( "_encstr_A3750609A5E61883" );
    self endon( "_encstr_A3750609A5E61883" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );

    while ( istrue( self.wpdisorient ) )
        wait( randomfloatrange( 1, 3 ) );
}

wp_stopdisorientonplayerdeath( var_0 )
{
    var_0 endon( "_encstr_A3750609A5E61883" );
    self endon( "_encstr_B76B0F9BD1F6E0F546A59BDB9C4BCA9B3A" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self waittill( "_encstr_A3750609A5E61883" );
    wp_stopdisorientplayer( var_0, 1 );
}

wp_stopdisorientplayer( var_0, var_1 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );

    if ( istrue( var_1 ) )
        level wp_removeplayerfromallstatusradiuslists( "_encstr_BE72069FCF8ACAA8", self );
    else
        var_0 wp_removeplayerfromstatusradiuslist( "_encstr_BE72069FCF8ACAA8", self );

    if ( !wp_isinanywpzone( "_encstr_BE72069FCF8ACAA8", self ) || istrue( var_1 ) )
    {
        if ( istrue( self.wpdisorient ) )
        {
            self.wpdisorient = undefined;

            if ( scripts\cp_mp\utility\player_utility::_isalive() )
                scripts\mp\utility\player::_id_12CC5( 2 );

            stopfxontagforclients( scripts\engine\utility::getfx( "_encstr_972918DBD2A9BBEB7FFB13C0D3FB539FDEAD47EF5BC7D3D3D095" ), self, "_encstr_A93008E0529FF7E1B73D", self );

            if ( istrue( self.wphealthblock ) )
            {
                if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_B40D05E05627D6", "_encstr_B1D80BAB48C8070BBB5F271A3A" ) )
                    self [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_B40D05E05627D6", "_encstr_B1D80BAB48C8070BBB5F271A3A" ) ]]( "_encstr_9CD01D8E2A62F72D4993B8D877627837EA14109BC79AA1EB3847B0206FBD70" );

                self.wphealthblock = undefined;
            }

            disableloopingcoughaudio();
            self notify( "_encstr_B76B0F9BD1F6E0F546A59BDB9C4BCA9B3A" );
        }
    }
}

wp_startburnplayer( var_0, var_1 )
{
    var_0 endon( "_encstr_A3750609A5E61883" );
    self endon( "_encstr_B6BD0D7B6D57C917478861FEFBB076" );
    self endon( "_encstr_A3750609A5E61883" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );

    if ( level.teambased && self.team == var_0.team && self != var_0.owner )
    {
        var_2 = 1;

        if ( istrue( var_2 ) )
            return;
    }

    var_0 wp_addplayertostatusradiuslist( "_encstr_B98F06F35018B74A", self );
    self.wpburning = 1;

    if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_AF01087B20CB1ABF304E", "_encstr_9C870D56CD58131B2B095D39378CC2" ) )
        self [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_AF01087B20CB1ABF304E", "_encstr_9C870D56CD58131B2B095D39378CC2" ) ]]( undefined, "_encstr_A28F0A2FA0A75ECFFB3AEE0A" );

    if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_B8BE07320B5B16ECAC", "_encstr_81C81798F3D9B56823C2C797DB70C030F371D220E519BDD0E6" ) )
        [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_B8BE07320B5B16ECAC", "_encstr_81C81798F3D9B56823C2C797DB70C030F371D220E519BDD0E6" ) ]]( "_encstr_804B19E3D043931F6E47101FDE53F39DDD802BF9E8034A7B80A0E7", ::wp_playcorpsetableburningfx );

    thread wp_stopstatuseffectondeath( var_0 );
    var_4 = 10;

    for (;;)
    {
        if ( self.health <= var_4 )
            self notify( "_encstr_8A1A0B3FE35881CFCD45D203CB" );

        self dodamage( var_4, self.origin, var_1, var_0, "_encstr_AD0D0935D0FD0FFFFBF108", var_0.weapon_name );
        wait 0.5;
        var_4++;

        if ( var_4 >= 20 )
            var_4 = 20;

        self.lastburntime = gettime();
    }
}

wp_stopburnplayer( var_0 )
{
    var_0 wp_removeplayerfromstatusradiuslist( "_encstr_B98F06F35018B74A", self );

    if ( !wp_isinanywpzone( "_encstr_B98F06F35018B74A", self ) )
    {
        wp_resetstatuseffect();
        self notify( "_encstr_B6BD0D7B6D57C917478861FEFBB076" );
    }
}

wp_startblindplayer( var_0 )
{
    if ( level.teambased && self.team == var_0.team || self == var_0.owner )
    {
        var_1 = 1;

        if ( istrue( var_1 ) )
            return;
    }

    var_0 wp_addplayertostatusradiuslist( "_encstr_B98F06F35018B74A", self );
    self.wpblinding = 1;
    thread wp_stopstatuseffectondeath( var_0 );
    self visionsetnakedforplayer( "_encstr_8CA009D337AF727431B0BF", 1 );
}

wp_stopblindplayer( var_0 )
{
    var_0 wp_removeplayerfromstatusradiuslist( "_encstr_B98F06F35018B74A", self );

    if ( !wp_isinanywpzone( "_encstr_B98F06F35018B74A", self ) )
        wp_resetstatuseffect();
}

wp_stopstatuseffectondeath( var_0 )
{
    var_0 endon( "_encstr_A3750609A5E61883" );
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self waittill( "_encstr_A3750609A5E61883" );
    wp_resetstatuseffect( 1 );
}

wp_resetstatuseffect( var_0 )
{
    if ( istrue( self.wpburning ) )
    {
        if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_AF01087B20CB1ABF304E", "_encstr_B97F0E8F6BEB5BF6A0884B03E8503D58" ) )
            self [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_AF01087B20CB1ABF304E", "_encstr_B97F0E8F6BEB5BF6A0884B03E8503D58" ) ]]( undefined, "_encstr_A28F0A2FA0A75ECFFB3AEE0A" );

        if ( scripts\cp_mp\utility\player_utility::_isalive() )
        {
            if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_B8BE07320B5B16ECAC", "_encstr_BDCF17411F9B35B8EDC7CD402AB05065A377C5C9B750FD2813" ) )
                self [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_B8BE07320B5B16ECAC", "_encstr_BDCF17411F9B35B8EDC7CD402AB05065A377C5C9B750FD2813" ) ]]( "_encstr_804B19E3D043931F6E47101FDE53F39DDD802BF9E8034A7B80A0E7" );
        }

        self.wpburning = undefined;
    }

    if ( istrue( self.wpblinding ) )
    {
        self.wpblinding = undefined;

        if ( wp_isinanywpzone( "_encstr_BE72069FCF8ACAA8", self ) )
            self visionsetnakedforplayer( wp_getsmokevisionset(), 1 );
        else
            scripts\mp\utility\player::_id_12CC5( 1 );
    }

    if ( istrue( var_0 ) )
        level wp_removeplayerfromallstatusradiuslists( "_encstr_B98F06F35018B74A", self );
}

wp_removeplane( var_0 )
{
    if ( isdefined( var_0.minimapid ) )
    {
        if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_A47205E8C28D13", "_encstr_AB771293936D032238ACA6AC81386C9AC43BC7C3" ) )
            [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_A47205E8C28D13", "_encstr_AB771293936D032238ACA6AC81386C9AC43BC7C3" ) ]]( var_0.minimapid );

        var_0.minimapid = undefined;
    }

    var_0 delete();
}

wp_getsmokevisionset()
{
    var_0 = "_encstr_8CCD099BEB0F536B28D778";
    var_1 = "_encstr_9D270F53A29F58713A7F135F53624C486C";
    var_2 = var_0;

    if ( scripts\cp_mp\utility\game_utility::isnightmap() || scripts\cp_mp\utility\game_utility::update_operator_west_char_loc() )
        var_2 = var_1;

    return var_2;
}

wp_monitorsmokevisionset( var_0 )
{
    var_0 endon( "_encstr_A3750609A5E61883" );
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    self endon( "_encstr_B76B0F9BD1F6E0F546A59BDB9C4BCA9B3A" );
    self endon( "_encstr_A3750609A5E61883" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    var_1 = undefined;

    for (;;)
    {
        if ( istrue( self.wpdisorient ) )
        {
            var_2 = wp_getsmokevisionset();

            if ( !isdefined( var_1 ) || var_2 != var_1 )
            {
                var_1 = var_2;
                self visionsetnakedforplayer( var_2, 2 );
            }
        }

        waitframe();
    }
}

wp_gethealthdebuffamount()
{
    var_0 = 50;

    if ( wp_hasresistperk() )
        var_0 = var_0 * 0.5;

    var_1 = self.health;
    var_2 = var_1 - var_0;

    if ( var_2 < 10 )
        var_0 = var_0 - ( 10 - var_2 );

    return var_0;
}

wp_playcorpsetableburningfx( var_0 )
{
    var_0 setscriptablepartstate( "_encstr_A3F30B9F132F315B6E3D78F249", "_encstr_AB3908ADD3725E40256A", 0 );
}

wp_hasresistperk()
{
    return isdefined( self.perks ) && isdefined( self.perks["_encstr_A32215B98395D8B41663A397EB1DB0C6D74EACE6D29B47"] );
}

enableloopingcoughaudio()
{
    if ( !isdefined( self.loopingcoughaudio ) )
        self.loopingcoughaudio = 0;

    self.loopingcoughaudio++;

    if ( self.loopingcoughaudio == 1 )
        thread startloopingcoughaudio();
}

disableloopingcoughaudio()
{
    if ( !isdefined( self.loopingcoughaudio ) )
        return;

    self.loopingcoughaudio--;

    if ( self.loopingcoughaudio == 0 )
    {
        thread stoploopingcoughaudio();
        self.loopingcoughaudio = undefined;
    }
}

startloopingcoughaudio()
{
    self endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    self endon( "_encstr_AD90173E69DAB1DE59FD60F373807AEB7833AAB9E7CB881A90" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );

    for (;;)
    {
        var_0 = randomfloatrange( 4, 7 );

        if ( !loopingcoughaudioissupressed() && isdefined( self.operatorcustomization ) )
        {
            var_1 = "_encstr_BA1818D7837012327059F9FEF0B86F7A4087AF576D2D5A01996B";

            if ( self.team == "_encstr_BC850785638DA59537" )
            {
                if ( isdefined( self.operatorcustomization.gender ) && self.operatorcustomization.gender == "_encstr_BD290799CAB585B156" )
                {
                    var_2 = game["_encstr_BD510932D2B0B1BDB3BA95"]["_encstr_9FE414182370CABBBBA01285D0AFFB9B179AA2338CC0"].size;
                    var_3 = randomint( var_2 );
                    var_1 = game["_encstr_BD510932D2B0B1BDB3BA95"]["_encstr_9FE414182370CABBBBA01285D0AFFB9B179AA2338CC0"][var_3];
                }
                else
                {
                    var_2 = game["_encstr_BD510932D2B0B1BDB3BA95"]["_encstr_9E6012C971C8F4270E5612DA586D972E78FB4758"].size;
                    var_3 = randomint( var_2 );
                    var_1 = game["_encstr_BD510932D2B0B1BDB3BA95"]["_encstr_9E6012C971C8F4270E5612DA586D972E78FB4758"][var_3];
                }
            }
            else if ( isdefined( self.operatorcustomization.gender ) && self.operatorcustomization.gender == "_encstr_BD290799CAB585B156" )
            {
                var_2 = game["_encstr_BD510932D2B0B1BDB3BA95"]["_encstr_89821226AB377E8F745AF5428915B8B2104F9830"].size;
                var_3 = randomint( var_2 );
                var_1 = game["_encstr_BD510932D2B0B1BDB3BA95"]["_encstr_89821226AB377E8F745AF5428915B8B2104F9830"][var_3];
            }
            else
            {
                var_2 = game["_encstr_BD510932D2B0B1BDB3BA95"]["_encstr_B8A11082504352F728CF1415C831EF1BF768"].size;
                var_3 = randomint( var_2 );
                var_1 = game["_encstr_BD510932D2B0B1BDB3BA95"]["_encstr_B8A11082504352F728CF1415C831EF1BF768"][var_3];
            }

            if ( !isai( self ) )
                self playsoundtoplayer( "_encstr_B91F11D9C26EEB07D8585ECAE4FAB1B757760D", self, self );

            if ( istrue( self.loopingcoughaudio ) )
                self playsoundonmovingent( var_1 );
        }

        wait( var_0 );
    }
}

stoploopingcoughaudio()
{
    self notify( "_encstr_AD90173E69DAB1DE59FD60F373807AEB7833AAB9E7CB881A90" );
}

enableloopingcoughaudiosupression()
{
    if ( !isdefined( self.loopingcoughaudiosupression ) )
        self.loopingcoughaudiosupression = 0;

    self.loopingcoughaudiosupression++;
}

disableloopingcoughaudiosupression()
{
    if ( !isdefined( self.loopingcoughaudiosupression ) )
        return;

    self.loopingcoughaudiosupression--;
}

loopingcoughaudioissupressed()
{
    return isdefined( self.loopingcoughaudiosupression ) && self.loopingcoughaudiosupression > 0;
}

clearloopingcoughaudio()
{
    self notify( "_encstr_AD90173E69DAB1DE59FD60F373807AEB7833AAB9E7CB881A90" );
    self.loopingcoughaudio = undefined;
    self.loopingcoughaudiosupression = undefined;
}

_id_145E5( var_0 )
{
    var_0 setscriptablepartstate( "_encstr_9B8A0E1AE1CFC3E1C9762FF5DDC1E5E8", "_encstr_9707035F3B", 0 );
    waitframe();
    var_0 setscriptablepartstate( "_encstr_9B8A0E1AE1CFC3E1C9762FF5DDC1E5E8", "_encstr_9819045FD029", 0 );
}
