// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

activate_laser_trap_parent()
{

}

init()
{
    thread_endon_death();
    var_0 = spawnstruct();
    var_0.weight = getdvarfloat( "_encstr_B15920B812BA9723A7670EF03E8F0BCF627AD0D8FB1927BB8F5485E01F17B077CCB3", 1.0 );
    var_0.attackerswaittime = ::attackerswaittime;
    var_0._id_140CF = ::_id_140CF;
    var_0._id_14382 = ::_id_14382;
    var_0._id_11B78 = getdvarint( "_encstr_BA9D238E5BF3D6A11FB9402082339F6E53CF1B88A49F99ED46736099AACE41263B6191F51B", 1 );
    var_0.guard_door_clip = _encstr_AABE29576EC6B050735F77CF1048B717235F431361220B27536397F30F76A840C21F1B3D9DAC0336276B5E::relic_squadlink_init_vfx( "_encstr_957B0A886F934BCA0F8022FB", "_encstr_82C120133A183A2F17CA1119A26E6782A096A9B9C6D0F2171EF20921FA97BFCAC80A" );
    _encstr_AABE29576EC6B050735F77CF1048B717235F431361220B27536397F30F76A840C21F1B3D9DAC0336276B5E::_id_12B35( 102, var_0 );
    subtract_from_spawn_count_from_group();
}

subtract_from_spawn_count_from_group()
{
    game["_encstr_B8DA073D799798C7C7"]["_encstr_B8741BF8D525754BFF2F6FB19B81898F9B56097D9877F70B106E3D0DD9"] = "_encstr_B8741BF8D525754BFF2F6FB19B81898F9B56097D9877F70B106E3D0DD9";
}

thread_endon_death()
{
    if ( !isdefined( level.current_safehouse_spawn_structs ) )
        level.current_safehouse_spawn_structs = spawnstruct();

    level.current_safehouse_spawn_structs.spectatenumber = getdvarint( "_encstr_94B52F070FFE31B0905E367D5038FB8957BFF7FBD9B03A8AE843EF49A81833C2A12B632727CC424278C8254F86E0713A0D", 20 );
    level.current_safehouse_spawn_structs.parachute_spawn = getdvarint( "_encstr_B84629936E93A7CA1B31E24AC04342EF8BC001367DDEAF923B409A419B617DCF433BAFB415C3EF5BF38032", 3.0 );
    level.current_safehouse_spawn_structs.specialistbr = getdvarint( "_encstr_815525378DE4BEE095BE26ED37BAB9FA07ED4BDC8EF5C6E4588E59FA91277B38DCF547DEE82C1B", 6 );
    level.current_safehouse_spawn_structs.specialdayloadouts = getdvarint( "_encstr_94A525477EA36EE0AB010D30F2AF3F57E9386382B3AFBB3306340507CFC59FF8E0C7B078DEA82B", 3 );
    level.current_safehouse_spawn_structs.spectateprop = getdvarint( "_encstr_B4DE20FB339A273BC7868B6F7B90FB6B6797D9AB805BC311232DEE6939B85373BA99", 10 );
    level.current_safehouse_spawn_structs.parachutecancutautodeploy = getdvarfloat( "_encstr_A16121E636E4BE0756AF23B23616F2EB13AC3ABB955937D7D89C2CE8B2FA32C9DE07CD", 30.0 );
    level.current_safehouse_spawn_structs.spectatableprops = getdvarint( "_encstr_B99224DC8DC9BE1C95EB32BD9DD10B9DB97D2CD86CB283A3F591DED54C8DCA7D07DE4BB93AB9", 0 );
    level.current_safehouse_spawn_structs.spawnzombiedogtags = getdvarfloat( "_encstr_A32726371BE47D1CACAF89EDCDAE9BFA1C7B4BB947EB36E40BA3CAF5D8C2E03AD54EACBE8ED2ADCA", 5.0 );
}

_id_140CF()
{
    return 0;
}

_id_14382()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    level endon( "_encstr_894314512A8386183577C1F3721DB05E9F820B194243" );
    var_0 = forest_combat();
    wait( var_0 );
}

forest_combat()
{
    var_0 = getdvarfloat( "_encstr_947227E6C627FA0759AF98ED37AE9BF51CB7B437A3EBB14E163AB2EBCDD116E43AD196B659EBB5D2CD", 795 );
    var_1 = getdvarfloat( "_encstr_A3722727A322418F2759E970725FC6897A379BE55CC118D65F83017E4BB3F7B81384036BF5B92097E3", 1110 );

    if ( var_1 > var_0 )
        return randomfloatrange( var_0, var_1 );
    else
        return var_0;
}

attackerswaittime()
{
    level thread _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::brleaderdialog( "_encstr_B8741BF8D525754BFF2F6FB19B81898F9B56097D9877F70B106E3D0DD9", 0 );
    _id_12293();
}

_id_12AEE( var_0 )
{
    if ( !isdefined( self.arena_bot_pickup_weapon ) )
        self.arena_bot_pickup_weapon = [];

    self.arena_bot_pickup_weapon[self.arena_bot_pickup_weapon.size] = var_0;
}

_id_12293()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    _id_12291();
    level thread _id_12290( level.current_safehouse_spawn_structs.specialdayloadouts );

    if ( getdvarint( "_encstr_9741219B6C4EFA4ED5DAC41B2BFACDDAD2C1AF95D9B2B9D17DDD855A1DFA472DB5956E", 0 ) == 0 )
    {
        _utilflare_lerpflare::_id_12424( "_encstr_9E6029CA4D51326701F1029A3EE77F2110CF4E45A7A97AC73B68FB21813EA723709FC7D105E0C5F7D340C2" );
        wait( level.current_safehouse_spawn_structs.spectatenumber );
    }

    _utilflare_lerpflare::_id_12424( "_encstr_9B6D279893F5C9576B4CC656F5072BD798ED73AECDAFE07B969B3AD76C270BE8B29BAFF637369673B2" );
    wait( level.current_safehouse_spawn_structs.parachute_spawn );
    level thread _id_12292();
}

_id_12291()
{
    level.current_safehouse_spawn_structs._id_12E29 = spawnstruct();
    level.current_safehouse_spawn_structs._id_12E29.aq_ontimerupdate = [];
    level.current_safehouse_spawn_structs._id_12E29.are_all_alive_players_touching_plane = [];

    if ( !isdefined( level.current_safehouse_spawn_structs._id_12E2C.arena_bot_pickup_weapon ) )
    {
        var_0 = ( 0, 0, 0 );

        if ( isdefined( level.current_safehouse_spawn_structs._id_12E2C.ground_detection_think ) )
            var_0 = level.current_safehouse_spawn_structs._id_12E2C.ground_detection_think;

        level.current_safehouse_spawn_structs._id_12E2C.arena_bot_pickup_weapon = [ var_0 + ( 0, 0, 0 ), var_0 + ( 1500, 1500, 0 ), var_0 + ( 1500, -1500, 0 ), var_0 + ( -1500, 1500, 0 ), var_0 + ( -1500, -1500, 0 ), var_0 + ( 3000, 3000, 0 ), var_0 + ( 3000, -3000, 0 ), var_0 + ( -3000, 3000, 0 ), var_0 + ( -3000, -3000, 0 ) ];
    }

    level.current_safehouse_spawn_structs._id_12E2C.arena_bot_pickup_weapon = scripts\engine\utility::array_randomize( level.current_safehouse_spawn_structs._id_12E2C.arena_bot_pickup_weapon );
    var_1 = scripts\cp_mp\killstreaks\airdrop::getleveldata( "_encstr_95D21663E046D24265051A19EF3F7A968B885FBFD0791C2A" );
    var_1.capturestring = &"_encstr_A6491EA467579725FBF8FE9CEF563198881560516A258F6326CF7FDF0B3FDACF";
    var_1.dummymodel = "_encstr_B794256F0BE142A4C08BE061C1A8EADA47B3EFFF839C4A5772FB1136DB810C1294C3535B6BBEF3";
    var_1.friendlymodel = undefined;
    var_1.enemymodel = undefined;
    var_1.mountmantlemodel = undefined;
    var_1.supportsownercapture = 0;
    var_1.headicon = undefined;
    var_1.minimapicon = undefined;
    var_1.usepriority = -1;
    var_1.usefov = 180;
    var_1.timeout = undefined;
    var_1.friendlyuseonly = 0;
    var_1.ownerusetime = level.current_safehouse_spawn_structs.spawnzombiedogtags;
    var_1.otherusetime = level.current_safehouse_spawn_structs.spawnzombiedogtags;
    var_1.activatecallback = ::_id_1228A;
    var_1.capturecallback = ::_id_1228B;
    var_1.destroyoncapture = 1;
}

_id_12292()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    var_0 = level.current_safehouse_spawn_structs.specialdayloadouts;
    var_1 = level.current_safehouse_spawn_structs.specialistbr - var_0;
    _id_12294( var_0 );

    if ( level.current_safehouse_spawn_structs.parachutecancutautodeploy > level.current_safehouse_spawn_structs.spectatenumber )
        wait( level.current_safehouse_spawn_structs.parachutecancutautodeploy - level.current_safehouse_spawn_structs.spectatenumber );

    level thread _id_12290( var_1, var_0 );
    wait( level.current_safehouse_spawn_structs.spectatenumber );
    _utilflare_lerpflare::_id_12424( "_encstr_9B6D279893F5C9576B4CC656F5072BD798ED73AECDAFE07B969B3AD76C270BE8B29BAFF637369673B2" );
    wait( level.current_safehouse_spawn_structs.parachute_spawn );
    _id_12294( var_1, var_0 );
}

_id_12294( var_0, var_1 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );

    if ( !isdefined( var_1 ) )
        var_1 = 0;

    for ( var_2 = 0; var_2 < var_0; var_2++ )
    {
        var_3 = level.current_safehouse_spawn_structs._id_12E2C.arena_bot_pickup_weapon[var_2 + var_1];
        var_3 = var_3 + ( 0, 0, 2000 );
        var_4 = scripts\cp_mp\killstreaks\airdrop::dropcrate( undefined, undefined, "_encstr_95D21663E046D24265051A19EF3F7A968B885FBFD0791C2A", var_3, ( 0, randomint( 360 ), 0 ) );
        level.current_safehouse_spawn_structs._id_12E29.aq_ontimerupdate[level.current_safehouse_spawn_structs._id_12E29.aq_ontimerupdate.size] = var_4;
        var_4 thread _id_1228D();
        var_4 thread _id_1228E();
        wait 2.5;
    }
}

_id_1228D()
{
    var_0 = scripts\engine\utility::drop_to_ground( self.origin, 50, -3000, ( 0, 0, 1 ) );
    self.molotov_delete_oldest_trigger = spawn( "_encstr_93DC0DCD1B272D3847AF5BED23B2C6", var_0 + ( 0, 0, 3 ) );
    self.molotov_delete_oldest_trigger setmodel( "_encstr_87D412DBF00D312F7060BBAD105963C74D883232" );
    wait 1.0;
    self.molotov_delete_oldest_trigger setscriptablepartstate( "_encstr_BE72069FCF8ACAA8", "_encstr_9707035F3B" );
    self.molotov_delete_oldest_trigger setscriptablepartstate( "_encstr_A68B1CD00B9FF3536236912D41AA5FB81D97B1B89771C819299E15A52492", "_encstr_AA4A0A6E8D220761970F8870" );
}

_id_1228E()
{
    var_0 = scripts\engine\utility::ter_op( level.current_safehouse_spawn_structs.spectateprop == 10, "_encstr_BE261095EFB2EDC03F7A8058E5FC0830BF7A", "_encstr_9B2C0DBA6018071277404A22D8494A" );

    if ( isdefined( level.current_safehouse_spawn_structs.specialistperk ) )
        var_0 = level.current_safehouse_spawn_structs.specialistperk;

    self setscriptablepartstate( "_encstr_BC2B0A075628F786B1182B12", var_0 );
}

_id_12290( var_0, var_1 )
{
    if ( !isdefined( var_1 ) )
        var_1 = 0;

    for ( var_2 = 0; var_2 < var_0; var_2++ )
    {
        if ( !isdefined( level.current_safehouse_spawn_structs._id_12E2C.arena_bot_pickup_weapon[var_2 + var_1] ) )
            return;

        level thread _id_1228F( var_2 + var_1 );
        wait 2.0;
    }
}

_id_1228F( var_0 )
{
    var_1 = level.current_safehouse_spawn_structs._id_12E2C.arena_bot_pickup_weapon[var_0];
    _encstr_A83527375FF36358943A0858E22728AFFAAFA1ABAB2A36DADA520ED34B55D05D71772933B3C6F4F0F3::_id_140B1( var_1, "_encstr_9318045AFDDD" );
}

_id_1228A( var_0 )
{
    if ( istrue( var_0 ) )
    {
        if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "_encstr_9867080A50FD0FDBE03F", "_encstr_B268189C59764BDC3A5939A14EC23A56197B93A1C656B037BA38" ) )
            [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "_encstr_9867080A50FD0FDBE03F", "_encstr_B268189C59764BDC3A5939A14EC23A56197B93A1C656B037BA38" ) ]]( self );
    }
}

_id_1228B( var_0 )
{
    level.current_safehouse_spawn_structs._id_12E29.aq_ontimerupdate = scripts\engine\utility::array_remove( level.current_safehouse_spawn_structs._id_12E29.aq_ontimerupdate, self );
    self setscriptablepartstate( "_encstr_9FC6113A658FF9A7070350B0C9DE9B71E717B0", "_encstr_9819045FD029" );
    self setscriptablepartstate( "_encstr_B8D413267B73D5DC7D38ED969BE837FA58AE235ADB", "_encstr_B9CB0995C3078DFA6E33C3" );
    level thread _id_1228C( var_0.team );
    self notify( "_encstr_9CCF09866E33D9835AB738" );
    playfx( scripts\engine\utility::getfx( "_encstr_98722094372B1749CF2BB0A03B27E0BFA25B989508032930BB17E0F01736B8DBDB87" ), self.origin );
    var_1 = randomintrange( 3, 5 );
    level thread _handlevehiclerepair::_id_13673( "_encstr_BD511331DE37D5CDAF38BD4BCD8EDC7DD827858EAC", self.origin, var_1, 0 );
    level scripts\mp\gamescore::giveteamscoreforobjective( var_0.pers["_encstr_89EF05D46BA8FD"], level.current_safehouse_spawn_structs.spectateprop, 0 );

    if ( isdefined( self.objectiveiconid ) )
        objective_delete( self.objectiveiconid );

    playfx( level.conf_fx["_encstr_AAE007D90BB9A5E61A"], self.molotov_delete_oldest_trigger.origin );
    self.molotov_delete_oldest_trigger delete();
}

_id_1228C( var_0 )
{
    foreach ( var_2 in level.players )
    {
        if ( isdefined( var_2 ) && isdefined( var_2.team ) && var_2.team == var_0 )
            var_2 thread scripts\mp\hud_message::showsplash( "_encstr_9BC02D3127D7395D6B2663B2BEC159F54CB7DCD5CDAFC1DB2DB9A3EB3693C2A395FA8D85C11D57935619EBC2C636E5" );
    }
}
