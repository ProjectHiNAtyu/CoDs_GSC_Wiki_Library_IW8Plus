// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

getanimselectorfilenames()
{
    var_0 = [];

    if ( scripts\common\utility::iscp() )
    {
        var_0["_encstr_BC9A11EBA8113612ADF60F89DCB35BF87E0873"] = [ [ 0, "_encstr_9F0F3016DC2DB59BAC8D5636A3BD9C1D85981BCA375EB9ED1B46D25627AF3A9CC29D2B4E9BB2EBBBC2C9C1D7BAC1E2B1CDB3" ], [ 1, "_encstr_AD6F3183FBD2F1D0354DF109731710B58A236103171E4E585E64D840DECE41EDD397DD9BBBA30521777E037B49BD70087AB745" ], [ 2, "_encstr_891C2F859BD2B69B59D8B28DE8B7391DB026B195DCF298B7ADC459C9BE4739589D592737CABEDD85E407AFEA388BB137CE" ] ];
        var_0["_encstr_9BBA13F9DB022C3052FA81DEE329C06799EB577713"] = [ [ 0, "_encstr_95AB3227F63F3047FF6A98A083153D6B776239AD43FE3BB765D2E0E8FB21F963CF1E359EBB7FE6DF0E5B2031B2C5A7B81AB34614" ], [ 1, "_encstr_875533705B9825863F3DD5F95BB0DD2546CDA5E3A3C087ECFB94B31FDE28E09562400375DAFF8BB75722CAA3BEF2A88F15B0F8E383" ], [ 2, "_encstr_9B4331A013C10847CA8D3D3663828DD331CB5008DF2FA10712362546B10BD5398E4F289BEF07DBD3CBDA304595532508C3BFF0" ] ];
        var_0["_encstr_B2E5132C7BC914B805F31B303F9ACED330C068BD73"] = [ [ 0, "_encstr_8A0335DB0B084D524D8A4713719245846793A135ABBE7F07DD45E83F880E831D4933CF5AF760EE63163E31A73D9C6D73BFA1E3B5BED3E8" ], [ 1, "_encstr_B20F3303AEE4D00E276A09F1D33746D03E3A91F35BDD185B035220B86ADBE88892913D7BE2B26088DFCAFB83918734C82AA69FCF8E" ], [ 2, "_encstr_97B0314FB8E0BDE313E9BF36CDDF2B6C0920F3C7F890EA6A6BF6876AA0C16301B3B07317D0F637726D9701251C9B5B86B998EB" ] ];
        var_0["_encstr_97A015A3C90BD9AC9C9BACAFBB163907FA0BD893F6DCDC"] = [ [ 0, "_encstr_A35737A04880599779192B5244A7E2238F46722DCBAAD77A59ABD9CDD640FB9B21A6ED1D639D0F0B1F0A6BB15FB98BA88FE309B35978DF6F96" ], [ 1, "_encstr_8B12359A3DF26D1AB258DDCF83F093811122CC4FABD791E91B1A9C6C6305F1539561DB38F58F60FE133E2042E772EBA8BA48620D6E4F5B" ], [ 2, "_encstr_AF2233F29033851779F9ADA38D406B8B4B68AA0AD067BEAF50D6B5CA300BA316DD38D3E3982FB3CF6BC787D136138FDA3FDA4A7BA8" ] ];
        var_0["_encstr_9EA717092BF2DCC0822A51EED379B017C9DFA981EFABA8B8A4"] = [ [ 0, "_encstr_9B9236235B72517095ED51691377B0152AC381A3B77E26C8A4C7D8A1BA1FF84E826B1B15DF62F8C0C15AE3FE6710300DCBA38BA112EAB6F0" ], [ 1, "_encstr_B29837B94D5C017FD7594D6FF09F8388C12ED9D18A1576F86C64A1EA6FD5F18C021FEB725BA85AB7FF410AE3085D58738D95C83959862143AC" ], [ 2, "_encstr_97EC351208901D36D7D09FD78D8D553BE2A919CBA2FD4BAFFB713B1ED09183C3ABF343D29D617B3972C3CE4F60891D53233B09123370FD" ] ];
    }
    else
    {
        var_0["_encstr_BC9A11EBA8113612ADF60F89DCB35BF87E0873"] = [ [ 0, "_encstr_9F0F3016DC2DB59BAC8D5636A3BD9C1D85981BCA375EB9ED1B46D25627AF3A9CC29D2B4E9BB2EBBBC2C9C1D7BAC1E2B1CDB3" ], [ 1, "_encstr_AD6F3183FBD2F1D0354DF109731710B58A236103171E4E585E64D840DECE41EDD397DD9BBBA30521777E037B49BD70087AB745" ] ];
        var_0["_encstr_9BBA13F9DB022C3052FA81DEE329C06799EB577713"] = [ [ 0, "_encstr_95AB3227F63F3047FF6A98A083153D6B776239AD43FE3BB765D2E0E8FB21F963CF1E359EBB7FE6DF0E5B2031B2C5A7B81AB34614" ], [ 1, "_encstr_875533705B9825863F3DD5F95BB0DD2546CDA5E3A3C087ECFB94B31FDE28E09562400375DAFF8BB75722CAA3BEF2A88F15B0F8E383" ] ];
        var_0["_encstr_B2E5132C7BC914B805F31B303F9ACED330C068BD73"] = [ [ 0, "_encstr_9F96322CDC96AD6E2BB1AC1BA3F639E82C268D59CDF237B78D32969593F5D14E0BD9959CCDACAFEE58E407FADBCE56398B8DB9EC" ], [ 1, "_encstr_B20F3303AEE4D00E276A09F1D33746D03E3A91F35BDD185B035220B86ADBE88892913D7BE2B26088DFCAFB83918734C82AA69FCF8E" ] ];
        var_0["_encstr_97A015A3C90BD9AC9C9BACAFBB163907FA0BD893F6DCDC"] = [ [ 0, "_encstr_87D734FA983BBD2F71E1B5AB855863835390B232C81FF2A788DDB1A59E66A3CAFBA8AAFB2053A18F013E90E73F09F3D507286662B81D" ], [ 1, "_encstr_8B12359A3DF26D1AB258DDCF83F093811122CC4FABD791E91B1A9C6C6305F1539561DB38F58F60FE133E2042E772EBA8BA48620D6E4F5B" ] ];
        var_0["_encstr_9EA717092BF2DCC0822A51EED379B017C9DFA981EFABA8B8A4"] = [ [ 0, "_encstr_9B9236235B72517095ED51691377B0152AC381A3B77E26C8A4C7D8A1BA1FF84E826B1B15DF62F8C0C15AE3FE6710300DCBA38BA112EAB6F0" ], [ 1, "_encstr_B29837B94D5C017FD7594D6FF09F8388C12ED9D18A1576F86C64A1EA6FD5F18C021FEB725BA85AB7FF410AE3085D58738D95C83959862143AC" ] ];
    }

    return var_0;
}

init()
{
    anim.animselectorfeaturetable = [];
    anim.animselectorfeaturetable["_encstr_B8980BAD13B0116B7DF8AA6263"] = [ "_encstr_A6F607C023346A40E0", 0 ];
    anim.animselectorfeaturetable["_encstr_B6590B21CE132F80ED274030BB"] = [ "_encstr_A6F607C023346A40E0", 1 ];
    anim.animselectorfeaturetable["_encstr_9434106BFAF5CF59B3F233B4F913464B9EA3"] = [ "_encstr_BC870C85934EA5D9161BF5CBC2EE", 0 ];
    anim.animselectorfeaturetable["_encstr_BC7B10932958B98FF3132DEB0AA3A830B697"] = [ "_encstr_BC870C85934EA5D9161BF5CBC2EE", 1 ];
    anim.animselectorfeaturetable["_encstr_89E90B2B57125898659DE19B04"] = [ "_encstr_A33F07D82B37B38E34", 0 ];
    anim.animselectorfeaturetable["_encstr_9EFF0BF01FE07E49DA1DCC4D74"] = [ "_encstr_A33F07D82B37B38E34", 1 ];
    anim.animselectorfeaturetable["_encstr_A32910D64BDC7D194EB7C1EB0DAC4B3B1AA3"] = [ "_encstr_B1890C464EDB83AF43ACD2B30DD1", 0 ];
    anim.animselectorfeaturetable["_encstr_87E510DAB087F58CC9EDC1F586B22DD9A147"] = [ "_encstr_B1890C464EDB83AF43ACD2B30DD1", 1 ];
    anim.animselectorfeaturetable["_encstr_BC760A98C8FD294B93B523BC"] = [ "_encstr_9F8A06F67ACF47CF", 0 ];
    anim.animselectorfeaturetable["_encstr_A6B20A0923A3710353D98A2B"] = [ "_encstr_9F8A06F67ACF47CF", 1 ];
    anim.animselector = [];
    var_0 = getanimselectorfilenames();

    foreach ( var_13, var_2 in var_0 )
    {
        foreach ( var_12, var_4 in var_2 )
        {
            anim.animselector[var_13][var_12] = spawnstruct();
            anim.animselector[var_13][var_12].aliases = [];
            anim.animselector[var_13][var_12].features = [];
            anim.animselector[var_13][var_12].values = [];
            var_5 = tablelookuprownum( var_4[1], 0, "_encstr_BECD0831486308B41E01" );
            var_5 = var_5 - 1;

            for ( var_6 = 0; var_6 < var_5; var_6++ )
            {
                var_7 = tablelookupbyrow( var_4[1], var_6 + 1, 0 );
                anim.animselector[var_13][var_12].aliases[var_6] = var_7;
            }

            var_8 = undefined;

            for ( var_6 = 0; var_6 < 50; var_6++ )
            {
                var_9 = tablelookupbyrow( var_4[1], 0, var_6 + 1 );

                if ( var_9 == "_encstr_BECD0831486308B41E01" || var_9 == "_encstr_A40101" )
                {
                    var_8 = var_6;
                    break;
                }
                else
                    anim.animselector[var_13][var_12].features[var_6] = var_9;
            }

            for ( var_6 = 0; var_6 < var_5; var_6++ )
            {
                for ( var_10 = 0; var_10 < var_8; var_10++ )
                {
                    var_7 = anim.animselector[var_13][var_12].aliases[var_6];
                    var_9 = anim.animselector[var_13][var_12].features[var_10];
                    var_11 = tablelookupbyrow( var_4[1], var_6 + 1, var_10 + 1 );

                    if ( var_11 == "_encstr_A40101" )
                        var_11 = undefined;
                    else
                        var_11 = float( var_11 );

                    anim.animselector[var_13][var_12].values[var_7][var_9] = var_11;
                }
            }
        }
    }
}

checkfeaturevalue( var_0, var_1, var_2 )
{
    var_3 = anim.animselectorfeaturetable[var_1][0];
    var_4 = anim.animselectorfeaturetable[var_1][1];
    var_5 = var_2[var_3];

    if ( !isdefined( var_5 ) )
        return 1;

    if ( var_4 == 0 )
        return var_5 >= var_0;
    else if ( var_4 == 1 )
        return var_5 <= var_0;
}

selectanim( var_0, var_1, var_2 )
{
    var_3 = anim.animselector[var_0][var_2];

    foreach ( var_5 in var_3.aliases )
    {
        if ( isai( self ) && !scripts\asm\asm::asm_hasalias( var_0, var_5 ) )
            continue;

        var_6 = 1;

        foreach ( var_8 in var_3.features )
        {
            var_9 = var_3.values[var_5][var_8];

            if ( isdefined( var_9 ) )
            {
                if ( !checkfeaturevalue( var_9, var_8, var_1 ) )
                {
                    var_6 = 0;
                    break;
                }
            }
        }

        if ( var_6 )
            return var_5;
    }
}

gettraverserindex()
{
    var_0 = scripts\asm\shared\utility::getbasearchetype();

    if ( isdefined( var_0 ) )
    {
        switch ( var_0 )
        {
            case "_encstr_97CD0E35BA76B3B293B9B0BA8E7DD807":
            case "_encstr_80180FCDDBD8462D2B39F5C1D2DCE8DB1B":
            case "_encstr_ADAC0F9348913BF4985D9FAE1BB0BE434D":
            case "_encstr_A4C106E1E87366B3":
            case "_encstr_8C660C597AFB97D83378612B274B":
            case "_encstr_B9F80B280FDC217BF202383E9A":
            case "_encstr_8AF306B339A60F85":
            case "_encstr_9E8C08F63FE3D98B0743":
            case "_encstr_AAFC0BA9AB3B9DCAC9DC2C571D":
                return 0;
            case "_encstr_B2CD10672005A8E51FF7CD37B5EB6393C4B1":
            case "_encstr_8FB40AE88814283D07273B6B":
            case "_encstr_82E8096C4B3BD28D5A0BCD":
                return 1;
            default:
                if ( isdefined( self.asm.archetype ) && self.asm.archetype == "_encstr_BE4111930B1327F49073A2A70BC8BF3B50611B" )
                    return 2;

                if ( isdefined( self.unittype ) && self.unittype == "_encstr_9E8C08F63FE3D98B0743" )
                    return 0;

                return -1;
        }
    }

    return -1;
}
