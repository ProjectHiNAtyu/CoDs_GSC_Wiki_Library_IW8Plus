// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

main()
{
    if ( getdvar( "_encstr_9E700851BEE33DF1B547" ) == "_encstr_8A510E519897A1332E4A3898E243F5B9" )
        return;

    scripts\mp\globallogic::init();
    scripts\mp\globallogic::setupcallbacks();
    var_0[0] = "_encstr_BD07030251";
    var_0[1] = "_encstr_889A09E530F7E918279537";
    var_0[2] = "_encstr_A85908F249E84E372DEB";
    scripts\mp\gameobjects::main( var_0 );

    if ( isusingmatchrulesdata() )
    {
        level.initializematchrules = ::initializematchrules;
        [[ level.initializematchrules ]]();
        level thread scripts\mp\utility\game::reinitializematchrulesonmigration();
    }
    else
    {
        scripts\mp\utility\game::registerroundswitchdvar( scripts\mp\utility\game::getgametype(), 3, 0, 12 );
        scripts\mp\utility\game::registertimelimitdvar( scripts\mp\utility\game::getgametype(), 150 );
        scripts\mp\utility\game::registerscorelimitdvar( scripts\mp\utility\game::getgametype(), 1 );
        scripts\mp\utility\game::registerroundlimitdvar( scripts\mp\utility\game::getgametype(), 0 );
        scripts\mp\utility\game::registerwinlimitdvar( scripts\mp\utility\game::getgametype(), 4 );
        scripts\mp\utility\game::registernumlivesdvar( scripts\mp\utility\game::getgametype(), 1 );
        scripts\mp\utility\game::registerhalftimedvar( scripts\mp\utility\game::getgametype(), 0 );
        scripts\mp\utility\game::registerwinbytwoenableddvar( scripts\mp\utility\game::getgametype(), 1 );
        scripts\mp\utility\game::registerwinbytwomaxroundsdvar( scripts\mp\utility\game::getgametype(), 4 );
        scripts\mp\utility\game::registerdogtagsenableddvar( scripts\mp\utility\game::getgametype(), 1 );
    }

    updategametypedvars();
    level.laststandrequiresmelee = getdvarint( "_encstr_B140148308D0218D69F3A3C83B72C36D083F29604005", 0 );
    level.objectivebased = 1;
    level.teambased = 1;
    level.nobuddyspawns = 1;
    level.onprecachegametype = ::onprecachegametype;
    level.onstartgametype = ::onstartgametype;
    level.getspawnpoint = ::getspawnpoint;
    level.modeonspawnplayer = ::onspawnplayer;
    level.onplayerkilled = ::onplayerkilled;
    level.ondeadevent = ::ondeadevent;
    level.ononeleftevent = ::ononeleftevent;
    level.ontimelimit = ::ontimelimit;
    level.onnormaldeath = ::onnormaldeath;
    level.gamemodemaydropweapon = scripts\mp\utility\game::isplayeroutsideofanybombsite;
    level.onobjectivecomplete = ::onbombexploded;
    level.resetuiomnvargamemode = _encstr_9D04262397C00C9B650B9EA273100FC6C073BCA109D0D29E8001C289D9187F7ED0FF2E05DD981A67::resetuiomnvargamemode;
    level.allowlatecomers = 0;
    level.bombsplanted = 0;
    level.nofriendlytags = 1;
    level.aplanted = 0;
    level.bplanted = 0;
    game["_encstr_B8DA073D799798C7C7"]["_encstr_B1F9099AC15967EB30E16D"] = "_encstr_9F110D76C2AD95A32F0E56F59BB99C";

    if ( getdvarint( "_encstr_B8020A9E9AA69A6292517AA0" ) )
        game["_encstr_B8DA073D799798C7C7"]["_encstr_B1F9099AC15967EB30E16D"] = "_encstr_891904A1D8BE" + game["_encstr_B8DA073D799798C7C7"]["_encstr_B1F9099AC15967EB30E16D"];
    else if ( getdvarint( "_encstr_93570B93F4A9629272A825B426" ) )
        game["_encstr_B8DA073D799798C7C7"]["_encstr_B1F9099AC15967EB30E16D"] = "_encstr_889708C9D0E7EBE819D9" + game["_encstr_B8DA073D799798C7C7"]["_encstr_B1F9099AC15967EB30E16D"];

    game["_encstr_B8DA073D799798C7C7"]["_encstr_9E240C10CE33016D6AEA39B0F244"] = "_encstr_A3EB0C58925B1E31A733A880EA78";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_B3420C3D576AC3C8736F09906BB2"] = "_encstr_A1200B75904307C880548D40C9";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_B8C30DA1CFF70D476FE78C6F8DF3DD"] = "_encstr_B8C30DA1CFF70D476FE78C6F8DF3DD";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_95260BFB08D81A89693754CFA8"] = "_encstr_95260BFB08D81A89693754CFA8";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_8B850A2AE0B99BC178FF5B44"] = "_encstr_9E7D0F98DED698D72B7359ADBCBDBB73DC";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_B9A10DD145CDB008EA27752B0782ED"] = "_encstr_B9A10DD145CDB008EA27752B0782ED";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_973D0D13EDAD13EBC1D8C29BA32B91"] = "_encstr_973D0D13EDAD13EBC1D8C29BA32B91";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_98920D450E453F191976AF77C17142"] = "_encstr_B4D50DC95DE59820C2236B73574977";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_9E920DEF8057054BC1E10AF0C2D742"] = "_encstr_80D50D89BD5B89D72B9B95DAE5AF98";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_B3E613CAB956B62FAF4CF6DA89EB912B6657E6CA32"] = "_encstr_BA0612823F887E975D38AAD22225B7B790AF3D0C";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_81B513CD23B9F0B371FBB55B76A80B10817E0B05E5"] = "_encstr_B7AF12C4DBD689D72BE62BB55EC163C237E8AC23";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_A1BA0FAFC8E2E12ED7A0B8307283B0A361"] = "_encstr_A1BA0FAFC8E2E12ED7A0B8307283B0A361";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_BC06114D179E311AD0EBBB89278A427BE99357"] = "_encstr_BC06114D179E311AD0EBBB89278A427BE99357";
    setomnvar( "_encstr_9E0418AED2F54CF6DA4CAF1DA55BCA9CBEACDC46A3965BCAEBB0", 0 );
    setomnvar( "_encstr_980418EA2DF5C47BB613D71DB46BCAE4EBACDC8C474BDAB2AF13", 0 );
    setomnvar( "_encstr_A47A12AB2DEB13DEB631D70ED80B73A35946F558", 0 );
    setomnvar( "_encstr_957A12956B36530D0BD831BBD06B05432945373A", 0 );
    setomnvar( "_encstr_A13114956B36530D0BD8312AC041C75BA9C61C3170D9", 0 );
    level.conf_fx["_encstr_AAE007D90BB9A5E61A"] = loadfx( "_encstr_97531F35435B48F8877259185C7D98970293B73FBF5227C8AC0183C8C54F10DBCB" );
    level thread laststandmonitor();
}

initializematchrules()
{
    scripts\mp\utility\game::setcommonrulesfrommatchrulesdata();
    setdynamicdvar( "_encstr_9B0911E3BA432818E227B5B70DCEE88B87725B", getmatchrulesdata( "_encstr_B9ED09156F02E6F981FBC1", "_encstr_A12A0A56BDB2A5D731E760D0" ) );
    setdynamicdvar( "_encstr_97A0119B8D937D6E9CFA0E360BE63A474B6B59", getmatchrulesdata( "_encstr_B9ED09156F02E6F981FBC1", "_encstr_B6980AABC86B3D731723FDED" ) );
    setdynamicdvar( "_encstr_AA9A126ED8E4BEE627AFC89599AEDCCA3A5AD6AC", getmatchrulesdata( "_encstr_B9ED09156F02E6F981FBC1", "_encstr_8FB30B465699AE6E95A8B4DA95" ) );
    setdynamicdvar( "_encstr_97A411C74382E1AEDBF9A853323B6BC01DD56D", getmatchrulesdata( "_encstr_B9ED09156F02E6F981FBC1", "_encstr_A34D0AD6BA361DB424F6ADC4" ) );
    setdynamicdvar( "_encstr_BDB21363D662E9AE3B5FCFE38B1278F8386DA958BB", getmatchrulesdata( "_encstr_B9ED09156F02E6F981FBC1", "_encstr_AB6A0C433AB030304BE060683823" ) );
    setdynamicdvar( "_encstr_8762102E4EB32FE3FAFF3878DB06DB9BEA77", 0 );
    scripts\mp\utility\game::registerhalftimedvar( "_encstr_AD0703D788", 0 );
    setdynamicdvar( "_encstr_A3F30F8F229B96DA6E5FB0334853F801FF", 0 );
}

onprecachegametype()
{
    game["_encstr_BE9B133BC818DA4909FE15CAE723B25F6360FF8368"] = "_encstr_9B6F165B83F5DD1693EBF626A6561B1D5ACE2BEBB1B7E6A3";
    game["_encstr_982A154CDEAD89D7E4B2C67B67CA932B91D7DCF657B98C"] = "_encstr_8FED17AD1CEBDD169CBEBD26A695C63A5A9DACAF3A0B5BB2E6";
}

onstartgametype()
{
    if ( !isdefined( game["_encstr_A6D60EE09BF413B9945185CB4797C583"] ) )
        game["_encstr_A6D60EE09BF413B9945185CB4797C583"] = 0;

    if ( game["_encstr_A6D60EE09BF413B9945185CB4797C583"] )
    {
        var_0 = game["_encstr_941C0A6AF345075ED05BEAD3"];
        var_1 = game["_encstr_95A70AA81FEE295D3A2F56DE"];
        game["_encstr_941C0A6AF345075ED05BEAD3"] = var_1;
        game["_encstr_95A70AA81FEE295D3A2F56DE"] = var_0;
    }

    setclientnamemode( "_encstr_AA070E5BC237BA2C637D361A5837B395" );
    level._effect["_encstr_BC8C0F6E4023DA5FA9C8D3AB584351B28D"] = loadfx( "_encstr_9BCE34EB333A17AAAF5B990D673702E120B01F07E871DF63D5139182C5538BABE8F9ABFF08C9DB5A19A5E97F3D5FA362D0A02213C822" );
    level._effect["_encstr_ADF6124C2FF2A30104F7A178AB30B8F72B5448D8"] = loadfx( "_encstr_94452E933ABBC048953A8B6755389839BEC348F9020330382F089BF774A719754B8BE0A01BAF50B049169BC72E4B9843" );
    level._effect["_encstr_9F9013C9EB9311C4CC35FF507D1B6F18F04BEBBA88"] = loadfx( "_encstr_95F42BB399879796EE9B5EAFE456B8AEB26E1DE65E6B0E5E9D331E7D235698BA3BAFBBC24EB92DDC3B8B3B66E1" );
    scripts\mp\utility\game::setobjectivetext( game["_encstr_941C0A6AF345075ED05BEAD3"], &"_encstr_9F6817C52EED0BAE8979219DE7BE2BC13716C391612F8A077A" );
    scripts\mp\utility\game::setobjectivetext( game["_encstr_95A70AA81FEE295D3A2F56DE"], &"_encstr_8B1B17D348A415684594652AD4BC4D227D445164A29C228A49" );

    if ( level.splitscreen )
    {
        scripts\mp\utility\game::setobjectivescoretext( game["_encstr_941C0A6AF345075ED05BEAD3"], &"_encstr_9F6817C52EED0BAE8979219DE7BE2BC13716C391612F8A077A" );
        scripts\mp\utility\game::setobjectivescoretext( game["_encstr_95A70AA81FEE295D3A2F56DE"], &"_encstr_8B1B17D348A415684594652AD4BC4D227D445164A29C228A49" );
    }
    else
    {
        scripts\mp\utility\game::setobjectivescoretext( game["_encstr_941C0A6AF345075ED05BEAD3"], &"_encstr_88481D30D155EFB73F0BFEE53E68CF67D7510979219FD4E79768E3DBD82F5F" );
        scripts\mp\utility\game::setobjectivescoretext( game["_encstr_95A70AA81FEE295D3A2F56DE"], &"_encstr_9DFD1D37A3080DA9ECEC0F6502CF71D5F103ABBD57B04551C271D7BD3D5A09" );
    }

    scripts\mp\utility\game::setobjectivehinttext( game["_encstr_941C0A6AF345075ED05BEAD3"], &"_encstr_88AF1C3D90525168A2A4B28AA6CBD4887D0551451486B4A229EB4292C9A8" );
    scripts\mp\utility\game::setobjectivehinttext( game["_encstr_95A70AA81FEE295D3A2F56DE"], &"_encstr_974F1C47D3787DF9BCBC3F55D23F8105C153DBED6760B5819201E42C8D6C" );
    initspawns();
    level.dogtagallyonusecb = ::dogtagallyonusecb;
    setspecialloadout();
    thread bombs();
}

initspawns()
{
    scripts\mp\spawnlogic::setactivespawnlogic( "_encstr_9F2D10E6175AAD29283F40086B7D63C7A3BF", "_encstr_A8E80F2F633A9549FE2228CDCB8CA0C052" );
    level.spawnmins = ( 0, 0, 0 );
    level.spawnmaxs = ( 0, 0, 0 );
    scripts\mp\spawnlogic::addstartspawnpoints( "_encstr_A205158DDB29A38A68277B3747A861E9D8E30696502B6A" );
    scripts\mp\spawnlogic::addstartspawnpoints( "_encstr_B99A155B837DDC46AFB98316DDE6AF8CCA3359E6915627" );
    scripts\mp\spawnlogic::addspawnpoints( "_encstr_877B092C8E1D0B36AD564E", "_encstr_B1090D98F3211171B757B62F41F7F8" );
    scripts\mp\spawnlogic::addspawnpoints( "_encstr_877B092C8E1D0B36AD564E", "_encstr_80E817B60EBEA3C8DAD737070BDD73FA9B2B1B7BB991C23997", 1, 1 );
    scripts\mp\spawnlogic::addspawnpoints( "_encstr_BA4609E1537B2088995F6A", "_encstr_B1090D98F3211171B757B62F41F7F8" );
    scripts\mp\spawnlogic::addspawnpoints( "_encstr_BA4609E1537B2088995F6A", "_encstr_80E817B60EBEA3C8DAD737070BDD73FA9B2B1B7BB991C23997", 1, 1 );
    scripts\mp\spawnlogic::registerspawnpoints( "_encstr_930E073E8FC00DDF69", "_encstr_B1090D98F3211171B757B62F41F7F8" );
    scripts\mp\spawnlogic::registerspawnpoints( "_encstr_A30C093385361B4CB06C6D", "_encstr_80E817B60EBEA3C8DAD737070BDD73FA9B2B1B7BB991C23997" );
    level.mapcenter = scripts\mp\spawnlogic::findboxcenter( level.spawnmins, level.spawnmaxs );
    setmapcenter( level.mapcenter );
}

getspawnpoint()
{
    var_0 = "_encstr_BA4609E1537B2088995F6A";

    if ( self.pers["_encstr_89EF05D46BA8FD"] == game["_encstr_941C0A6AF345075ED05BEAD3"] )
        var_0 = "_encstr_877B092C8E1D0B36AD564E";

    if ( scripts\mp\spawnlogic::shoulduseteamstartspawn() )
    {
        var_1 = scripts\mp\spawnlogic::getspawnpointarray( "_encstr_885D0D8DE73617CF6F50C3AA087549" + var_0 );
        var_2 = scripts\mp\spawnlogic::getspawnpoint_startspawn( var_1 );
    }
    else
        var_2 = scripts\mp\spawnlogic::getspawnpoint( self, self.pers["_encstr_89EF05D46BA8FD"], "_encstr_930E073E8FC00DDF69", "_encstr_A30C093385361B4CB06C6D" );

    return var_2;
}

onspawnplayer()
{
    self.isplanting = 0;
    self.isdefusing = 0;
    self.isbombcarrier = 0;

    if ( level.multibomb && self.pers["_encstr_89EF05D46BA8FD"] == game["_encstr_941C0A6AF345075ED05BEAD3"] )
        self setclientomnvar( "_encstr_815A11ABE7B1F64022CA7248F51F79BE6A1F7D", 1 );
    else
    {
        self setclientomnvar( "_encstr_815A11ABE7B1F64022CA7248F51F79BE6A1F7D", 0 );

        foreach ( var_1 in level.objectives )
            var_1.trigger disableplayeruse( self );
    }

    level notify( "_encstr_9B6F0FDC8316DDE62B8CF507C616CB599C" );

    if ( scripts\mp\utility\teams::isgameplayteam( self.sessionteam ) )
    {
        level notify( "_encstr_984F1163924F90210AC7E3D547E2F810062F09", self );
        scripts\mp\utility\stats::setextrascore0( 0 );

        if ( isdefined( self.pers["_encstr_8BB00783957F8B8B08"] ) )
            scripts\mp\utility\stats::setextrascore0( self.pers["_encstr_8BB00783957F8B8B08"] );

        scripts\mp\utility\stats::setextrascore1( 0 );

        if ( isdefined( self.pers["_encstr_9394086A1F5F5EAD9B93"] ) )
            scripts\mp\utility\stats::setextrascore1( self.pers["_encstr_9394086A1F5F5EAD9B93"] );
    }
}

laststandmonitor()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );

    for (;;)
    {
        waitframe();
        level thread laststandkillteamifdown();
    }
}

laststandkillteamifdown()
{
    var_0 = [];

    foreach ( var_2 in level.teamnamelist )
    {
        var_0[var_2] = [];
        var_3[var_2] = 0;
    }

    foreach ( var_2 in level.teamnamelist )
    {
        var_6 = scripts\mp\utility\teams::getteamdata( var_2, "_encstr_8875080E3685E52B93B9" );
        var_3 = 0;
        var_0 = [];

        foreach ( var_8 in var_6 )
        {
            if ( scripts\mp\utility\player::isreallyalive( var_8 ) )
            {
                var_3++;

                if ( istrue( var_8.inlaststand ) )
                    var_0[var_0.size] = var_8;
            }
        }

        if ( var_0.size > 0 && var_3 <= var_0.size )
        {
            level.laststandrequiresmelee = 0;

            foreach ( var_8 in var_0 )
                var_8 suicide();
        }
    }
}

onplayerkilled( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9 )
{
    self setclientomnvar( "_encstr_815A11ABE7B1F64022CA7248F51F79BE6A1F7D", 0 );
    thread checkallowspectating();
}

checkallowspectating()
{
    waitframe();
    var_0 = 0;

    if ( !scripts\mp\utility\teams::getteamdata( game["_encstr_941C0A6AF345075ED05BEAD3"], "_encstr_892A0BA3D3F25C4033ADD34893" ) )
    {
        level.spectateoverride[game["_encstr_941C0A6AF345075ED05BEAD3"]].allowenemyspectate = 1;
        var_0 = 1;
    }

    if ( !scripts\mp\utility\teams::getteamdata( game["_encstr_95A70AA81FEE295D3A2F56DE"], "_encstr_892A0BA3D3F25C4033ADD34893" ) )
    {
        level.spectateoverride[game["_encstr_95A70AA81FEE295D3A2F56DE"]].allowenemyspectate = 1;
        var_0 = 1;
    }

    if ( var_0 )
        scripts\mp\spectating::updatespectatesettings();
}

sd_endgame( var_0, var_1 )
{
    setomnvarforallclients( "_encstr_8038139574D9F7694A8F08A8A78E415FE3DB079DCF", 0 );
    setomnvar( "_encstr_A13114956B36530D0BD8312AC041C75BA9C61C3170D9", 0 );
    thread scripts\mp\gamelogic::endgame( var_0, var_1 );
}

ondeadevent( var_0 )
{
    if ( level.bombexploded > 0 || level.bombdefused )
        return;

    if ( var_0 == "_encstr_A61904730372" )
    {
        if ( level.bombplanted )
            sd_endgame( game["_encstr_941C0A6AF345075ED05BEAD3"], game["_encstr_94EA0B2BE623AF39CA589BBDB9"][tolower( game[game["_encstr_95A70AA81FEE295D3A2F56DE"]] ) + "_encstr_ABE60C07DDADF8190F42B11BDA13"] );
        else
            sd_endgame( game["_encstr_95A70AA81FEE295D3A2F56DE"], game["_encstr_94EA0B2BE623AF39CA589BBDB9"][tolower( game[game["_encstr_941C0A6AF345075ED05BEAD3"]] ) + "_encstr_ABE60C07DDADF8190F42B11BDA13"] );
    }
    else if ( var_0 == game["_encstr_941C0A6AF345075ED05BEAD3"] )
    {
        if ( level.bombplanted )
            return;

        level thread sd_endgame( game["_encstr_95A70AA81FEE295D3A2F56DE"], game["_encstr_94EA0B2BE623AF39CA589BBDB9"][tolower( game[game["_encstr_941C0A6AF345075ED05BEAD3"]] ) + "_encstr_ABE60C07DDADF8190F42B11BDA13"] );
    }
    else if ( var_0 == game["_encstr_95A70AA81FEE295D3A2F56DE"] )
        level thread sd_endgame( game["_encstr_941C0A6AF345075ED05BEAD3"], game["_encstr_94EA0B2BE623AF39CA589BBDB9"][tolower( game[game["_encstr_95A70AA81FEE295D3A2F56DE"]] ) + "_encstr_ABE60C07DDADF8190F42B11BDA13"] );
}

ononeleftevent( var_0 )
{
    if ( level.bombexploded > 0 || level.bombdefused )
        return;

    var_1 = scripts\mp\utility\game::getlastlivingplayer( var_0 );
    var_1 thread givelastonteamwarning();
}

onnormaldeath( var_0, var_1, var_2, var_3, var_4, var_5 )
{
    _encstr_88EA20CDD8932D38E8B9CB5BC1BCD985D6AC47E58395CD5ED8F6B6B5DBDCE2B3378D::oncommonnormaldeath( var_0, var_1, var_2, var_3, var_4, var_5 );
    var_6 = scripts\mp\rank::getscoreinfovalue( "_encstr_97D70583536853" );
    var_7 = var_0.team;

    if ( var_0.isplanting )
    {
        thread scripts\common\utility::_id_13E0A( level._id_11B30, var_2, "_encstr_89D109E8419005731360C2" );
        var_1 scripts\mp\utility\stats::incpersstat( "_encstr_9CF70851FD0FB8B81BB3", 1 );
        var_1 scripts\mp\persistence::statsetchild( "_encstr_A2460627DEABDC23", "_encstr_9CF70851FD0FB8B81BB3", var_1.pers["_encstr_9CF70851FD0FB8B81BB3"] );
    }
    else if ( var_0.isbombcarrier )
        thread scripts\common\utility::_id_13E0A( level._id_11B30, var_2, "_encstr_B62F0996FAF3765317CAAF" );
    else if ( var_0.isdefusing )
    {
        thread scripts\common\utility::_id_13E0A( level._id_11B30, var_2, "_encstr_956909CC156977424BE0FA" );
        var_1 scripts\mp\utility\stats::incpersstat( "_encstr_9CF70851FD0FB8B81BB3", 1 );
        var_1 scripts\mp\persistence::statsetchild( "_encstr_A2460627DEABDC23", "_encstr_9CF70851FD0FB8B81BB3", var_1.pers["_encstr_9CF70851FD0FB8B81BB3"] );
    }

    _encstr_9D04262397C00C9B650B9EA273100FC6C073BCA109D0D29E8001C289D9187F7ED0FF2E05DD981A67::bombzone_awardgenericbombzonemedals( var_1, var_0 );
}

givelastonteamwarning()
{
    self endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    scripts\mp\utility\player::waittillrecoveredhealth( 3 );
    level thread scripts\mp\battlechatter_mp::trysaylocalsound( self, "_encstr_8010106FB801BFF30370FDB64EE9F977E818" );
    var_0 = scripts\mp\utility\game::getotherteam( self.pers["_encstr_89EF05D46BA8FD"] )[0];
    level thread scripts\mp\hud_util::teamplayercardsplash( "_encstr_97591CD31F201B7D4B38614A889F73B3F9F75545A5A87B872DB85A12D89B", self, self.pers["_encstr_89EF05D46BA8FD"] );
    level thread scripts\mp\hud_util::teamplayercardsplash( "_encstr_B2D01767603180256FA38104BBC7519BC6B1173B10E2A2AB0F", self, var_0 );

    foreach ( var_2 in level.players )
    {
        if ( var_2.pers["_encstr_89EF05D46BA8FD"] == self.pers["_encstr_89EF05D46BA8FD"] )
        {
            if ( isdefined( var_2.tagavailable ) && var_2.tagavailable )
                level.nofriendlytags = 0;
        }
    }

    level notify( "_encstr_95420BAA41D6A3A17059E1E653", self );
}

ontimelimit()
{
    sd_endgame( game["_encstr_95A70AA81FEE295D3A2F56DE"], game["_encstr_94EA0B2BE623AF39CA589BBDB9"]["_encstr_A40B13A3B4AD56AFD896B5D28EF593AC0BC6A15632"] );

    foreach ( var_1 in level.players )
    {
        if ( isdefined( var_1.bombplantweapon ) )
        {
            var_1 scripts\cp_mp\utility\inventory_utility::_takeweapon( var_1.bombplantweapon );
            break;
        }
    }
}

updategametypedvars()
{
    _encstr_88EA20CDD8932D38E8B9CB5BC1BCD985D6AC47E58395CD5ED8F6B6B5DBDCE2B3378D::updatecommongametypedvars();
    level.planttime = scripts\mp\utility\dvars::dvarfloatvalue( "_encstr_B6980AABC86B3D731323FDED", 5, 0, 20 );
    level.defusetime = scripts\mp\utility\dvars::dvarfloatvalue( "_encstr_8FB30B465699AE6E95E8B4DA95", 5, 0, 20 );
    level.bombtimer = scripts\mp\utility\dvars::dvarfloatvalue( "_encstr_A12A0A56BDB2A5D331E760D0", 45, 1, 300 );
    level.multibomb = scripts\mp\utility\dvars::dvarintvalue( "_encstr_A34D0AD6BA361DB426F6ADC4", 0, 0, 1 );
    level.silentplant = scripts\mp\utility\dvars::dvarintvalue( "_encstr_AB6A0C433AB030304BE060683823", 0, 0, 1 );
}

removebombzonec( var_0 )
{
    var_1 = [];
    var_2 = getentarray( "_encstr_A6F51207834290EF033989F3E367ABF85D1CA381", "_encstr_B9110A36362C3737732CDA59" );

    foreach ( var_4 in var_2 )
    {
        if ( isdefined( var_4.script_gameobjectname ) && var_4.script_gameobjectname == "_encstr_889A09E530F7E918279537" )
        {
            foreach ( var_6 in var_0 )
            {
                if ( distance( var_4.origin, var_6.origin ) < 100 && issubstr( tolower( var_6.script_label ), "_encstr_824C0207" ) )
                {
                    var_6.relatedbrushmodel = var_4;
                    var_1[var_1.size] = var_6;
                    break;
                }
            }
        }
    }

    foreach ( var_10 in var_1 )
    {
        var_10.relatedbrushmodel delete();
        var_11 = getentarray( var_10.target, "_encstr_B8CE0BE43FC317DF690862BA48" );

        foreach ( var_13 in var_11 )
            var_13 delete();

        var_10 delete();
    }

    return scripts\engine\utility::array_removeundefined( var_0 );
}

bombs()
{
    _encstr_9D04262397C00C9B650B9EA273100FC6C073BCA109D0D29E8001C289D9187F7ED0FF2E05DD981A67::bombzone_setupbombcase( "_encstr_AD130846E7093D189D63" );
    var_0 = getentarray( "_encstr_889A09E530F7E918279537", "_encstr_B8CE0BE43FC317DF690862BA48" );
    var_0 = removebombzonec( var_0 );
    level.objectives = [];

    foreach ( var_2 in var_0 )
    {
        var_3 = _encstr_9D04262397C00C9B650B9EA273100FC6C073BCA109D0D29E8001C289D9187F7ED0FF2E05DD981A67::setupobjective( var_2, 1 );
        var_3.onbeginuse = ::onbeginuse;
        var_3.onenduse = ::onenduse;
        var_3.onuse = ::onuseplantobject;
        level.objectives[var_3.objectivekey] = var_3;
    }
}

onbeginuse( var_0 )
{
    _encstr_9D04262397C00C9B650B9EA273100FC6C073BCA109D0D29E8001C289D9187F7ED0FF2E05DD981A67::bombzone_onbeginuse( var_0 );

    if ( !scripts\mp\gameobjects::isfriendlyteam( var_0.pers["_encstr_89EF05D46BA8FD"] ) )
    {
        if ( level.multibomb )
        {
            if ( self.objectivekey == "_encstr_B80703EB16" )
            {
                level.objectives["_encstr_A40703FA31"] scripts\mp\gameobjects::allowuse( "_encstr_AABA05236DC831" );
                level.objectives["_encstr_A40703FA31"] scripts\mp\gameobjects::setvisibleteam( "_encstr_B9FC095F8BCCFF02D92B43" );
            }
            else
            {
                level.objectives["_encstr_B80703EB16"] scripts\mp\gameobjects::allowuse( "_encstr_AABA05236DC831" );
                level.objectives["_encstr_B80703EB16"] scripts\mp\gameobjects::setvisibleteam( "_encstr_B9FC095F8BCCFF02D92B43" );
            }
        }
    }
}

onenduse( var_0, var_1, var_2 )
{
    _encstr_9D04262397C00C9B650B9EA273100FC6C073BCA109D0D29E8001C289D9187F7ED0FF2E05DD981A67::bombzone_onenduse( var_0, var_1, var_2 );

    if ( !scripts\mp\gameobjects::isfriendlyteam( var_1.pers["_encstr_89EF05D46BA8FD"] ) )
    {
        if ( level.multibomb && !var_2 )
        {
            if ( self.objectivekey == "_encstr_B80703EB16" )
            {
                level.objectives["_encstr_A40703FA31"] scripts\mp\gameobjects::allowuse( "_encstr_80BF06CA78A2226B" );
                level.objectives["_encstr_A40703FA31"] scripts\mp\gameobjects::setvisibleteam( "_encstr_BC19047780DA" );
            }
            else
            {
                level.objectives["_encstr_B80703EB16"] scripts\mp\gameobjects::allowuse( "_encstr_80BF06CA78A2226B" );
                level.objectives["_encstr_B80703EB16"] scripts\mp\gameobjects::setvisibleteam( "_encstr_BC19047780DA" );
            }
        }
    }
}

onuseplantobject( var_0 )
{
    if ( !scripts\mp\gameobjects::isfriendlyteam( var_0.pers["_encstr_89EF05D46BA8FD"] ) )
    {
        foreach ( var_2 in level.objectives )
        {
            if ( var_2 == self )
                continue;

            var_2 scripts\mp\gameobjects::disableobject();
        }
    }

    _encstr_9D04262397C00C9B650B9EA273100FC6C073BCA109D0D29E8001C289D9187F7ED0FF2E05DD981A67::bombzone_onuseplantobject( var_0 );
}

onbombexploded( var_0, var_1, var_2, var_3, var_4 )
{
    if ( var_3 == game["_encstr_941C0A6AF345075ED05BEAD3"] )
    {
        setgameendtime( 0 );
        wait 3;
        sd_endgame( game["_encstr_941C0A6AF345075ED05BEAD3"], game["_encstr_94EA0B2BE623AF39CA589BBDB9"]["_encstr_97CA113A0B4ED995E8AF192BE64739BDE5B246"] );
    }
    else
    {
        wait 1.5;
        setgameendtime( 0 );
        sd_endgame( game["_encstr_95A70AA81FEE295D3A2F56DE"], game["_encstr_94EA0B2BE623AF39CA589BBDB9"]["_encstr_B9A10DD145CDB008EA27752B0782ED"] );
    }
}

setspecialloadout()
{
    if ( isusingmatchrulesdata() && scripts\mp\utility\game::getmatchrulesdatawithteamandindex( "_encstr_81300F3F8910414B21F907B33B56D3BD50", game["_encstr_941C0A6AF345075ED05BEAD3"], 5, "_encstr_9E95066E81471B5F", "_encstr_A28F0613BEB3DAD7" ) )
        level.sd_loadout[game["_encstr_941C0A6AF345075ED05BEAD3"]] = scripts\mp\utility\game::getmatchrulesspecialclass( game["_encstr_941C0A6AF345075ED05BEAD3"], 5 );
}

dogtagallyonusecb( var_0 )
{
    var_0 scripts\mp\utility\stats::setextrascore1( var_0.pers["_encstr_9394086A1F5F5EAD9B93"] );
}
