// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

thermite_damage_over_time()
{
    scripts\engine\scriptable::scriptable_addusedcallback( ::scriptable_used );
    scripts\engine\scriptable::_id_12F5A( ::_id_12F64 );
    waitframe();
    all_players_skip_last_stand();
    ally_initial_spawners();
    allownvgsatmatchstart();
    activenumber();
    thread _id_144CE();
    thread apc_rus_monitordriverturretfire();
}

all_players_skip_last_stand()
{
    var_0 = [];
    var_0[var_0.size] = allow_nvgs( "_encstr_A4B50C9A31C0298BBD8353EAE8B7", "_encstr_B114152B5A9B07C0D3A2CBE7E8C92F2193DAA04FCD730B", "_encstr_B1B20BFE1821BE137498A5223A", "_encstr_8C1805EBF0319A", "_encstr_BAF30BD98F8001B9340F42EB13" );
    var_0[var_0.size] = allow_nvgs( "_encstr_B8B50C491F6FF13E43CBC9F78B1F", "_encstr_B114152B5A9B07C0D3A2CBE7E8C92F2193DAA04FCD730B", "_encstr_B1B20BFE1821BE137498A5223A", "_encstr_8C1805EBF0319A", "_encstr_BEF30B31199DAFC6D2B30D3A8C" );
    var_0[var_0.size] = allow_nvgs( "_encstr_A8B50CA24089DEA94D14D3FF5387", "_encstr_B114152B5A9B07C0D3A2CBE7E8C92F2193DAA04FCD730B", "_encstr_B1B20BFE1821BE137498A5223A", "_encstr_8C1805EBF0319A", "_encstr_9FF30B2A69B7812AD8E774B92E" );
    var_0[var_0.size] = allow_nvgs( "_encstr_9CB50CA1BBE7CF4B357B0B97A25F", "_encstr_B114152B5A9B07C0D3A2CBE7E8C92F2193DAA04FCD730B", "_encstr_B1B20BFE1821BE137498A5223A", "_encstr_8C1805EBF0319A", "_encstr_AFF30B127530094DD93F72383B" );
    var_0[var_0.size] = allow_nvgs( "_encstr_98B50C111AC7F840133CA9E75E6B", "_encstr_B114152B5A9B07C0D3A2CBE7E8C92F2193DAA04FCD730B", "_encstr_B1B20BFE1821BE137498A5223A", "_encstr_8C1805EBF0319A", "_encstr_8BF30B2B05BFA1E05BB71165BB" );
    var_0[var_0.size] = allow_nvgs( "_encstr_9EB50C508817474AC3531395F533", "_encstr_AD6D15A7CF63E8D0270CD30974273220DB2F5D074FAB46", undefined, undefined, undefined, 2.5 );
    var_0[var_0.size] = allow_nvgs( "_encstr_8CB50CCEB998B1A8906BF967EA13", "_encstr_A38215DC8D39F59B77A5E8360DD773AFE8C2393BB2A36E", undefined, undefined, undefined, 2.5 );
    var_1 = [];
    var_1[var_1.size] = allow_offhand_throwback( "_encstr_B1B20BFE1821BE137498A5223A", "_encstr_974226212AF7C848823B99972FAAC22C97C29B49164B9DA0510293894D12D06007BBDA912AAB4EF8", 30 );

    foreach ( var_3 in var_0 )
    {
        var_4 = getentitylessscriptablearrayinradius( var_3.name, "_encstr_A8ED125A5723AF9B405770989B255F1FF3897A60" );

        foreach ( var_6 in var_4 )
        {
            var_6._id_13A7B = var_3._id_13A7B;

            if ( isdefined( var_3.timer ) )
            {
                var_7 = getentitylessscriptablearrayinradius( var_3.timer, "_encstr_A8ED125A5723AF9B405770989B255F1FF3897A60", var_6.position, 1200 );

                if ( isdefined( var_7 ) )
                    var_6.timer = var_7[0];
            }

            var_6.flightyaw = var_3.flightyaw;
            var_6.stack_patch_waittill_context = var_3.stack_patch_waittill_context;
            var_6._id_12029 = var_3._id_12029;

            if ( isdefined( var_3.light ) )
            {
                var_8 = getentitylessscriptablearrayinradius( var_3.light, "_encstr_A8ED125A5723AF9B405770989B255F1FF3897A60", var_6.position, 1200 );

                if ( isdefined( var_8 ) )
                    var_6.light = var_8[0];
            }
        }
    }

    foreach ( var_12 in var_1 )
    {
        var_4 = getentitylessscriptablearrayinradius( var_12.name, "_encstr_A8ED125A5723AF9B405770989B255F1FF3897A60" );

        foreach ( var_6 in var_4 )
        {
            var_6._id_12C7E = var_12._id_12C7E;
            var_6.timeout = var_12.timeout;
            var_6.lights = [];
        }
    }
}

apc_rus_monitordriverturretfire()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );

    for (;;)
    {
        level waittill( "_encstr_8F4C169DBAB1163BEB4CACCEB4CDEBE6ACEEBECCA5ECA18E", var_0 );
        var_1 = getdvarint( "_encstr_95D018A316A22965EB6F2B116FF136605D2BE9BEBE1080A8825F", "_encstr_B94C02A9" );

        if ( randomint( 100 ) < var_1 )
            thread activeintelchallengekeys( var_0 );
    }
}

recentghostridekillcount( var_0, var_1, var_2 )
{
    if ( !isdefined( var_1 ) )
        var_1 = var_0.origin;

    if ( !isdefined( var_2 ) )
        var_2 = 1200;

    var_3 = getentitylessscriptablearrayinradius( "_encstr_8FA5224BFE5A601773BF8591C7A9DE68F2D49323E6B28045F9B3E78FA371AE10ACEBF8F8", "_encstr_B9110A36362C3737732CDA59", var_1, var_2 );
    var_4 = [];

    foreach ( var_6 in var_3 )
    {
        if ( isdefined( var_6.timer ) && var_6.timer == var_0 )
            var_4[var_4.size] = var_6;
    }

    return var_4;
}

processcashpileovertimemultiplier( var_0, var_1, var_2 )
{
    var_3 = [];

    if ( isdefined( var_0 ) && isdefined( var_0._id_13A7B ) && isdefined( level.set_relic_martyrdom[var_0._id_13A7B] ) )
    {
        if ( !isdefined( var_1 ) )
            var_1 = var_0.origin;

        if ( !isdefined( var_2 ) )
            var_2 = 1200;

        var_4 = level.set_relic_martyrdom[var_0._id_13A7B];

        foreach ( var_6 in var_4 )
        {
            var_7 = getentitylessscriptablearrayinradius( var_6, "_encstr_A8ED125A5723AF9B405770989B255F1FF3897A60", var_1, var_2 );

            foreach ( var_9 in var_7 )
                var_3[var_3.size] = var_9;
        }
    }

    return var_3;
}

activeintelchallengekeys( var_0 )
{
    var_1 = var_0.origin;
    var_2 = getentitylessscriptablearrayinradius( "_encstr_8BC60CAA01F019476EB1A21A18C6", "_encstr_A8ED125A5723AF9B405770989B255F1FF3897A60", var_1, 1200 );

    if ( isdefined( var_2.size ) & var_2.size > 0 )
        var_2 = var_2[0];
    else
        return;

    ammobox_tryuse( var_2, 1 );
    var_3 = getentitylessscriptablearrayinradius( "_encstr_AF10187616EB1BCBB43FA0C837C7E369627BEDFEE1E2C3118003", "_encstr_B9110A36362C3737732CDA59", var_1, 1200 );

    foreach ( var_5 in var_3 )
        var_5 setscriptablepartstate( "_encstr_8BA90608F481F0DB", "_encstr_B30B07E216CBFFC4C2" );

    var_7 = getentitylessscriptablearrayinradius( "_encstr_87F717D38A730330B3C96541F55140D5D342A9DE63B749C04A", "_encstr_B9110A36362C3737732CDA59", var_1, 1200 );

    if ( isdefined( var_7 ) && isdefined( var_7[0] ) )
    {
        var_7 = var_7[0];
        var_8 = recentghostridekillcount( var_7, var_1 );

        foreach ( var_10 in var_8 )
            var_10.stack_patch_waittill_context = 0;

        if ( var_7 getscriptablepartstate( "_encstr_BC6C06E9A7D2B598" ) != "_encstr_9707035F3B" )
        {
            var_7 setscriptablepartstate( "_encstr_BC6C06E9A7D2B598", "_encstr_9707035F3B" );
            wait( var_7.timeout );
            var_7 setscriptablepartstate( "_encstr_BC6C06E9A7D2B598", "_encstr_9819045FD029" );
            ammobox_canweaponacceptmoreattachments( var_7 );

            foreach ( var_5 in var_3 )
                var_5 setscriptablepartstate( "_encstr_8BA90608F481F0DB", "_encstr_808209170DAA678824B362" );

            foreach ( var_10 in var_8 )
                var_10.stack_patch_waittill_context = 1;
        }
    }
}

allow_nvgs( var_0, var_1, var_2, var_3, var_4, var_5 )
{
    var_6 = spawnstruct();
    var_6.name = var_0;
    var_6._id_13A7B = var_1;
    var_6.timer = var_2;
    var_6.flightyaw = var_3;
    var_6.light = var_4;
    var_6.stack_patch_waittill_context = 0;
    var_6._id_12029 = var_5;
    return var_6;
}

allow_offhand_throwback( var_0, var_1, var_2 )
{
    var_3 = spawnstruct();
    var_3.name = var_0;
    var_3._id_12C7E = var_1;
    var_3.timeout = var_2;
    return var_3;
}

ally_initial_spawners()
{
    var_0 = getentitylessscriptablearrayinradius( "_encstr_87F717D38A730330B3C96541F55140D5D342A9DE63B749C04A", "_encstr_B9110A36362C3737732CDA59" );

    foreach ( var_2 in var_0 )
    {
        var_3 = getentitylessscriptablearrayinradius( "_encstr_8FA5224BFE5A601773BF8591C7A9DE68F2D49323E6B28045F9B3E78FA371AE10ACEBF8F8", "_encstr_B9110A36362C3737732CDA59", var_2.position, 1200 );
        var_4 = [];

        foreach ( var_6 in var_3 )
        {
            var_7 = var_6.flightyaw;

            if ( !isdefined( var_7 ) )
                continue;

            if ( !isdefined( var_4[var_7] ) )
                var_4[var_7] = [];

            var_4[var_7][var_4[var_7].size] = var_6;
        }

        foreach ( var_10 in var_4 )
        {
            for ( var_11 = 0; var_11 < var_10.size; var_11++ )
            {
                var_10[var_11].enabled = 0;
                var_10[var_11].stack_patch_waittill_context = 1;
            }

            var_12 = randomintrange( 0, var_10.size );
            var_10[var_12].enabled = 1;
        }
    }
}

activenumber()
{
    var_0 = getentitylessscriptablearrayinradius( "_encstr_B1B20BFE1821BE137498A5223A", "_encstr_A8ED125A5723AF9B405770989B255F1FF3897A60" );

    foreach ( var_2 in var_0 )
        ammobox_canweaponacceptmoreattachments( var_2 );
}

allassassin_initteamlist( var_0 )
{
    if ( isdefined( var_0._id_1202A ) && var_0._id_1202A == 1 )
        return 1;

    return 0;
}

analytics_init( var_0, var_1 )
{
    if ( allassassin_initteamlist( var_0 ) )
        return;

    var_0._id_1202A = 1;
    wait( var_1 );
    ammobox_tryuse( var_0, 0 );
    var_0._id_1202A = 0;
}

ammobox_canweaponacceptmoreattachments( var_0 )
{
    level.set_relic_mythic = [];

    if ( !isdefined( var_0._id_12C7E ) )
        return;

    var_1 = strtok( var_0._id_12C7E, "_encstr_B44C02C9" );
    var_2 = [];

    foreach ( var_4 in var_1 )
    {
        var_5 = strtok( var_4, "_encstr_974C02F6" );

        if ( var_5[1] == "_encstr_87EF0558DBA3CB" )
        {
            var_2[var_2.size] = [ var_5[0], 1 ];
            continue;
        }

        var_2[var_2.size] = [ var_5[0], 0 ];
    }

    foreach ( var_4 in var_2 )
    {
        var_8 = var_4[0];
        var_9 = var_4[1];

        if ( isdefined( var_0 ) )
            var_1 = getentitylessscriptablearrayinradius( var_8, "_encstr_A8ED125A5723AF9B405770989B255F1FF3897A60", var_0.position, 1200 );
        else
            var_1 = getentitylessscriptablearrayinradius( var_8, "_encstr_A8ED125A5723AF9B405770989B255F1FF3897A60" );

        foreach ( var_11 in var_1 )
        {
            var_12 = aigroundturret_dismountcompleted( var_11 );

            if ( var_12 != var_9 )
                ammobox_tryuse( var_11, var_9 );
        }
    }
}

allownvgsatmatchstart()
{
    var_0 = getdvar( "_encstr_B114152B5A9B07C0D3A2CBE7E8C92F2193DAA04FCD730B", "_encstr_A2E90EEBB23FA7F83784CF23F97F129B" );
    var_1 = strtok( var_0, "_encstr_B44C02C9" );
    level.set_relic_martyrdom["_encstr_B114152B5A9B07C0D3A2CBE7E8C92F2193DAA04FCD730B"] = var_1;
    var_2 = getdvar( "_encstr_A87115EB5EFA7136E33F496F1349DE2994B6B3E14744D8", "_encstr_B9AB0691F6ED4E13" );
    var_1 = strtok( var_2, "_encstr_B44C02C9" );
    level.set_relic_martyrdom["_encstr_A87115EB5EFA7136E33F496F1349DE2994B6B3E14744D8"] = var_1;
    var_3 = getdvar( "_encstr_952015932770312754D8BB320DB8EEF9988B2A0FB32842", "_encstr_B3FD0CCF38A8A2EFD109070F4D06" );
    var_1 = strtok( var_3, "_encstr_B44C02C9" );
    level.set_relic_martyrdom["_encstr_952015932770312754D8BB320DB8EEF9988B2A0FB32842"] = var_1;
    var_4 = getdvar( "_encstr_AD6D15A7CF63E8D0270CD30974273220DB2F5D074FAB46", "_encstr_B490146DCC7F59A40F7203A3BEFB55609936FBFD6472" );
    var_1 = strtok( var_4, "_encstr_B44C02C9" );
    level.set_relic_martyrdom["_encstr_AD6D15A7CF63E8D0270CD30974273220DB2F5D074FAB46"] = var_1;
    var_5 = getdvar( "_encstr_A38215DC8D39F59B77A5E8360DD773AFE8C2393BB2A36E", "_encstr_B490146DCC7F59A40F7203A3BEFB55609936FBFD6472" );
    var_1 = strtok( var_5, "_encstr_B44C02C9" );
    level.set_relic_martyrdom["_encstr_A38215DC8D39F59B77A5E8360DD773AFE8C2393BB2A36E"] = var_1;
}

aigroundturret_dismountcompleted( var_0 )
{
    var_1 = var_0.set_relic_mythic;

    if ( !isdefined( var_1 ) )
    {
        if ( var_0 scriptableisdoor() )
            var_1 = !var_0 scriptabledoorisclosed();
        else
        {
            var_2 = var_0 getscriptablepartstate( "_encstr_82F10BABC56DBB08A73BF7A0BA" );

            if ( isdefined( var_2 ) )
                var_1 = var_2 == "_encstr_B30B07E216CBFFC4C2";
        }
    }

    return var_1;
}

ammobox_tryuse( var_0, var_1 )
{
    var_0.set_relic_mythic = var_1;

    if ( var_0 scriptableisdoor() )
    {
        if ( var_1 )
            var_0 scriptabledoorclose();
        else
            var_0 constraintoscriptgoalradius();
    }
    else
    {
        var_2 = var_0 getscriptablepartstate( "_encstr_82F10BABC56DBB08A73BF7A0BA" );

        if ( isdefined( var_2 ) )
        {
            if ( var_1 )
                var_0 setscriptablepartstate( "_encstr_82F10BABC56DBB08A73BF7A0BA", "_encstr_B30B07E216CBFFC4C2" );
            else
                var_0 setscriptablepartstate( "_encstr_82F10BABC56DBB08A73BF7A0BA", "_encstr_9BC505B4461BB2" );
        }
    }
}

any_player_in_laststand( var_0 )
{
    var_1 = aigroundturret_dismountcompleted( var_0 );

    if ( isdefined( var_1 ) )
        ammobox_tryuse( var_0, !var_1 );
}

_id_12F64( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9, var_10 )
{
    if ( var_2.classname == "_encstr_8FA5224BFE5A601773BF8591C7A9DE68F2D49323E6B28045F9B3E78FA371AE10ACEBF8F8" )
        scriptable_used( var_2, "_encstr_A85C0726573AE8EDCD", "_encstr_BA8607FB63D77E281F", var_1, 0 );
}

scriptable_used( var_0, var_1, var_2, var_3, var_4 )
{
    if ( var_0.classname == "_encstr_8FA5224BFE5A601773BF8591C7A9DE68F2D49323E6B28045F9B3E78FA371AE10ACEBF8F8" )
    {
        if ( var_0.stack_patch_waittill_context == 1 )
            return;

        if ( isdefined( var_0.enabled ) && var_0.enabled == 0 )
        {
            if ( isdefined( var_0.light ) && var_0.light getscriptablepartstate( "_encstr_8BA90608F481F0DB" ) != "_encstr_A6AD09B320E17153CB247F" )
                var_0.light setscriptablepartstate( "_encstr_8BA90608F481F0DB", "_encstr_A6AD09B320E17153CB247F" );

            return;
        }

        var_5 = processcashpileovertimemultiplier( var_0 );

        foreach ( var_7 in var_5 )
        {
            var_2 = aigroundturret_dismountcompleted( var_7 );

            if ( !allassassin_initteamlist( var_7 ) )
            {
                ammobox_tryuse( var_7, !var_2 );

                if ( isdefined( var_0._id_12029 ) )
                    thread analytics_init( var_7, var_0._id_12029 );
            }
        }

        if ( var_5.size > 0 )
        {
            var_0 setscriptablepartstate( var_1, "_encstr_80F605B7390CF0" );

            if ( isdefined( var_0.light ) && var_0.light getscriptablepartstate( "_encstr_8BA90608F481F0DB" ) != "_encstr_B926090EBD9BB4D196D995" )
                var_0.light setscriptablepartstate( "_encstr_8BA90608F481F0DB", "_encstr_B926090EBD9BB4D196D995" );
        }
    }
}

_id_144CE()
{
    self endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );

    for (;;)
    {
        var_0 = scripts\engine\utility::getent_or_struct( "_encstr_A83F0FFEFCA7E7C798A1BB682730D1FD96", "_encstr_A8ED125A5723AF9B405770989B255F1FF3897A60" );

        if ( isdefined( var_0 ) )
        {
            var_0 waittill( "_encstr_8B5C081B58E0B7A213E6", var_1 );

            if ( var_1 == level.player )
                var_1 _id_12AB1();

            waitframe();
        }

        wait 0.05;
    }
}

_id_12AB1()
{
    if ( !isdefined( self.arena ) )
    {
        var_0 = _encstr_B47322A2CE6512F8030826172850A7DA0355EB582FE30B7F29E8EF37685099626DFCB256::playergetnextarena();
        self.arena = var_0;
    }

    if ( isalive( self ) && _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::updateinstantclassswapallowedinternal() )
        thread _encstr_B47322A2CE6512F8030826172850A7DA0355EB582FE30B7F29E8EF37685099626DFCB256::_id_12642( self, "_encstr_BA750691954CEA76" );
}
