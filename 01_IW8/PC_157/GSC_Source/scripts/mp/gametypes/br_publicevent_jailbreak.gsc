// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

init()
{
    var_0 = spawnstruct();
    var_0.weight = getdvarfloat( "_encstr_8AAD1BCD8D4EBE9893FA1C2BF59A2C966331E4590BDAF5DD954BCE1AA3", 1.0 );
    var_0._id_140CF = ::_id_140CF;
    var_0.attackerswaittime = ::attackerswaittime;
    var_0._id_14382 = ::_id_14382;
    var_0._id_11B78 = getdvarint( "_encstr_B2DA1E7B22DBA0189A5F193BB744D8730B8AD3216AC7F8287660BF01B9EDB0C6", 1 );
    var_0.guard_door_clip = _encstr_AABE29576EC6B050735F77CF1048B717235F431361220B27536397F30F76A840C21F1B3D9DAC0336276B5E::relic_squadlink_init_vfx( "_encstr_AF590AA6165AD89839ACB06D", "_encstr_A8F3278FB81A99E1AAAEB2BA97C699E136301F0F10C251297696AAC2CFFA51299E4897B7FD6A09711A" );
    _encstr_AABE29576EC6B050735F77CF1048B717235F431361220B27536397F30F76A840C21F1B3D9DAC0336276B5E::_id_12B35( 3, var_0 );
    game["_encstr_B8DA073D799798C7C7"]["_encstr_8C5F280AADDDDA4949D1A7E368802C53CF4AD6C49905F38DD14857E72819FF7A1BD0DFF1F7AFCBD91BD0"] = "_encstr_A9E526385DC41B5A36BEB2D9ACB93AB9BE35855AC689E4B20BADF5CDE82C271DAF96B9AD2C1D6C34";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_8A0D2C38BAC4D84B6CF556675673D137D7A92C2D6398C92B16B6BED2CDD8DED6B4B9CEF52C8D1DB43B2BD7588D8E"] = "_encstr_A6372483BAC4B1A58DD7566795734737BEA90BA5B1C4932B16B5BE371D859C1DFA588D969DB2";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_9BD6276B439662C9807ED71BD1731C6BE095B787C9CECBBDC8C04124A8505FC2430527E7B7EDF271D0"] = "_encstr_BC90242BD5E51D2FB00EBD0C15F6488FD1A047CC4980CB98E2DA39734809ABA3A9479DC857F4";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_A9EB2AC157C436966CBEB2D9ACCDD1E6AFA6B0968D13C959B0DAAF4BDC36BDADB4733BAF371C2BD83A0BD12B"] = "_encstr_BC2029192FDAC9486BD9B9D37F5E98FEA1CBB35323828EE0812CE64B2339E0B5595F31DB9FDA5898CC8789";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_A9E523385DC41B5A36BEB2D9ACB93AB9BE35855AC689E4B20BADF5B9DEEEF558B147A5CEAC"] = "_encstr_A90726F383689BDC6F67D2C6C878B0CE0930A1FAECF1629B4677C1626FE7CB98F12C56093113A1C8";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_B7F8275BF09D4DF721E8254E9DE8CBD2BFA0F242A075021F59EA175EA0139F9E6F28FA2B2BB7BE7313"] = "_encstr_B6DE22A3FD1D8551EFF11BE455EE9327E79BC8AB41A1365DB130E7F37D68D001501F94B2";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_A457226BC0AD7DC731F8353E8DF8FBC2AF50E272B005320FA9DA072E90E38F0F53F86A2A"] = "_encstr_A443229B731A85C241679F13553065302984925AC8DE3822634499D158ECA7E4FD59CB37";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_88F825C30B4A414B6F4E80B62575A34AD14A8F2F7D993BF2194747485093577B78221F33F9B082"] = "_encstr_9B3A291CAB138DB4D8AFACEC95CD3A6EF54D16A51B8993CAB0DAD74C2BD9B49BD756B14B6B4BB958E8CA23";
}

_id_140CF()
{
    var_0 = !_encstr_AD64266E6CE44B1CD19B97B53897D9B0B62B1DBC389537F2139CBE7658D6AC8E2F3895DC17B3DC8D::unset_relic_aggressive_melee( "_encstr_983208A298E56B0450A3" );
    var_1 = istrue( level.usegulag );
    return var_0 || var_1;
}

_id_14382()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    level endon( "_encstr_894314512A8386183577C1F3721DB05E9F820B194243" );
    var_0 = forest_combat();
    wait( var_0 );
}

attackerswaittime()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    _id_12217( 1 );
    _id_14370();
    _encstr_AABE29576EC6B050735F77CF1048B717235F431361220B27536397F30F76A840C21F1B3D9DAC0336276B5E::_id_13371( "_encstr_9C30192153506F629EE2CB13CDFEDBE8478F3F8BCBAEE8FFCA0DAF" );
    _id_1274A( "_encstr_894F098A68DFCDA7203067" );
    var_0 = getdvarfloat( "_encstr_952C1DE8FF0286AD43896FFD919AF308748368C05FA35E69DBEAEF7D74E225", 30.0 );
    var_1 = gettime() + var_0 * 1000;
    setomnvar( "_encstr_8CF81A57B4BE07BAC4C62D8D569DCACD3A7D8E4B5B9593FA8E5EC12B", 2 );
    setomnvar( "_encstr_884F157B3FE0E81566E8893E759B783DFBA783F3A81BFE", var_1 );
    var_2 = spawn( "_encstr_A3050EDF6FF5DC081CC1AFA37097B80B", ( 0, 0, 0 ) );
    var_2 hide();

    if ( var_0 > 5.0 )
    {
        wait( var_0 - 5.0 );

        for ( var_3 = 0; var_3 < 5; var_3++ )
        {
            var_2 playsound( "_encstr_88D3165D14C1F9EB360279EAFF170E7744CF2159C0BDA13B" );
            wait 1.0;
        }
    }

    _encstr_AABE29576EC6B050735F77CF1048B717235F431361220B27536397F30F76A840C21F1B3D9DAC0336276B5E::_id_13371( "_encstr_8952173A88A70A87E6326191D9A9139703E851829899049399" );
    _id_1274A( "_encstr_9819045B980B" );
    setomnvar( "_encstr_8CF81A57B4BE07BAC4C62D8D569DCACD3A7D8E4B5B9593FA8E5EC12B", 0 );
    var_2 delete();
    wait 1.0;
    _id_12CAD();
    _id_12217( 0 );
}

forest_combat()
{
    var_0 = getdvarfloat( "_encstr_B903226E1B4EAF3139D70EB2D74D164BD81327590BDA7D378E8593A3D15AD6B27DD64BDC", 795.0 );
    var_1 = getdvarfloat( "_encstr_950322CDC64EF54C93FA0E957D4DB05AB1139359C2B6AFCD1DB09CE847A5DA56F5ADC287", 1110.0 );

    if ( var_1 > var_0 )
        return randomfloatrange( var_0, var_1 );
    else
        return var_0;
}

_id_12217( var_0 )
{
    _encstr_B47322A2CE6512F8030826172850A7DA0355EB582FE30B7F29E8EF37685099626DFCB256::_id_12219( var_0 );
}

_id_14370()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    wait 1.0;

    for (;;)
    {
        if ( !_encstr_B47322A2CE6512F8030826172850A7DA0355EB582FE30B7F29E8EF37685099626DFCB256::calloutmarkerping_cp_setupcptimeouts() )
            break;

        waitframe();
    }
}

fix_badcover_atend( var_0 )
{
    var_1 = [];
    var_2 = isdefined( level.gulag ) && !istrue( level.gulag.shutdown );

    foreach ( var_4 in level.teamnamelist )
    {
        var_5 = level.teamdata[var_4]["_encstr_892A0BA3D3F25C4033ADD34893"] > 0;

        if ( var_0 )
            var_5 = level.teamdata[var_4]["_encstr_97580AC41D811F767F3072CB"] > 0;

        if ( var_5 )
        {
            foreach ( var_7 in level.teamdata[var_4]["_encstr_8875080E3685E52B93B9"] )
            {
                var_8 = var_2 && var_7 _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::updateinstantclassswapallowedinternal();

                if ( !isalive( var_7 ) && !var_8 )
                {
                    var_1[var_1.size] = var_7;
                    continue;
                }

                if ( isalive( var_7 ) && var_8 )
                    var_1[var_1.size] = var_7;
            }
        }
    }

    return var_1;
}

_id_12CAC()
{
    var_0 = isalive( self ) && isdefined( level.gulag ) && !istrue( level.gulag.shutdown ) && _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::updateinstantclassswapallowedinternal();

    if ( var_0 )
        thread _encstr_B47322A2CE6512F8030826172850A7DA0355EB582FE30B7F29E8EF37685099626DFCB256::vehicle_compass_cp_shouldbevisibletoplayer();
    else
        thread _encstr_B47322A2CE6512F8030826172850A7DA0355EB582FE30B7F29E8EF37685099626DFCB256::playergulagautowin( "_encstr_AF590AA6165AD89839ACB06D", undefined, undefined, 1, 1 );
}

_id_12CAD()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    var_0 = getdvarint( "_encstr_8A302B37369CEB3139F583B2EBA62C2D1B13C995165B7D2DCDD863AE19B2951B965B5A9B1647CA23A3952CDADC", 1 );
    var_1 = fix_badcover_atend( var_0 );

    foreach ( var_3 in var_1 )
    {
        if ( !isdefined( var_3 ) )
            continue;

        if ( var_0 )
            var_3 _id_12C78();

        var_3 thread _id_12CAC();
        waitframe();
    }
}

_id_12C78()
{
    self._id_12396 = undefined;
    self.emergency_cleanupents = undefined;
    self._id_128AF = undefined;
    self.dialog_wait_ready = undefined;
    self.br_spectatorinitialized = undefined;
    self setclientomnvar( "_encstr_9C4816ABD2D7C4E4EB1C1B2C97B2C97DE0DE9B2DE896BD9B", 155 );
    self setclientomnvar( "_encstr_B1011ED5190F399DA9B38B388ABF0F117BB15143669FA38B4F998880F39405A9", 0 );
    self setclientomnvar( "_encstr_88B313D55AFA9CEDAB3723BECA9B19BED1A5D1C656", 0 );
    self setclientomnvar( "_encstr_8B91149BA24F16507B4ED1AF6D65D048139A91C36A33", 0 );
}

_id_1274A( var_0 )
{
    var_1 = [];
    var_2 = [];
    var_3 = [];
    var_4 = isdefined( level.gulag ) && !istrue( level.gulag.shutdown );
    var_5 = getdvarint( "_encstr_8A302B37369CEB3139F583B2EBA62C2D1B13C995165B7D2DCDD863AE19B2951B965B5A9B1647CA23A3952CDADC", 1 );

    foreach ( var_7 in level.teamnamelist )
    {
        var_8 = level.teamdata[var_7]["_encstr_892A0BA3D3F25C4033ADD34893"] > 0;

        if ( var_5 )
            var_8 = level.teamdata[var_7]["_encstr_97580AC41D811F767F3072CB"] > 0;

        if ( var_8 )
        {
            foreach ( var_10 in level.teamdata[var_7]["_encstr_8875080E3685E52B93B9"] )
            {
                var_11 = var_4 && var_10 _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::updateinstantclassswapallowedinternal();

                if ( !isalive( var_10 ) && !var_11 )
                {
                    var_3[var_3.size] = var_10;
                    continue;
                }

                if ( isalive( var_10 ) && var_11 )
                {
                    var_2[var_2.size] = var_10;
                    continue;
                }

                if ( isalive( var_10 ) )
                    var_1[var_1.size] = var_10;
            }
        }
    }

    if ( var_1.size > 0 )
    {
        var_14 = scripts\engine\utility::ter_op( scripts\engine\utility::cointoss(), "_encstr_B44308F558D83AD2CEB2", "_encstr_B3850C0778B783582B5FD7D75DFB" );
        _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::brleaderdialog( "_encstr_BA3C190EAEC436B4D87D2B3B95B93ACDAFA65896C6264EAC58AD7D" + var_0 + var_14, 0, var_1, 1 );
    }

    if ( var_2.size > 0 )
    {
        var_15 = "_encstr_BC6807710FDD232A87";
        _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::brleaderdialog( "_encstr_BA3C190EAEC436B4D87D2B3B95B93ACDAFA65896C6264EAC58AD7D" + var_0 + var_15, 0, var_2, 1 );
    }

    if ( var_3.size > 0 )
    {
        var_16 = "_encstr_9E390AF19E0FAFE1137E5D97";
        _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::brleaderdialog( "_encstr_BA3C190EAEC436B4D87D2B3B95B93ACDAFA65896C6264EAC58AD7D" + var_0 + var_16, 0, var_3, 1 );
    }
}
