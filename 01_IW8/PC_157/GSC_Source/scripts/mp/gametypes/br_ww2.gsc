// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

#using_animtree("_encstr_93DC0DCD1B272D3847AF5BED23B2C6");

#using_animtree("_encstr_A40101");

_id_145EE()
{
    level.defend_wave_4 = getdvarint( "_encstr_98EA15532616F7BA62A03F1D09C61818AD40CA01726ABA", 0 );
    level.defenderflag_bflagstart = getdvarint( "_encstr_9B011F6B2906D18850DF886E690AA137BA617DA2909186B2158A69FAABB8509E23", 0 );
    level.defenderflag = getdvarint( "_encstr_B1CE12C7CF3EF162681EB77DF1C0A4EA8C79172F", 0 );
    level.delete_smoke_fx = getdvarint( "_encstr_8FBC23B39B40A7E13386D333EE215892AEF0609DD113333D7F72E329AAADF5918E1F07AA4B", 3 );
    level.delete_subway_car = getdvarint( "_encstr_B7C12507D0838FF23D707AB6C0C9FA756D48F7DB683BEC4A7BF0C321BBF5030533283F6B91302E", 45 );
    level.delete_structs_on_self_death = getdvarint( "_encstr_94C125A08FAB0F016ADF2A97C88C888595B8F2CE57066BD34F8D932057D594EA25A44758A12B6B", 60 );
    level.delete_starting_boxes = getdvarint( "_encstr_AF402193FFCA9F1142790A80780B4AADB33793811E4AB2396AC820B09A0B5D1E21A7C0", 1 );
    level.delete_trapfunc = getdvarint( "_encstr_BE1023C2AEC5D14A63C9F3C738D90FBAFD30CD3E072D9A9DA968E337F8F3ED52795B557776", 4 );
    level.delete_track = getdvarint( "_encstr_98BB23BF683B275A652812CEA86142AD85A05F730B53549293589B490E39BB666F48DB1F88", 500 );
    level._id_13B46 = getdvarfloat( "_encstr_9C062CCF92AB696360CAA2C88327779092D82D099B47454A41BF888E1067FF336701E35FAB2DDB87F128CE72876A", 500 );

    if ( level.defend_wave_4 )
    {
        level.scr_animtree["_encstr_8F440B8311F1ADF701116E9DF7"] = #animtree;
        level.scr_anim["_encstr_8F440B8311F1ADF701116E9DF7"]["_encstr_A4B70E9A279066973EE613DA0918AF9A"] = %_encstr_B66921930AFBF8E8D017ABDF51F108B8B7D2499B313B2810AE01AD532F29F8F117DBE1;
        level.scr_animname["_encstr_8F440B8311F1ADF701116E9DF7"]["_encstr_A4B70E9A279066973EE613DA0918AF9A"] = "_encstr_B66921930AFBF8E8D017ABDF51F108B8B7D2499B313B2810AE01AD532F29F8F117DBE1";
    }

    level thread _id_12800();
}

_id_12800()
{
    if ( level.defend_wave_4 )
    {
        level thread _encstr_B95329C32F1021012BCF6625125651D1906AD9A38367E67DEE1B3198F90573F30BCB390870DFB84E0AE2DE::dropcircle();

        if ( level.defenderflag )
            level thread _encstr_B95329C32F1021012BCF6625125651D1906AD9A38367E67DEE1B3198F90573F30BCB390870DFB84E0AE2DE::drones_spawning();
    }

    if ( level.defenderflag_bflagstart )
        level thread update_ai_array();

    if ( level.defenderflag_bflagstart && level.defend_wave_4 )
    {
        level thread scripts\mp\utility\sound::besttime( "_encstr_B92F13F51B866B50B26E8DC06989C0CB2AD8B7F2B3" );
        level thread _id_145EF();
    }
}

update_ai_array()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    level._id_123A7 = 1;

    while ( !isdefined( level.infilstruct ) )
        return;

    level waittill( "_encstr_AA580E0A8D91B6D74E1142DA7E263FAB", var_0 );
    level waittill( "_encstr_AA580E0A8D91B6D74E1142DA7E263FAB", var_0 );
    level thread _encstr_B95329C32F1021012BCF6625125651D1906AD9A38367E67DEE1B3198F90573F30BCB390870DFB84E0AE2DE::dropbrselfrevivetoken( 3, 2363, 45, 60 );
    level waittill( "_encstr_AA580E0A8D91B6D74E1142DA7E263FAB", var_0 );
    level waittill( "_encstr_AA580E0A8D91B6D74E1142DA7E263FAB", var_0 );
    level waittill( "_encstr_AA580E0A8D91B6D74E1142DA7E263FAB", var_0 );
    waitframe();
    level waittill( "_encstr_AA580E0A8D91B6D74E1142DA7E263FAB", var_0 );
    waitframe();
    level waittill( "_encstr_AA580E0A8D91B6D74E1142DA7E263FAB", var_0 );
    level._id_123A7 = 0;
}

_id_145EF()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    var_0 = spawn( "_encstr_93DC0DCD1B272D3847AF5BED23B2C6", ( 0, 0, 500 ) );
    var_0 setmodel( "_encstr_A92308AA4089B1AF916B" );
    waitframe();
    var_0 setscriptablepartstate( "_encstr_A219046FD17A", "_encstr_A6F710E101730A4B18DFBEF5871CC590323F" );
    level.weapon_xp_iw8_la_rpapa7 = var_0;
    var_0 = spawn( "_encstr_93DC0DCD1B272D3847AF5BED23B2C6", ( 0, 0, 500 ) );
    var_0 setmodel( "_encstr_A92308AA4089B1AF916B" );
    waitframe();
    var_0 setscriptablepartstate( "_encstr_A219046FD17A", "_encstr_8C9B05C458B959" );
    level.weapon_xp_iw8_lm_kilo121 = var_0;
}
