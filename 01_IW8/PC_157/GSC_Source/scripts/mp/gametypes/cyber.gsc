// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

main()
{
    if ( getdvar( "_encstr_9E700851BEE33DF1B547" ) == "_encstr_8A510E519897A1332E4A3898E243F5B9" )
        return;

    scripts\mp\globallogic::init();
    scripts\mp\globallogic::setupcallbacks();
    var_0[0] = scripts\mp\utility\game::getgametype();
    var_0[1] = "_encstr_A85908F249E84E372DEB";
    scripts\mp\gameobjects::main( var_0 );

    if ( isusingmatchrulesdata() )
    {
        level.initializematchrules = ::initializematchrules;
        [[ level.initializematchrules ]]();
        level thread scripts\mp\utility\game::reinitializematchrulesonmigration();
    }
    else
    {
        scripts\mp\utility\game::registerroundswitchdvar( scripts\mp\utility\game::getgametype(), 3, 0, 12 );
        scripts\mp\utility\game::registertimelimitdvar( scripts\mp\utility\game::getgametype(), 150 );
        scripts\mp\utility\game::registerscorelimitdvar( scripts\mp\utility\game::getgametype(), 1 );
        scripts\mp\utility\game::registerroundlimitdvar( scripts\mp\utility\game::getgametype(), 0 );
        scripts\mp\utility\game::registerwinlimitdvar( scripts\mp\utility\game::getgametype(), 4 );
        scripts\mp\utility\game::registernumlivesdvar( scripts\mp\utility\game::getgametype(), 1 );
        scripts\mp\utility\game::registerhalftimedvar( scripts\mp\utility\game::getgametype(), 0 );
        scripts\mp\utility\game::registerwinbytwoenableddvar( scripts\mp\utility\game::getgametype(), 1 );
        scripts\mp\utility\game::registerwinbytwomaxroundsdvar( scripts\mp\utility\game::getgametype(), 4 );
    }

    updategametypedvars();
    level.objectivebased = 1;
    level.teambased = 1;
    level.nobuddyspawns = 1;
    level.onprecachegametype = ::onprecachegametype;
    level.onstartgametype = ::onstartgametype;
    level.getspawnpoint = ::getspawnpoint;
    level.modeonspawnplayer = ::onspawnplayer;
    level.onplayerkilled = ::onplayerkilled;
    level.ondeadevent = ::ondeadevent;
    level.ononeleftevent = ::ononeleftevent;
    level.ontimelimit = ::ontimelimit;
    level.onnormaldeath = ::onnormaldeath;
    level.gamemodemaydropweapon = scripts\mp\utility\game::isplayeroutsideofanybombsite;
    level.onexfilstarted = ::onexfilstarted;
    level.resetuiomnvargamemode = _encstr_9D04262397C00C9B650B9EA273100FC6C073BCA109D0D29E8001C289D9187F7ED0FF2E05DD981A67::resetuiomnvargamemode;
    level.emplightsoff = ::emplightsoff;
    level.allowlatecomers = 0;
    level.bombplanted = 0;
    level.bombplantedteam = undefined;
    level.bombexploded = 0;
    game["_encstr_A33F0EC60B37A96CB7392BD3CD452D2B"] = 1;
    game["_encstr_B8DA073D799798C7C7"]["_encstr_B1F9099AC15967EB30E16D"] = "_encstr_A8AF153269F1DF5398B90537B7B01E07A681FB8BF15EAF";

    if ( getdvarint( "_encstr_B8020A9E9AA69A6292517AA0" ) )
        game["_encstr_B8DA073D799798C7C7"]["_encstr_B1F9099AC15967EB30E16D"] = "_encstr_891904A1D8BE" + game["_encstr_B8DA073D799798C7C7"]["_encstr_B1F9099AC15967EB30E16D"];
    else if ( getdvarint( "_encstr_93570B93F4A9629272A825B426" ) )
        game["_encstr_B8DA073D799798C7C7"]["_encstr_B1F9099AC15967EB30E16D"] = "_encstr_889708C9D0E7EBE819D9" + game["_encstr_B8DA073D799798C7C7"]["_encstr_B1F9099AC15967EB30E16D"];

    if ( !isdefined( game["_encstr_8AC30D9CDEBA73466E41B1585E568C"] ) )
        var_1 = "_encstr_870B12E15A171EA349FB634DE5EA606583525948";
    else
        var_1 = "_encstr_BA4D1826DBF69B47F5C69731ACC916A3D1B036ADD7CD347B393A";

    game["_encstr_B8DA073D799798C7C7"]["_encstr_9E240C10CE33016D6AEA39B0F244"] = var_1;
    game["_encstr_B8DA073D799798C7C7"]["_encstr_B3420C3D576AC3C8736F09906BB2"] = var_1;
    game["_encstr_B8DA073D799798C7C7"]["_encstr_BD5613BD609B61501B5B28474FD4753B0FCEADC48F"] = "_encstr_BD5613BD609B61501B5B28474FD4753B0FCEADC48F";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_8F7619EA38234178DFDF0B6341247D218F7021E14BF9C533829FFB"] = "_encstr_8F7619EA38234178DFDF0B6341247D218F7021E14BF9C533829FFB";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_81A4107759B3F22B0260D3BB215018BFB248"] = "_encstr_81A4107759B3F22B0260D3BB215018BFB248";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_B3861473189181D92F1F67D55F315893239DD255807B"] = "_encstr_B3861473189181D92F1F67D55F315893239DD255807B";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_93B71AC9BDCF186D13E8B73809578A48B0FF40E7954023ADED384C08"] = "_encstr_93B71AC9BDCF186D13E8B73809578A48B0FF40E7954023ADED384C08";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_B9D6117B07B38590A69BA379C7B7D8C85AAFDB"] = "_encstr_B9D6117B07B38590A69BA379C7B7D8C85AAFDB";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_8C5C174FA1F95A45E980FFAF60A63EF2ADCF95491D1D8285D2"] = "_encstr_8C5C174FA1F95A45E980FFAF60A63EF2ADCF95491D1D8285D2";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_8FE514BD0358C2535720B3AA89A083BA788B3E04A948"] = "_encstr_8FE514BD0358C2535720B3AA89A083BA788B3E04A948";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_8FC811B25B0E1C8DB0DCE8B219BE9573ACDAE5"] = "_encstr_8FC811B25B0E1C8DB0DCE8B219BE9573ACDAE5";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_AFC70A63CA5846FAB17BE647"] = "_encstr_AFBA0505631CA3";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_8CE60B63CA58C8AF3A2CAD2BCD"] = "_encstr_AFBA0505631CA3";
    setomnvar( "_encstr_B15A10ED237E1B55539089426085CAEF9116", -1 );
    setomnvar( "_encstr_89AD13879AB76248D52E5F1F27F06BF3C1A3B39135", -1 );
    setomnvar( "_encstr_A13114956B36530D0BD8312AC041C75BA9C61C3170D9", 0 );
    setomnvar( "_encstr_9E0418AED2F54CF6DA4CAF1DA55BCA9CBEACDC46A3965BCAEBB0", 0 );
}

initializematchrules()
{
    scripts\mp\utility\game::setcommonrulesfrommatchrulesdata();
    setdynamicdvar( "_encstr_BDA21353D95A39BFE24D25F839D5CDE8AF81F2FFF5", getmatchrulesdata( "_encstr_9DE40A41BBA395B00F79F9CB", "_encstr_88E4096365E8472342A84A" ) );
    setdynamicdvar( "_encstr_AD6A1843F642C986ABCB83B52743DF58E90AAB985DBF484BC2BF", getmatchrulesdata( "_encstr_9DE40A41BBA395B00F79F9CB", "_encstr_8BE50E3B33DDFA9A61F04D174FF0DDF2" ) );
    setdynamicdvar( "_encstr_A2C1189B8D9CAF6CBC26AC9CD7079539B94C7BB5C4A3D2DA5939", getmatchrulesdata( "_encstr_9DE40A41BBA395B00F79F9CB", "_encstr_957A0E906D9317460FA0E2F9F873C75B" ) );
    setdynamicdvar( "_encstr_BE2E187BB64B7F260BE0BAC321199F6B40A8F1F4DD33C7EDC520", getmatchrulesdata( "_encstr_9DE40A41BBA395B00F79F9CB", "_encstr_B7E90E67D1D81792DF81F71797F01B55" ) );
    setdynamicdvar( "_encstr_B99C18F346D259163B3B7325B782E8C0955899896E3C18597217", getmatchrulesdata( "_encstr_BE700D1BDB5BB5DEDCD31C3AA5B7CD", "_encstr_9F3F0ECACDCA6BCB882B16A30D89DE6C" ) );
    setdynamicdvar( "_encstr_87BA14DF5BAAC99ECF02B15BF98B408046A4136BC512", getmatchrulesdata( "_encstr_B9ED09156F02E6F981FBC1", "_encstr_A12A0A56BDB2A5D731E760D0" ) );
    setdynamicdvar( "_encstr_A4C41443F873E99F205AC96AE7FBB4D6FD5C1C0463EF", getmatchrulesdata( "_encstr_B9ED09156F02E6F981FBC1", "_encstr_B6980AABC86B3D731723FDED" ) );
    setdynamicdvar( "_encstr_89921537B19C7D6C974CCA937D322B99BAB9B23A96D656", getmatchrulesdata( "_encstr_B9ED09156F02E6F981FBC1", "_encstr_8FB30B465699AE6E95A8B4DA95" ) );
    setdynamicdvar( "_encstr_A9421466832B0E2FB0D2D090F94DCBA0EB2166D01503", getmatchrulesdata( "_encstr_B9ED09156F02E6F981FBC1", "_encstr_A34D0AD6BA361DB424F6ADC4" ) );
    setdynamicdvar( "_encstr_899A1B382FD2765F03163546A15BB1B83F2F5830BF818D139B3A3BC5C2", getmatchrulesdata( "_encstr_870E0A4EB993E21BA543ABF7", "_encstr_A63F119BA1DB77A8E62BD6BC34589CE4B42B93" ) );
    setdynamicdvar( "_encstr_A940183A560D1993DAE897C3E9304CF28B6607B2CD79E1D160C8", getmatchrulesdata( "_encstr_870E0A4EB993E21BA543ABF7", "_encstr_82FA0EC1D4108105B9FEC974ACBB42E7" ) );
    setdynamicdvar( "_encstr_BCD0159B52E3C7721B0A1D1BA958AC29C84BAAC9F00A87", getmatchrulesdata( "_encstr_870E0A4EB993E21BA543ABF7", "_encstr_95460B6B40DEDF2BF829E1FD53" ) );
    setdynamicdvar( "_encstr_B762136EC69CEBC62FC45993EBA15836CCE84B6B2B", 0 );
    scripts\mp\utility\game::registerhalftimedvar( "_encstr_B9F906A857D2014D", 0 );
}

waittooverridegraceperiod()
{
    scripts\mp\flags::gameflagwait( "_encstr_989F0E38272BD6161DB143F532BDDC2B" );
    level.overrideingraceperiod = 1;
}

onprecachegametype()
{
    game["_encstr_BE9B133BC818DA4909FE15CAE723B25F6360FF8368"] = "_encstr_9B6F165B83F5DD1693EBF626A6561B1D5ACE2BEBB1B7E6A3";
    game["_encstr_982A154CDEAD89D7E4B2C67B67CA932B91D7DCF657B98C"] = "_encstr_8FED17AD1CEBDD169CBEBD26A695C63A5A9DACAF3A0B5BB2E6";
}

onstartgametype()
{
    if ( !isdefined( game["_encstr_A6D60EE09BF413B9945185CB4797C583"] ) )
        game["_encstr_A6D60EE09BF413B9945185CB4797C583"] = 0;

    if ( game["_encstr_A6D60EE09BF413B9945185CB4797C583"] )
    {
        var_0 = game["_encstr_941C0A6AF345075ED05BEAD3"];
        var_1 = game["_encstr_95A70AA81FEE295D3A2F56DE"];
        game["_encstr_941C0A6AF345075ED05BEAD3"] = var_1;
        game["_encstr_95A70AA81FEE295D3A2F56DE"] = var_0;
    }

    setclientnamemode( "_encstr_AA070E5BC237BA2C637D361A5837B395" );
    level._effect["_encstr_A6160FACDA0ED791ACA3B7370BE82DDBDC"] = loadfx( "_encstr_A96C30A4C643407B733741A8CB1D2BC32F612F915DF3D32FDF4A30B28367E9DEC71DB7AFBD7738E589A2C8D8CB3B0DB333A0" );
    level._effect["_encstr_ADF6124C2FF2A30104F7A178AB30B8F72B5448D8"] = loadfx( "_encstr_94452E933ABBC048953A8B6755389839BEC348F9020330382F089BF774A719754B8BE0A01BAF50B049169BC72E4B9843" );
    level._effect["_encstr_9F9013C9EB9311C4CC35FF507D1B6F18F04BEBBA88"] = loadfx( "_encstr_95F42BB399879796EE9B5EAFE456B8AEB26E1DE65E6B0E5E9D331E7D235698BA3BAFBBC24EB92DDC3B8B3B66E1" );
    scripts\mp\utility\game::setobjectivetext( game["_encstr_941C0A6AF345075ED05BEAD3"], &"_encstr_9F6817C52EED0BAE8979219DE7BE2BC13716C391612F8A077A" );
    scripts\mp\utility\game::setobjectivetext( game["_encstr_95A70AA81FEE295D3A2F56DE"], &"_encstr_8B1B17D348A415684594652AD4BC4D227D445164A29C228A49" );

    if ( level.splitscreen )
    {
        scripts\mp\utility\game::setobjectivescoretext( game["_encstr_941C0A6AF345075ED05BEAD3"], &"_encstr_9F6817C52EED0BAE8979219DE7BE2BC13716C391612F8A077A" );
        scripts\mp\utility\game::setobjectivescoretext( game["_encstr_95A70AA81FEE295D3A2F56DE"], &"_encstr_8B1B17D348A415684594652AD4BC4D227D445164A29C228A49" );
    }
    else
    {
        scripts\mp\utility\game::setobjectivescoretext( game["_encstr_941C0A6AF345075ED05BEAD3"], &"_encstr_88481D30D155EFB73F0BFEE53E68CF67D7510979219FD4E79768E3DBD82F5F" );
        scripts\mp\utility\game::setobjectivescoretext( game["_encstr_95A70AA81FEE295D3A2F56DE"], &"_encstr_9DFD1D37A3080DA9ECEC0F6502CF71D5F103ABBD57B04551C271D7BD3D5A09" );
    }

    scripts\mp\utility\game::setobjectivehinttext( game["_encstr_941C0A6AF345075ED05BEAD3"], &"_encstr_88AF1C3D90525168A2A4B28AA6CBD4887D0551451486B4A229EB4292C9A8" );
    scripts\mp\utility\game::setobjectivehinttext( game["_encstr_95A70AA81FEE295D3A2F56DE"], &"_encstr_974F1C47D3787DF9BCBC3F55D23F8105C153DBED6760B5819201E42C8D6C" );
    cyberattack();
    initspawns();
    thread _id_13862();
    thread waittooverridegraceperiod();
    setupwaypointicons();
}

updategametypedvars()
{
    _encstr_88EA20CDD8932D38E8B9CB5BC1BCD985D6AC47E58395CD5ED8F6B6B5DBDCE2B3378D::updatecommongametypedvars();
    level.empspawnindex = scripts\mp\utility\dvars::dvarintvalue( "_encstr_88E4096365E8472342A84A", 0, 0, 4 );
    level.radarpingtime = 4;
    level.persbombtimer = scripts\mp\utility\dvars::dvarintvalue( "_encstr_957A0E906D9317460FA0E2F9F873C75B", 0, 0, 1 );
    level.detonatescore = scripts\mp\utility\dvars::dvarintvalue( "_encstr_B7E90E67D1D81792DF81F71797F01B55", 1, 0, 5 );
    level.bombtimer = scripts\mp\utility\dvars::dvarfloatvalue( "_encstr_A12A0A56BDB2A5D331E760D0", 30, 1, 300 );
    level.planttime = scripts\mp\utility\dvars::dvarfloatvalue( "_encstr_B6980AABC86B3D731323FDED", 1, 0, 20 );
    level.defusetime = scripts\mp\utility\dvars::dvarfloatvalue( "_encstr_8FB30B465699AE6E95E8B4DA95", 1, 0, 20 );
    level.multibomb = scripts\mp\utility\dvars::dvarintvalue( "_encstr_A34D0AD6BA361DB426F6ADC4", 0, 0, 1 );
    level.showenemycarrier = scripts\mp\utility\dvars::dvarintvalue( "_encstr_A63F119BA1DB77A8E62BD6BC34589CE4B42B93", 5, 0, 6 );
    level.idleresettime = scripts\mp\utility\dvars::dvarfloatvalue( "_encstr_82FA0EC1D4108105B9FEC974ACBB42E7", 0, 0, 60 );
    level.pickuptime = scripts\mp\utility\dvars::dvarfloatvalue( "_encstr_95460B6B40DEDF2BF829E1FD53", 0, 0, 10 );
}

initspawns()
{
    level.spawnmins = ( 0, 0, 0 );
    level.spawnmaxs = ( 0, 0, 0 );
    scripts\mp\spawnlogic::addspawnpoints( game["_encstr_941C0A6AF345075ED05BEAD3"], "_encstr_B78016DD974627F865B0B379189936BF98E8594421286702" );
    scripts\mp\spawnlogic::addspawnpoints( game["_encstr_95A70AA81FEE295D3A2F56DE"], "_encstr_B78014DD974627F865B0B379189936BF98E85950A36B" );
    var_0 = scripts\mp\spawnlogic::getspawnpointarray( "_encstr_B78016DD974627F865B0B379189936BF98E8594421286702" );
    var_1 = scripts\mp\spawnlogic::getspawnpointarray( "_encstr_B78014DD974627F865B0B379189936BF98E85950A36B" );
    scripts\mp\spawnlogic::registerspawnset( "_encstr_9303101723E2CE585F5E839B464B688D6B97", var_0 );
    scripts\mp\spawnlogic::registerspawnset( "_encstr_BCE3103F7B31CAABEE0D8876AF80C2370B23", var_1 );
    scripts\mp\spawnlogic::addspawnpoints( "_encstr_BC850785638DA59537", "_encstr_BAE60DC0F1113B034B5153D149572B" );
    scripts\mp\spawnlogic::addspawnpoints( "_encstr_BA840579D3F7F6", "_encstr_BAE60DC0F1113B034B5153D149572B" );

    if ( scripts\mp\utility\game::getgametypenumlives() != 1 )
    {
        assignteamspawns();
        level.introcinematic["_encstr_BC850785638DA59537"] = "_encstr_BC850785638DA59537";
        level.introcinematic["_encstr_BA840579D3F7F6"] = "_encstr_BA840579D3F7F6";
        scripts\mp\spawnlogic::registerspawnset( "_encstr_BC850785638DA59537", level.teamspawnpoints["_encstr_BC850785638DA59537"] );
        scripts\mp\spawnlogic::registerspawnset( "_encstr_BA840579D3F7F6", level.teamspawnpoints["_encstr_BA840579D3F7F6"] );
        scripts\mp\spawnlogic::registerspawnset( "_encstr_9BA4080D39CFFB5AB7C1", level.teamspawnpoints["_encstr_9BA4080D39CFFB5AB7C1"] );
    }

    level.mapcenter = scripts\mp\spawnlogic::findboxcenter( level.spawnmins, level.spawnmaxs );
    setmapcenter( level.mapcenter );
}

getspawnpoint()
{
    scripts\mp\spawnlogic::setactivespawnlogic( "_encstr_89EF0BF349A83A7B06BBAAB3CD", "_encstr_939A0D8DC347E521C7B50503CDB5A3" );
    var_0 = self.pers["_encstr_89EF05D46BA8FD"];

    if ( scripts\mp\utility\game::getgametypenumlives() != 1 )
    {
        if ( scripts\mp\spawnlogic::shoulduseteamstartspawn() )
        {
            if ( var_0 == game["_encstr_941C0A6AF345075ED05BEAD3"] )
            {
                scripts\mp\spawnlogic::activatespawnset( "_encstr_9303101723E2CE585F5E839B464B688D6B97", 1 );
                var_1 = scripts\mp\spawnlogic::getspawnpoint( self, var_0, undefined, "_encstr_9303101723E2CE585F5E839B464B688D6B97" );
            }
            else
            {
                scripts\mp\spawnlogic::activatespawnset( "_encstr_BCE3103F7B31CAABEE0D8876AF80C2370B23", 1 );
                var_1 = scripts\mp\spawnlogic::getspawnpoint( self, var_0, undefined, "_encstr_BCE3103F7B31CAABEE0D8876AF80C2370B23" );
            }
        }
        else
            var_1 = scripts\mp\spawnlogic::getspawnpoint( self, var_0, level.introcinematic[var_0], "_encstr_9BA4080D39CFFB5AB7C1" );
    }
    else if ( var_0 == game["_encstr_941C0A6AF345075ED05BEAD3"] )
    {
        scripts\mp\spawnlogic::activatespawnset( "_encstr_9303101723E2CE585F5E839B464B688D6B97", 1 );
        var_1 = scripts\mp\spawnlogic::getspawnpoint( self, var_0, undefined, "_encstr_9303101723E2CE585F5E839B464B688D6B97" );
    }
    else
    {
        scripts\mp\spawnlogic::activatespawnset( "_encstr_BCE3103F7B31CAABEE0D8876AF80C2370B23", 1 );
        var_1 = scripts\mp\spawnlogic::getspawnpoint( self, var_0, undefined, "_encstr_BCE3103F7B31CAABEE0D8876AF80C2370B23" );
    }

    return var_1;
}

assignteamspawns()
{
    level.spawnnodetype = "_encstr_BAE60DC0F1113B034B5153D149572B";
    var_0 = scripts\mp\spawnlogic::getspawnpointarray( level.spawnnodetype );
    var_1 = scripts\mp\spawnlogic::ispathdataavailable();
    level.teamspawnpoints["_encstr_BA840579D3F7F6"] = [];
    level.teamspawnpoints["_encstr_BC850785638DA59537"] = [];
    level.teamspawnpoints["_encstr_9BA4080D39CFFB5AB7C1"] = [];

    if ( level.objectives.size == 2 )
    {
        var_2 = level.objectives["_encstr_BA840579D3F7F6"];
        var_3 = level.objectives["_encstr_BC850785638DA59537"];
        var_4 = ( var_2.curorigin[0], var_2.curorigin[1], 0 );
        var_5 = ( var_3.curorigin[0], var_3.curorigin[1], 0 );
        var_6 = var_5 - var_4;
        var_7 = length2d( var_6 );

        foreach ( var_9 in var_0 )
        {
            var_10 = ( var_9.origin[0], var_9.origin[1], 0 );
            var_11 = var_10 - var_4;
            var_12 = vectordot( var_11, var_6 );
            var_13 = var_12 / ( var_7 * var_7 );

            if ( var_13 < 0.33 )
            {
                var_9.teambase = var_2.ownerteam;
                level.teamspawnpoints[var_9.teambase][level.teamspawnpoints[var_9.teambase].size] = var_9;
                continue;
            }

            if ( var_13 > 0.67 )
            {
                var_9.teambase = var_3.ownerteam;
                level.teamspawnpoints[var_9.teambase][level.teamspawnpoints[var_9.teambase].size] = var_9;
                continue;
            }

            var_14 = undefined;
            var_15 = undefined;

            if ( var_1 )
                var_14 = getpathdist( var_9.origin, var_2.curorigin, 999999 );

            if ( isdefined( var_14 ) && var_14 != -1 )
                var_15 = getpathdist( var_9.origin, var_3.curorigin, 999999 );

            if ( !isdefined( var_15 ) || var_15 == -1 )
            {
                var_14 = distance2d( var_2.curorigin, var_9.origin );
                var_15 = distance2d( var_3.curorigin, var_9.origin );
            }

            var_16 = max( var_14, var_15 );
            var_17 = min( var_14, var_15 );
            var_18 = var_17 / var_16;

            if ( var_18 > 0.5 )
                level.teamspawnpoints["_encstr_9BA4080D39CFFB5AB7C1"][level.teamspawnpoints["_encstr_9BA4080D39CFFB5AB7C1"].size] = var_9;
        }
    }
    else
    {
        foreach ( var_9 in var_0 )
        {
            var_9.teambase = reset_doors( var_9 );

            if ( var_9.teambase == "_encstr_BA840579D3F7F6" )
            {
                level.teamspawnpoints["_encstr_BA840579D3F7F6"][level.teamspawnpoints["_encstr_BA840579D3F7F6"].size] = var_9;
                continue;
            }

            level.teamspawnpoints["_encstr_BC850785638DA59537"][level.teamspawnpoints["_encstr_BC850785638DA59537"].size] = var_9;
        }
    }
}

reset_doors( var_0 )
{
    var_1 = scripts\mp\spawnlogic::ispathdataavailable();
    var_2 = undefined;
    var_3 = undefined;

    foreach ( var_5 in level.objectives )
    {
        var_6 = undefined;

        if ( var_1 )
            var_6 = getpathdist( var_0.origin, var_5.curorigin, 999999 );

        if ( !isdefined( var_6 ) || var_6 == -1 )
            var_6 = distancesquared( var_5.curorigin, var_0.origin );

        if ( !isdefined( var_2 ) || var_6 < var_3 )
        {
            var_2 = var_5;
            var_3 = var_6;
        }
    }

    return scripts\mp\utility\game::getotherteam( var_2.ownerteam )[0];
}

cyberattack()
{
    var_0 = getentarray( "_encstr_BE8D161BBC895639FAB26B83BE835AD8D6D538AF8E394BCE", "_encstr_B8CE0BE43FC317DF690862BA48" );

    if ( var_0.size == 0 )
    {
        scripts\engine\utility::error( "_encstr_BC2A5726D061EF5E9D786BB110EB3A67034B938B75B3D78B6520223E80EDB44F59250A2B27D94F9375A05EA278A1ED0F53382080A9C1BFDA1B9A427BC8F963E3287EA83CB0C1532433B2AA72685B5D7A21ED63A9DCD05FEA7D" );
        return;
    }

    if ( level.empspawnindex == 3 )
    {
        if ( isdefined( game["_encstr_88E4096365E8472342A84A"] ) )
        {
            var_1 = [ 0, 1, 2 ];
            var_1 = scripts\engine\utility::array_remove( var_1, game["_encstr_88E4096365E8472342A84A"] );
            level.empspawnindex = scripts\engine\utility::random( var_1 );
            game["_encstr_88E4096365E8472342A84A"] = level.empspawnindex;
        }
        else
        {
            level.empspawnindex = randomintrange( 0, 3 );
            game["_encstr_88E4096365E8472342A84A"] = level.empspawnindex;
        }
    }

    if ( level.empspawnindex == 4 )
    {
        if ( isdefined( game["_encstr_88E4096365E8472342A84A"] ) )
        {
            level.empspawnindex = game["_encstr_88E4096365E8472342A84A"] + 1;

            if ( level.empspawnindex == 3 )
                level.empspawnindex = 0;

            game["_encstr_88E4096365E8472342A84A"] = level.empspawnindex;
        }
        else
        {
            level.empspawnindex = 0;
            game["_encstr_88E4096365E8472342A84A"] = level.empspawnindex;
        }
    }

    var_2 = var_0[level.empspawnindex];
    var_3 = getentarray( "_encstr_809B0A226F7682E0473F73D2", "_encstr_B8CE0BE43FC317DF690862BA48" );
    var_4[0] = var_3[level.empspawnindex];

    if ( !isdefined( var_4[0] ) )
    {
        scripts\engine\utility::error( "_encstr_A3A74FF88F62891B76A268F95A4DC129F72B6ED3085B766B1D9AD86826A787DB2BD4DF5B7EB2F8BB8226EA91FA3F53D37F3876CDCF5A83912C9BE2B8A2862108D7A0894D3617484957C240681A2DCB0322" );
        return;
    }

    var_4[0] setmodel( "_encstr_9CB00FEDCC994385738CEBDDB5FAB26B38" );
    var_4[0].origin = var_4[0].origin;
    var_5 = var_4[0].origin + ( 0, 0, 32 );
    var_6 = var_4[0].origin + ( 0, 0, -100 );
    var_7 = scripts\engine\trace::create_contents( 1, 1, 1, 1, 1, 1, 1 );
    var_8 = [ var_4[0] ];
    var_9 = scripts\engine\trace::ray_trace( var_5, var_6, var_8, var_7 );

    if ( var_9["_encstr_B130095358E1B3930B687D"] < 1 )
        var_4[0].origin = var_9["_encstr_B7260923C89E8F3378E72E"] + ( 0, 0, 2 );

    var_4[0].angles = vectortoangles( var_9["_encstr_930E073E8FC00DDF69"] ) + ( 180, 0, 0 );

    for ( var_10 = 0; var_10 < var_3.size; var_10++ )
    {
        if ( var_10 == level.empspawnindex )
            continue;

        var_3[var_10] delete();
    }

    var_2 enablelinkto();
    var_2 linkto( var_4[0] );
    var_2.no_moving_platfrom_unlink = 1;
    var_2.linktoenabledflag = 1;
    var_2.baseorigin = var_2.origin;
    var_2.no_moving_platfrom_unlink = 1;

    if ( !level.multibomb )
    {
        level.cyberemp = scripts\mp\gameobjects::createcarryobject( "_encstr_9BA4080D39CFFB5AB7C1", var_2, var_4, ( 0, 0, 16 ), undefined, 1 );
        level.cyberemp.cancontestclaim = 1;
        level.cyberemp.stalemate = 0;
        level.cyberemp.wasstalemate = 1;
        level.cyberemp scripts\mp\gameobjects::allowuse( "_encstr_BC19047780DA" );
        level.cyberemp.curprogress = 0;
        level.cyberemp.usetime = 0.05;
        level.cyberemp.userate = 1;
        level.cyberemp.id = "_encstr_A40101";
        level.cyberemp.exclusiveuse = 0;
        level.cyberemp.skiptouching = 1;
        level.cyberemp.skipminimapids = 1;
        level.cyberemp.onuse = ::emptriggerholdonuse;
        level.cyberemp.trigger setcursorhint( "_encstr_939A0CEC70DBF521459F5B47F73D" );
        level.cyberemp.trigger sethintstring( &"_encstr_878312D40597A25314EB0A291A5AAA28D7AAD4A2" );
        level.cyberemp.trigger setusepriority( -3 );
        level.cyberemp scripts\mp\gameobjects::setusetime( level.cyberemp.usetime );
        level.cyberemp scripts\mp\gameobjects::setwaitweaponchangeonuse( 0 );
        level.cyberemp.allowweapons = 1;
        level.cyberemp.onpickup = ::onpickup;
        level.cyberemp.ondrop = ::ondrop;
        level.cyberemp.firstpickup = 1;
        level thread empsitewatcher();
        level.bombrespawnpoint = level.cyberemp.visuals[0].origin;
        level.bombrespawnangles = level.cyberemp.visuals[0].angles;
        level.cyberemp.visualgroundoffset = ( 0, 0, 2 );
    }
    else
    {
        var_2 delete();
        var_4[0] delete();
    }

    if ( !isdefined( getent( "_encstr_AFD21372888567F3DE9D45502AE0BBAF57D04B2A30", "_encstr_B8CE0BE43FC317DF690862BA48" ) ) )
    {
        scripts\engine\utility::error( "_encstr_82BF53B5BF094B43222B3EB0E00A837D18E31D27034B582309798B49C1ACFAEA011DB7ABBA02522CA8C602B18022A199E8EB304A25B2D88D8430F3B8432FAA68F7A2338157E055E723AD855A1B4B67593828F03680" );
        return;
    }

    if ( !isdefined( getent( "_encstr_8C7915D2CAD67F7209336D78E560BDA790619AAA503D6F", "_encstr_B8CE0BE43FC317DF690862BA48" ) ) )
    {
        scripts\engine\utility::error( "_encstr_898F5572B7801BE5C459C9D72B6B834FB7E6ACEB2CD8D8D295E6013AE4B4B39D2BE41099DE57732380A5E6105B8538C510141BCAC2B9560813D59D02D10D96CD8047ED40D1D0CA0236ACEC56D80291B2B92D3BB9B29CC5" );
        return;
    }

    if ( !isdefined( getent( "_encstr_8BBB1606C1331125119AB85811F733C9C7539D903183586F", "_encstr_B8CE0BE43FC317DF690862BA48" ) ) )
    {
        scripts\engine\utility::error( "_encstr_877D56C9ED081B9789564EBE95B50E7D23B266EAB995EB2C1E2DB9403A4ED23BD995C940CCDBEACD23802D7340AD58387140418D592CB9CA0113BA3B01D11A96B9408EDE4047A1B2041B95EC598D0832AC37A53B9B599317" );
        return;
    }

    if ( !isdefined( getent( "_encstr_81DD18365E312BC9F5ACD683AF8C59CC57372BBE168D635AACDC", "_encstr_B8CE0BE43FC317DF690862BA48" ) ) )
    {
        scripts\engine\utility::error( "_encstr_B6DF5864E7994641EB7F357055ED13970BA7F0A5CE41A059BC08D1F3474A4512F0271CB22B4F05C837D8971689BE99212BFAE896511CCD9663296F3335D44EA948E863B070802613CB4788A1CB35EA715177CF635B8F15F55225" );
        return;
    }

    if ( game["_encstr_A6D60EE09BF413B9945185CB4797C583"] )
    {
        level.objectives["_encstr_BC850785638DA59537"] = createbombzone( "_encstr_BC850785638DA59537", getent( "_encstr_AFD21372888567F3DE9D45502AE0BBAF57D04B2A30", "_encstr_B8CE0BE43FC317DF690862BA48" ), getent( "_encstr_8BBB1606C1331125119AB85811F733C9C7539D903183586F", "_encstr_B8CE0BE43FC317DF690862BA48" ) );
        level.objectives["_encstr_BA840579D3F7F6"] = createbombzone( "_encstr_BA840579D3F7F6", getent( "_encstr_8C7915D2CAD67F7209336D78E560BDA790619AAA503D6F", "_encstr_B8CE0BE43FC317DF690862BA48" ), getent( "_encstr_81DD18365E312BC9F5ACD683AF8C59CC57372BBE168D635AACDC", "_encstr_B8CE0BE43FC317DF690862BA48" ) );
    }
    else
    {
        level.objectives["_encstr_BC850785638DA59537"] = createbombzone( "_encstr_BC850785638DA59537", getent( "_encstr_8C7915D2CAD67F7209336D78E560BDA790619AAA503D6F", "_encstr_B8CE0BE43FC317DF690862BA48" ), getent( "_encstr_81DD18365E312BC9F5ACD683AF8C59CC57372BBE168D635AACDC", "_encstr_B8CE0BE43FC317DF690862BA48" ) );
        level.objectives["_encstr_BA840579D3F7F6"] = createbombzone( "_encstr_BA840579D3F7F6", getent( "_encstr_AFD21372888567F3DE9D45502AE0BBAF57D04B2A30", "_encstr_B8CE0BE43FC317DF690862BA48" ), getent( "_encstr_8BBB1606C1331125119AB85811F733C9C7539D903183586F", "_encstr_B8CE0BE43FC317DF690862BA48" ) );
    }

    level notify( "_encstr_9EFC18B023F9D949DA51474136F393031FE7B8188B99501BF3C0" );
    level.objectives["_encstr_BA840579D3F7F6"] thread data_center_sfx_loop();
    level.objectives["_encstr_BC850785638DA59537"] thread data_center_sfx_loop();

    if ( level.mapname == "_encstr_944B10ED4796DB2EB730820A98F760B76B25" )
        thread destroytvs();
}

_id_13862()
{
    if ( !scripts\mp\flags::gameflag( "_encstr_989F0E38272BD6161DB143F532BDDC2B" ) )
        level scripts\engine\utility::_id_143A5( "_encstr_989F0E38272BD6161DB143F532BDDC2B", "_encstr_8B5511DC1D16398EAF5BF68CACBECDB21DAB07" );

    level.objectives["_encstr_BC850785638DA59537"] scripts\mp\gameobjects::requestid( 1, 1 );
    level.objectives["_encstr_BC850785638DA59537"] scripts\mp\gameobjects::setobjectivestatusicons( "_encstr_9DA41DB84EF7E830D32F43597F5AE040AFE7A1D1772E70C82A2749277FB3BD", "_encstr_8BDD1DB46CBDDCBEEE0BE5E0DE5AE6D17DE80BC9B3598EEB596B38CD2DA3B2" );
    level.objectives["_encstr_BC850785638DA59537"] scripts\mp\gameobjects::setvisibleteam( "_encstr_BC19047780DA" );
    level.objectives["_encstr_BA840579D3F7F6"] scripts\mp\gameobjects::requestid( 1, 1 );
    level.objectives["_encstr_BA840579D3F7F6"] scripts\mp\gameobjects::setobjectivestatusicons( "_encstr_9DA41DB84EF7E830D32F43597F5AE040AFE7A1D1772E70C82A2749277FB3BD", "_encstr_8BDD1DB46CBDDCBEEE0BE5E0DE5AE6D17DE80BC9B3598EEB596B38CD2DA3B2" );
    level.objectives["_encstr_BA840579D3F7F6"] scripts\mp\gameobjects::setvisibleteam( "_encstr_BC19047780DA" );
    level thread hidebombsitesaftermatchstart();
    level.cyberemp scripts\mp\gameobjects::requestid( 1, 1 );
    level.cyberemp scripts\mp\gameobjects::setobjectivestatusicons( "_encstr_AA0D124B6CBD377DDDB0F283B75A373AEBAC6B83" );
    level.cyberemp scripts\mp\gameobjects::_id_13172( "_encstr_8AA01EB5369DFAB4D87B37BEEE585E07EDB4378E7DB2D61CBE0EC68537D12B46" );
    level.cyberemp scripts\mp\gameobjects::setvisibleteam( "_encstr_BC19047780DA" );

    if ( isdefined( level.cyberemp.visuals[0] ) )
    {
        level.cyberemp.visuals[0] _encstr_9D04262397C00C9B650B9EA273100FC6C073BCA109D0D29E8001C289D9187F7ED0FF2E05DD981A67::setteaminhuddatafromteamname( "_encstr_9BA4080D39CFFB5AB7C1" );
        level.cyberemp.visuals[0] setasgametypeobjective();
    }

    scripts\mp\objidpoolmanager::objective_set_play_intro( level.cyberemp.objidnum, 0 );
    scripts\mp\objidpoolmanager::objective_set_play_outro( level.cyberemp.objidnum, 0 );
    hastacvis( level.cyberemp.objidnum, 1 );
    var_0 = scripts\mp\objidpoolmanager::requestobjectiveid( 99 );
    level.cyberemp.pingobjidnum = var_0;
    scripts\mp\objidpoolmanager::objective_add_objective( var_0, "_encstr_936705F0224D13", level.cyberemp.origin );
    level.cyberemp scripts\mp\gameobjects::setvisibleteam( "_encstr_AABA05236DC831", var_0 );
    objective_setownerteam( var_0, undefined );
    level.cyberemp scripts\mp\gameobjects::_id_1317F( "_encstr_883F192387B7734FE71918A1D793F51507489F23C0DED369321A02", "_encstr_93FD168C3742D340DCCDDC961AC3637BE360632922784518", "_encstr_8AA01EB5369DFAB4D87B37BEEE585E07EDB4378E7DB2D61CBE0EC68537D12B46", var_0 );
    setcarriervisibility();
}

hidebombsitesaftermatchstart()
{
    if ( !scripts\mp\flags::gameflag( "_encstr_989F0E38272BD6161DB143F532BDDC2B" ) )
        level waittill( "_encstr_989F0E38272BD6161DB143F532BDDC2B" );

    scripts\mp\objidpoolmanager::objective_set_play_intro( level.objectives["_encstr_BC850785638DA59537"].objidnum, 0 );
    scripts\mp\objidpoolmanager::objective_set_play_outro( level.objectives["_encstr_BC850785638DA59537"].objidnum, 0 );
    scripts\mp\objidpoolmanager::_id_11F84( level.objectives["_encstr_BC850785638DA59537"].objidnum, 1 );
    scripts\mp\objidpoolmanager::objective_set_play_intro( level.objectives["_encstr_BA840579D3F7F6"].objidnum, 0 );
    scripts\mp\objidpoolmanager::objective_set_play_outro( level.objectives["_encstr_BA840579D3F7F6"].objidnum, 0 );
    scripts\mp\objidpoolmanager::_id_11F84( level.objectives["_encstr_BA840579D3F7F6"].objidnum, 1 );
    level.objectives["_encstr_BC850785638DA59537"] scripts\mp\gameobjects::setvisibleteam( "_encstr_AABA05236DC831" );
    level.objectives["_encstr_BA840579D3F7F6"] scripts\mp\gameobjects::setvisibleteam( "_encstr_AABA05236DC831" );
}

emptriggerholdonuse( var_0 )
{

}

createbombzone( var_0, var_1, var_2 )
{
    var_3 = getentarray( var_1.target, "_encstr_B8CE0BE43FC317DF690862BA48" );
    var_3[0].origin = var_1.origin;
    var_4 = scripts\mp\gameobjects::createuseobject( var_0, var_1, var_3, ( 0, 0, 64 ), undefined, 1 );
    var_4.onuse = ::onuse;
    var_4.onbeginuse = ::onbeginuse;
    var_4.onenduse = ::onenduse;
    var_4.oncantuse = ::oncantuse;
    var_4.useweapon = getcompleteweaponname( "_encstr_8B0A0CAD451BA7597FBF10014798" );
    var_4.id = "_encstr_BED80A317BD631BE3DF673CA";
    var_4.trigger setusepriority( -3 );
    var_4.trigger setuseholdduration( "_encstr_88C20E3998B33933533F7207B8280675" );
    var_4.trigger setusehideprogressbar( 1 );
    var_4.bombplanted = 0;
    var_4.bombexploded = undefined;
    var_4 scripts\mp\gameobjects::setusetime( level.planttime );
    var_4 scripts\mp\gameobjects::setwaitweaponchangeonuse( 0 );
    var_4.objectivekey = "_encstr_984C028E" + var_0;
    var_4.label = var_4.objectivekey;
    var_4 resetbombsite( 1, undefined, 1 );
    var_4 scripts\mp\gameobjects::setusetext( &"_encstr_B6B1169A145E0526A09C4529728EFA540B82263D352559A8" );
    var_4 scripts\mp\gameobjects::setusehinttext( &"_encstr_AB521CA628F2247A6211EBA8F4FA143128E415BE511605267A9A92AC159A" );

    for ( var_5 = 0; var_5 < var_3.size; var_5++ )
    {
        if ( isdefined( var_3[var_5].script_exploder ) )
        {
            var_4.exploderindex = var_3[var_5].script_exploder;
            var_3[var_5] thread setupkillcament( var_4 );
            break;
        }
    }

    var_4.noweapondropallowedtrigger = spawn( "_encstr_9E6B0FE8274B9DD92BC9D7278591B4D5E6", var_4.trigger.origin, 0, 140, 100 );
    var_4.defusetrig = var_2;
    return var_4;
}

setupkillcament( var_0 )
{
    var_1 = spawn( "_encstr_A3050EDF6FF5DC081CC1AFA37097B80B", self.origin );
    var_1.angles = self.angles;
    var_1 rotateyaw( -45, 0.05 );
    waitframe();
    var_2 = undefined;
    var_3 = self.origin + ( 0, 0, 45 );
    var_4 = self.origin + anglestoforward( var_1.angles ) * 100 + ( 0, 0, 128 );
    var_5 = [ "_encstr_98C1190E865EE6D26CDC36DE73A32B73E8E6EB6C1B5A0EB91AED1D", "_encstr_BD431CE7B0D853097F67676D6BE477B61B072950F79BD30A5247185850D0", "_encstr_9E9C1638865EB95A6CE68DDEE64795B98E6EAF9BF6B1968C", "_encstr_B7D018B89C4B13AC473342305523920D607E50E3571038A69138" ];
    var_6 = physics_createcontents( var_5 );
    var_7 = scripts\engine\trace::ray_trace( var_3, var_4, self, var_6 );
    var_2 = var_7["_encstr_B7260923C89E8F3378E72E"];
    self.killcament = spawn( "_encstr_93DC0DCD1B272D3847AF5BED23B2C6", var_2 );
    self.killcament setscriptmoverkillcam( "_encstr_97440AC1EBAB51188231BD83" );
    var_0.killcamentnum = self.killcament getentitynumber();
    var_1 delete();
}

empsitewatcher()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );

    for (;;)
    {
        level waittill( "_encstr_8F010C5E2AC85E8E82988AAF97A0" );

        if ( level.cyberemp.carrier.team == "_encstr_BC850785638DA59537" )
            level.objectives["_encstr_BA840579D3F7F6"] setupforplanting();
        else
            level.objectives["_encstr_BC850785638DA59537"] setupforplanting();

        waitframe();
    }
}

data_center_sfx_loop()
{
    var_0 = scripts\engine\utility::spawn_script_origin( self.trigger.origin, self.trigger.angles );
    var_0 thread scripts\engine\utility::play_loop_sound_on_entity( "_encstr_A465153216A3C2D7369573A3CA9CBE6CF226ACC9EB8D1C" );
    level waittill( "_encstr_8B190E59AD077D8C5647F67358D19532" );
    var_0 stopsounds( "_encstr_A465153216A3C2D7369573A3CA9CBE6CF226ACC9EB8D1C" );
    waitframe();
    var_0 delete();
}

onbeginuse( var_0 )
{
    if ( !scripts\mp\gameobjects::isfriendlyteam( var_0.pers["_encstr_89EF05D46BA8FD"] ) && !level.bombplanted )
    {
        var_0.isplanting = 1;
        setomnvar( "_encstr_A13114956B36530D0BD8312AC041C75BA9C61C3170D9", 1 );
        scripts\mp\gameobjects::setobjectivestatusicons( "_encstr_9DA41DB84EF7E830D32F43597F5AE040AFE7A1D1772E70C82A2749277FB3BD", "_encstr_87751BF08A651D2E17B16BE7875730E1C17258C0A17AA1A11BCC7BD067" );
    }
    else
    {
        var_0.isdefusing = 1;
        setomnvar( "_encstr_A13114956B36530D0BD8312AC041C75BA9C61C3170D9", 3 );
        scripts\mp\utility\game::setmlgannouncement( 2, var_0.team, var_0 getentitynumber() );
        scripts\mp\gameobjects::setobjectivestatusicons( "_encstr_8C9620D2D8B79BF5EEC2971CF6D273A3EB1995CC56DC32D7AC6B389BB4A3B2BE731D", "_encstr_A3011BB76FCF1D271F4E8383B09980633683C5F3E9DF79153B633C48DF" );
        scripts\mp\objidpoolmanager::objective_teammask_removefrommask( self.radialtimeobjid, var_0.team );
    }

    var_0 thread allowedwhileplanting( 0 );

    if ( level.bombplanted && !scripts\mp\gameobjects::isfriendlyteam( var_0.pers["_encstr_89EF05D46BA8FD"] ) )
    {
        var_0 scripts\mp\bots\bots_util::notify_enemy_bots_bomb_used( "_encstr_820C071947B26D4085" );
        var_0.isdefusing = 1;
        setomnvar( "_encstr_A13114956B36530D0BD8312AC041C75BA9C61C3170D9", 3 );
        setomnvar( "_encstr_B77B10EA96D74CDE6B98AF465966ABCDAC4E", var_0 getentitynumber() );

        if ( isdefined( level.cyberemp.visuals[0] ) )
            level.cyberemp.visuals[0] hide();

        var_0 thread startnpcbombusesound( "_encstr_9C08198B83C8E7426B0EC3E849D37FF0D1D80189933746CF4183A8", "_encstr_8BB11CF3D77FF32708EB8F20578F7B204E5F579717E0EA81D94D23933735" );
    }
}

allowedwhileplanting( var_0 )
{
    scripts\common\utility::allow_melee( var_0 );
    scripts\common\utility::allow_jump( var_0 );
    scripts\mp\utility\player::allow_gesture( var_0 );

    if ( var_0 )
    {
        scripts\engine\utility::_id_143B9( 0.8, "_encstr_B1DB14EB18C80A99B341655D342752D671885F53D863" );
        scripts\common\utility::allow_melee( var_0 );
        scripts\common\utility::allow_mantle( var_0 );
    }
    else
    {
        scripts\common\utility::allow_melee( var_0 );
        scripts\common\utility::allow_mantle( var_0 );
    }

    scripts\common\utility::allow_offhand_weapons( var_0 );
}

onenduse( var_0, var_1, var_2 )
{
    var_3 = self.objidnum;
    scripts\mp\objidpoolmanager::objective_set_progress( var_3, 0 );
    scripts\mp\objidpoolmanager::objective_show_progress( var_3, 0 );

    if ( !var_2 )
    {
        if ( var_1.isdefusing )
            scripts\mp\gameobjects::_id_1317F( "_encstr_803B209BF6DAF5CE579FD888BF91200921DF0594CBB3BBB62D8798984FA419279A43", "_encstr_8C9620D2D8B79BF5EEC2971CF6D273A3EB1995CC56DC32D7AC6B389BB4A3B2BE731D", "_encstr_8AA01EB5369DFAB4D87B37BEEE585E07EDB4378E7DB2D61CBE0EC68537D12B46" );
        else
            scripts\mp\gameobjects::_id_1317F( "_encstr_9DA41DB84EF7E830D32F43597F5AE040AFE7A1D1772E70C82A2749277FB3BD", "_encstr_8BDD1DB46CBDDCBEEE0BE5E0DE5AE6D17DE80BC9B3598EEB596B38CD2DA3B2", "_encstr_8AA01EB5369DFAB4D87B37BEEE585E07EDB4378E7DB2D61CBE0EC68537D12B46" );

        if ( isdefined( self.radialtimeobjid ) )
            scripts\mp\objidpoolmanager::objective_teammask_addtomask( self.radialtimeobjid, var_1.team );

        var_1 scripts\mp\utility\inventory::switchtolastweapon();
    }

    var_1.isplanting = 0;
    var_1.isdefusing = 0;
    setomnvar( "_encstr_B77B10EA96D74CDE6B98AF465966ABCDAC4E", -1 );

    if ( !isdefined( var_1 ) )
        return;

    var_1 thread allowedwhileplanting( 1 );
    var_1.bombplantweapon = undefined;

    if ( isplayer( var_1 ) )
    {
        var_1 setclientomnvar( "_encstr_8038139574D9F7694A8F08A8A78E415FE3DB079DCF", 0 );
        var_1.ui_bomb_planting_defusing = undefined;
    }

    if ( !scripts\mp\gameobjects::isfriendlyteam( var_1.pers["_encstr_89EF05D46BA8FD"] ) )
    {
        if ( isdefined( level.cyberemp ) && !var_2 )
            level.cyberemp.visuals[0] show();
    }
}

startnpcbombusesound( var_0, var_1 )
{
    self endon( "_encstr_A3750609A5E61883" );
    self endon( "_encstr_8959111AFD17CB9EDBC0EB5798B15BE2CB1827" );

    if ( scripts\mp\utility\game::isanymlgmatch() || istrue( level.silentplant ) || scripts\mp\utility\perk::_hasperk( "_encstr_AD63136E0ECA1B5A85633AE5AFB29BB3B47359B239" ) )
    {
        self setentitysoundcontext( "_encstr_BDBA0DA753CD2DE8AC60FA1058025B", "_encstr_9707035F3B" );
        return;
    }

    for (;;)
    {
        self waittill( "_encstr_89390E4C39FEB818C099781C19966AEB", var_2 );

        if ( var_2.basename == var_0 )
            break;
    }

    self playsoundtoteam( var_1, self.team, self );
    var_3 = scripts\mp\utility\game::getotherteam( self.team )[0];
    self playsoundtoteam( var_1, var_3 );
    self waittill( "_encstr_89390E4C39FEB818C099781C19966AEB" );
    self notify( "_encstr_8959111AFD17CB9EDBC0EB5798B15BE2CB1827" );
}

onpickup( var_0, var_1, var_2 )
{
    level notify( "_encstr_8F010C5E2AC85E8E82988AAF97A0" );
    var_3 = var_0 getcurrentprimaryweapon();

    if ( isdefined( var_3.basename ) && var_3.basename == "_encstr_B3BD102DEEE0FAD85BD72326B1D63BBEAD0E" )
        var_0 notify( "_encstr_BAE016CDBB2DD1D80D56237D66E47BB6AFDA4BDCD29D5773" );

    var_0 scripts\cp_mp\utility\inventory_utility::_giveweapon( "_encstr_886A100B633F07D9C923880807E573CFB24A" );

    if ( !istrue( var_2 ) && !var_0 scripts\mp\utility\killstreak::isjuggernaut() && !isbot( var_0 ) )
        var_0 scripts\cp_mp\utility\inventory_utility::_switchtoweaponimmediate( "_encstr_886A100B633F07D9C923880807E573CFB24A" );

    var_0 thread empradarwatcher();
    setomnvar( "_encstr_B15A10ED237E1B55539089426085CAEF9116", var_0 getentitynumber() );
    var_0 setclientomnvar( "_encstr_A2EF137FE046D56259101E96EE057A9D4BE983E760", 1 );
    scripts\mp\utility\game::setmlgannouncement( 16, var_0.team, var_0 getentitynumber() );

    if ( self.firstpickup )
        var_0 thread scripts\mp\utility\points::giveunifiedpoints( "_encstr_8B6C09956BC1D7D9935831" );

    level.usestartspawns = 0;
    var_4 = var_0.pers["_encstr_89EF05D46BA8FD"];

    if ( var_4 == "_encstr_BC850785638DA59537" )
        var_5 = "_encstr_BA840579D3F7F6";
    else
        var_5 = "_encstr_BC850785638DA59537";

    var_0.isbombcarrier = 1;

    if ( level.codcasterenabled )
        var_0 setgametypevip( 1 );

    if ( !isdefined( var_2 ) )
    {
        if ( self.firstpickup )
        {
            var_6 = "_encstr_8F7619EA38234178DFDF0B6341247D218F7021E14BF9C533829FFB";
            self.firstpickup = 0;
        }
        else
            var_6 = "_encstr_BD5613BD609B61501B5B28474FD4753B0FCEADC48F";

        scripts\mp\utility\dialog::leaderdialog( var_6, var_4, "_encstr_949B05C9604246" );
        scripts\mp\utility\dialog::leaderdialog( "_encstr_81A4107759B3F22B0260D3BB215018BFB248", var_5, "_encstr_949B05C9604246" );
        scripts\mp\utility\sound::playsoundonplayers( game["_encstr_982A154CDEAD89D7E4B2C67B67CA932B91D7DCF657B98C"], var_4 );
        var_7 = scripts\mp\utility\teams::getteamdata( var_0.team, "_encstr_8875080E3685E52B93B9" );
        level thread scripts\mp\hud_message::notifyteam( "_encstr_A3FC0B017A6B0820C4FB4763F0", "_encstr_B7A5113F0382D8F33AF647F35B393D1A8D97C1", var_0.team, var_7 );
        var_0 thread scripts\mp\hud_message::showsplash( "_encstr_A3FC0B017A6B0820C4FB4763F0" );
        level thread scripts\mp\hud_util::teamplayercardsplash( "_encstr_AFB112C1067BD19F1DF4D1515310B0031A84F3E8", var_0, var_0.team, undefined, 1 );
    }

    level thread scripts\mp\hud_message::updatematchstatushintforallplayers( var_0.team, 5, 6, var_0, 2 );
    self.offset3d = ( 0, 0, 75 );
    scripts\mp\gameobjects::setownerteam( var_4 );
    scripts\mp\gameobjects::allowuse( "_encstr_AABA05236DC831" );

    if ( isdefined( level.showenemycarrier ) )
    {
        if ( level.showenemycarrier == 0 )
        {
            scripts\mp\gameobjects::setvisibleteam( "_encstr_B9FC095F8BCCFF02D92B43" );
            objective_state( self.pingobjidnum, "_encstr_936705F0224D13" );
        }
        else
        {
            scripts\mp\gameobjects::setvisibleteam( "_encstr_B9FC095F8BCCFF02D92B43" );
            objective_state( self.pingobjidnum, "_encstr_A65A0856F3802ACA0D6B" );
            scripts\mp\gameobjects::updatecompassicon( "_encstr_80BF06CA78A2226B", self.pingobjidnum );
            objective_icon( self.pingobjidnum, "_encstr_A8A213D2C6DBE6FADDC29783BD4B731DFAB54B1BC6" );
        }
    }

    scripts\mp\gameobjects::setobjectivestatusicons( "_encstr_883F192387B7734FE71918A1D793F51507489F23C0DED369321A02", "_encstr_93FD168C3742D340DCCDDC961AC3637BE360632922784518" );
    level.objectives[var_4] scripts\mp\gameobjects::setvisibleteam( "_encstr_AABA05236DC831" );
    level.objectives[var_5] scripts\mp\gameobjects::setvisibleteam( "_encstr_BC19047780DA" );
    scripts\mp\objidpoolmanager::_id_11F84( level.objectives["_encstr_BC850785638DA59537"].objidnum, 0 );
    scripts\mp\objidpoolmanager::_id_11F84( level.objectives["_encstr_BA840579D3F7F6"].objidnum, 0 );
    var_0 thread scripts\common\utility::_id_13E0A( level._id_11B29, "_encstr_AF1C073F618760FB0A", var_0.origin );
}

ondrop( var_0 )
{
    setomnvar( "_encstr_B15A10ED237E1B55539089426085CAEF9116", -1 );

    if ( level.bombplanted )
    {
        scripts\mp\gameobjects::setownerteam( var_0.team );
        scripts\mp\gameobjects::allowuse( "_encstr_AABA05236DC831" );
    }
    else
    {
        foreach ( var_2 in level.objectives )
            var_2 resetbombsite( 1 );

        scripts\mp\gameobjects::allowuse( "_encstr_BC19047780DA" );
        scripts\mp\gameobjects::setobjectivestatusicons( "_encstr_AA0D124B6CBD377DDDB0F283B75A373AEBAC6B83", "_encstr_AA0D124B6CBD377DDDB0F283B75A373AEBAC6B83" );
        scripts\mp\gameobjects::setownerteam( "_encstr_9BA4080D39CFFB5AB7C1" );
        scripts\mp\gameobjects::setvisibleteam( "_encstr_BC19047780DA" );

        if ( isdefined( var_0 ) )
            scripts\mp\utility\print::printonteamarg( &"_encstr_B72F19A112F68BF6A8C39179FF866D1F598FA6D87A59C3BD7F0339", scripts\mp\gameobjects::getownerteam(), var_0 );

        scripts\mp\utility\sound::playsoundonplayers( game["_encstr_BE9B133BC818DA4909FE15CAE723B25F6360FF8368"], scripts\mp\gameobjects::getownerteam() );
        level thread scripts\mp\hud_message::updatematchstatushintforallplayers( var_0.team, 1, 1 );

        if ( level.idleresettime > 0 )
            thread returnaftertime();
    }
}

returnaftertime()
{
    level endon( "_encstr_8F010C5E2AC85E8E82988AAF97A0" );
    var_0 = 0.0;

    while ( var_0 < level.idleresettime )
    {
        waitframe();

        if ( self.ownerteam == "_encstr_9BA4080D39CFFB5AB7C1" )
            var_0 = var_0 + level.framedurationseconds;
    }

    foreach ( var_2 in level.teamnamelist )
        scripts\mp\utility\sound::playsoundonplayers( game["_encstr_BE9B133BC818DA4909FE15CAE723B25F6360FF8368"], var_2 );

    scripts\mp\gameobjects::returnhome();
}

onuse( var_0 )
{
    var_1 = var_0.pers["_encstr_89EF05D46BA8FD"];
    var_2 = scripts\mp\utility\game::getotherteam( var_1 )[0];

    if ( !scripts\mp\gameobjects::isfriendlyteam( var_0.pers["_encstr_89EF05D46BA8FD"] ) && !level.bombplanted )
    {
        level thread empjamandrumbleclients( 0 );
        setomnvar( "_encstr_9E0418AED2F54CF6DA4CAF1DA55BCA9CBEACDC46A3965BCAEBB0", int( scripts\mp\gamelogic::gettimeremaining() ) + gettime() );
        level notify( "_encstr_973D0D13EDAD13EBC1D8C29BA32B91" );
        var_0 notify( "_encstr_973D0D13EDAD13EBC1D8C29BA32B91" );
        var_0 notify( "_encstr_BC2B0A075628F786B1182B12", "_encstr_8C4E06E38023450B" );
        var_0 playsound( "_encstr_BC730E98EBB166C8E73657A870A33033" );
        scripts\mp\utility\game::setmlgannouncement( 15, var_0.team, var_0 getentitynumber() );
        var_3 = [];
        var_3[var_3.size] = var_0;
        level thread scripts\mp\hud_message::notifyteam( "_encstr_A9320C68925AF743E339685D15EB", "_encstr_B83E12ACDA38F538362CB9A3B291EBCA37565BBC", var_0.team, var_3 );
        var_0 thread scripts\mp\hud_message::showsplash( "_encstr_A9320C68925AF743E339685D15EB", scripts\mp\rank::getscoreinfovalue( "_encstr_8C4E06E38023450B" ) );
        level thread scripts\mp\hud_util::teamplayercardsplash( "_encstr_BDC113563F4952F733A3D727D0CBA01A2BC01B4F15", var_0, undefined, undefined, 1 );
        level thread scripts\mp\hud_message::updatematchstatushintforallplayers( var_0.team, 4, 3 );
        var_0 setclientomnvar( "_encstr_A2EF137FE046D56259101E96EE057A9D4BE983E760", 0 );
        scripts\mp\utility\dialog::leaderdialog( "_encstr_8FE514BD0358C2535720B3AA89A083BA788B3E04A948", var_1 );
        var_0 playsoundtoteam( "_encstr_8FDD176DB2D9F0B75A8588B9BFA1FDC8882DA07C2B35A488E8", var_1 );
        scripts\mp\utility\dialog::leaderdialog( "_encstr_8FC811B25B0E1C8DB0DCE8B219BE9573ACDAE5", var_2 );
        var_0 playsoundtoteam( "_encstr_936E142F1876C252739EAAA577178A8C1E28ABB7586A", var_2 );
        var_0 thread scripts\mp\utility\points::giveunifiedpoints( "_encstr_8C4E06E38023450B" );
        var_0 scripts\cp\vehicles\vehicle_compass_cp::_id_12062();
        var_0 thread scripts\common\utility::_id_13E0A( level._id_11B29, "_encstr_8C4E06E38023450B", var_0.origin );
        var_0.bombplantedtime = gettime();
        var_0 scripts\mp\utility\stats::incpersstat( "_encstr_8BB00783957F8B8B08", 1 );
        var_0 scripts\mp\persistence::statsetchild( "_encstr_A2460627DEABDC23", "_encstr_8BB00783957F8B8B08", var_0.pers["_encstr_8BB00783957F8B8B08"] );
        var_0 scripts\mp\utility\stats::setextrascore0( var_0.pers["_encstr_8BB00783957F8B8B08"] );
        var_0 scripts\cp_mp\pet_watch::addplantingcharge();
        level.bombplanted = 1;
        scripts\mp\gameobjects::_id_13172( "_encstr_8AA01EB5369DFAB4D87B37BEEE585E07EDB4378E7DB2D61CBE0EC68537D12B46" );
        level thread bombplanted( self, var_0.pers["_encstr_89EF05D46BA8FD"] );
        level.bombowner = var_0;
        level.bombowner.isbombcarrier = 0;

        if ( level.codcasterenabled )
            var_0 setgametypevip( 0 );

        level.cyberemp scripts\mp\gameobjects::setdropped();
        level.cyberemp scripts\mp\gameobjects::allowuse( "_encstr_AABA05236DC831" );
        level.cyberemp scripts\mp\gameobjects::setvisibleteam( "_encstr_AABA05236DC831" );
        var_0 scripts\cp_mp\utility\inventory_utility::_takeweapon( "_encstr_886A100B633F07D9C923880807E573CFB24A" );
        var_0 scripts\mp\utility\inventory::switchtolastweapon();
        self.useweapon = getcompleteweaponname( "_encstr_804B0EC2F871591B294C0D03D5B6E75A" );
        setupfordefusing( self, var_0 );
    }
    else
    {
        var_0 notify( "_encstr_B9A10DD145CDB008EA27752B0782ED" );
        var_0 notify( "_encstr_BC2B0A075628F786B1182B12", "_encstr_820C071947B26D4085" );
        var_4 = 0;

        if ( scripts\mp\utility\teams::getenemycount( var_0.team, 1 ) == 0 )
            var_4 = 1;

        if ( var_4 )
        {
            var_5 = "_encstr_93B71AC9BDCF186D13E8B73809578A48B0FF40E7954023ADED384C08";
            var_6 = "_encstr_8C5C174FA1F95A45E980FFAF60A63EF2ADCF95491D1D8285D2";
        }
        else
        {
            var_5 = "_encstr_B3861473189181D92F1F67D55F315893239DD255807B";
            var_6 = "_encstr_B9D6117B07B38590A69BA379C7B7D8C85AAFDB";
        }

        scripts\mp\utility\dialog::leaderdialog( var_5, var_1 );
        scripts\mp\utility\dialog::leaderdialog( var_6, var_2 );
        var_3 = [];
        var_3[var_3.size] = var_0;
        level thread scripts\mp\hud_message::notifyteam( "_encstr_82190BAD134819436511B3DB59", "_encstr_BE80119F60034F52D32C7BF285FF1A36C91867", var_0.team, var_3 );
        level thread scripts\mp\hud_util::teamplayercardsplash( "_encstr_8F7C139A8199036D102997B50360F76F34BB1362C9", var_0, undefined, undefined, 1 );
        level thread scripts\mp\hud_message::updatematchstatushintforallplayers( var_0.team, 5, 6, var_0, 2 );

        if ( isdefined( level.bombowner ) && level.bombowner.bombplantedtime + 3000 + level.defusetime * 1000 > gettime() && scripts\mp\utility\player::isreallyalive( level.bombowner ) )
        {
            var_0 thread scripts\mp\rank::scoreeventpopup( "_encstr_A66F0D66DB789497B891724A9B86DF" );
            var_0 thread scripts\mp\hud_message::showsplash( "_encstr_A66F0D66DB789497B891724A9B86DF", scripts\mp\rank::getscoreinfovalue( "_encstr_820C071947B26D4085" ) );
        }
        else
        {
            var_0 thread scripts\mp\rank::scoreeventpopup( "_encstr_820C071947B26D4085" );
            var_0 thread scripts\mp\hud_message::showsplash( "_encstr_82190BAD134819436511B3DB59", scripts\mp\rank::getscoreinfovalue( "_encstr_820C071947B26D4085" ) );
        }

        var_0 thread scripts\mp\awards::givemidmatchaward( "_encstr_AA6D0F5BBD232BBEE6467D465999AB9B95" );
        var_0 scripts\mp\utility\stats::incpersstat( "_encstr_B27B080D25DBEBAF1763", 1 );
        var_0 scripts\mp\persistence::statsetchild( "_encstr_A2460627DEABDC23", "_encstr_B27B080D25DBEBAF1763", var_0.pers["_encstr_B27B080D25DBEBAF1763"] );
        var_0 scripts\cp\vehicles\vehicle_compass_cp::_id_1201F();
        var_0 thread scripts\common\utility::_id_13E0A( level._id_11B29, "_encstr_820C071947B26D4085", var_0.origin );
        level.bombplanted = 0;
        level thread bombdefused( self );
        resetbombsite( 1, var_0 );

        if ( var_4 )
            wait 3;

        level.cyberemp scripts\mp\gameobjects::allowuse( "_encstr_BC19047780DA" );
        level.cyberemp scripts\mp\gameobjects::setpickedup( var_0, 0, 1 );
    }
}

empjamandrumbleclients( var_0, var_1 )
{
    foreach ( var_3 in level.players )
    {
        var_3 setempjammed( 1 );

        if ( istrue( var_0 ) )
            var_3 playrumbleonpositionforclient( "_encstr_9DD11130F34C18E9EA7F26ABD92313408263E8", var_3.origin );
    }

    if ( !istrue( var_1 ) )
    {
        wait 1;

        foreach ( var_3 in level.players )
            var_3 setempjammed( 0 );
    }
}

resetbombsite( var_0, var_1, var_2 )
{
    if ( !var_0 )
    {
        scripts\mp\gameobjects::setobjectivestatusicons( "_encstr_95491EB0CA25DDEED771AB274797F0A18163108872BB73419F9DB91F33FFFB5B", "_encstr_8BDD1DB46CBDDCBEEE0BE5E0DE5AE6D17DE80BC9B3598EEB596B38CD2DA3B2" );
        scripts\mp\gameobjects::setvisibleteam( "_encstr_BC19047780DA" );
    }
    else
    {
        if ( istrue( var_2 ) )
            return;

        if ( isdefined( var_1 ) )
            self.ownerteam = var_1.team;

        self.id = "_encstr_BED80A317BD631BE3DF673CA";
        scripts\mp\gameobjects::allowuse( "_encstr_AABA05236DC831" );
        scripts\mp\gameobjects::setvisibleteam( "_encstr_AABA05236DC831" );
        scripts\mp\objidpoolmanager::_id_11F84( level.objectives["_encstr_BC850785638DA59537"].objidnum, 1 );
        scripts\mp\objidpoolmanager::_id_11F84( level.objectives["_encstr_BA840579D3F7F6"].objidnum, 1 );
        return;
    }
}

setupforplanting()
{
    self.trigger enableplayeruse( level.cyberemp.carrier );
    scripts\mp\gameobjects::allowuse( "_encstr_80BF06CA78A2226B" );
    scripts\mp\gameobjects::setusetime( level.planttime );
    scripts\mp\gameobjects::setusetext( &"_encstr_B6B1169A145E0526A09C4529728EFA540B82263D352559A8" );
    scripts\mp\gameobjects::setusehinttext( &"_encstr_ABBE15FB239643113C67960F5DC72189A8F37157EFD837" );
    scripts\mp\gameobjects::setkeyobject( level.cyberemp );
    self.useweapon = getcompleteweaponname( "_encstr_8B0A0CAD451BA7597FBF10014798" );
    scripts\mp\gameobjects::setobjectivestatusicons( "_encstr_9DA41DB84EF7E830D32F43597F5AE040AFE7A1D1772E70C82A2749277FB3BD", "_encstr_8BDD1DB46CBDDCBEEE0BE5E0DE5AE6D17DE80BC9B3598EEB596B38CD2DA3B2" );
    self.bombplanted = 0;
}

setupfordefusing( var_0, var_1 )
{
    self.trigger setusepriority( -3 );
    self.ownerteam = var_1.team;
    scripts\mp\gameobjects::allowuse( "_encstr_80BF06CA78A2226B" );
    scripts\mp\gameobjects::setusetime( level.defusetime );
    scripts\mp\gameobjects::setusetext( &"_encstr_B734163D1BF7172704D7E2F3F83509C7D39F4D19A9C13F1D" );
    scripts\mp\gameobjects::setusehinttext( &"_encstr_9E6C1641F216713494C3316187EF2D13E82BC6FD9968B31F" );
    scripts\mp\gameobjects::setkeyobject( undefined );
    scripts\mp\gameobjects::setobjectivestatusicons( "_encstr_8C9620D2D8B79BF5EEC2971CF6D273A3EB1995CC56DC32D7AC6B389BB4A3B2BE731D", "_encstr_803B209BF6DAF5CE579FD888BF91200921DF0594CBB3BBB62D8798984FA419279A43" );
    thread _encstr_9D04262397C00C9B650B9EA273100FC6C073BCA109D0D29E8001C289D9187F7ED0FF2E05DD981A67::current_carrier( var_1.team, "_encstr_95491EB0CA25DDEED771AB274797F0A18163108872BB73419F9DB91F33FFFB5B", "_encstr_8B8D1D0372C72D773FE91178A81F03CB87621D1C7FFFF0C70DFD305880D365" );
    scripts\mp\gameobjects::setvisibleteam( "_encstr_BC19047780DA", self.radialtimeobjid );
    self.id = "_encstr_ABDB0EF5AD5363378F2998F852A7CF9B";
    self.bombplanted = 1;
    var_2 = scripts\mp\utility\teams::getenemyteams( var_1.team );
    var_3 = var_2[0];

    foreach ( var_5 in scripts\mp\utility\teams::getteamdata( var_3, "_encstr_8875080E3685E52B93B9" ) )
        self.trigger enableplayeruse( var_5 );
}

bombdefused( var_0 )
{
    scripts\mp\gamelogic::resumetimer();
    level.timelimitoverride = 0;
    level.scorelimitoverride = 0;
    var_0.bombplanted = 0;
    setomnvar( "_encstr_89AD13879AB76248D52E5F1F27F06BF3C1A3B39135", -1 );
    level thread [[ level.updategameevents ]]();
    var_0.visuals[0] scripts\mp\gamelogic::stoptickingsound();
    level notify( "_encstr_B9A10DD145CDB008EA27752B0782ED" );
}

oncantuse( var_0 )
{

}

bombplanted( var_0, var_1 )
{
    level endon( "_encstr_AA6D09DBD92B93E8D2D695" );
    scripts\mp\gamelogic::pausetimer();
    setomnvar( "_encstr_9CCE178D6CC1EB015CAF58E9DB695823FB190695458B99C934", 0 );
    level.bombplantedteam = var_1;
    level.timelimitoverride = 1;
    level.scorelimitoverride = 1;

    if ( isdefined( var_1 ) )
    {
        if ( var_1 == "_encstr_BC850785638DA59537" )
            setomnvar( "_encstr_89AD13879AB76248D52E5F1F27F06BF3C1A3B39135", 2 );
        else
            setomnvar( "_encstr_89AD13879AB76248D52E5F1F27F06BF3C1A3B39135", 1 );
    }

    setgameendtime( int( gettime() + level.bombtimer * 1000 ) );
    var_0.visuals[0] thread scripts\mp\gamelogic::playtickingsound();
    var_2 = gettime();
    thread bomb_pre_exp_music();
    thread bomb_pre_exp_sfx_wait( var_0.visuals[0].origin );
    bombtimerwait();
    var_0.visuals[0] scripts\mp\gamelogic::stoptickingsound();

    if ( !level.bombplanted )
    {
        if ( level.persbombtimer )
        {
            var_3 = ( gettime() - var_2 ) / 1000;
            level.bombtimer = level.bombtimer - var_3;
        }

        return;
    }

    var_4 = var_0.visuals[0].origin;
    level.bombexploded = 1;
    setdvar( "_encstr_A2BA0FF3043F40D78AEFB365F7D32DA0D5", "_encstr_B3C10D1D274AAE89D0B23850DFB5F8" );

    if ( isdefined( level.bombowner ) )
    {
        var_0.visuals[0] radiusdamage( var_4, 512, 1, 1, level.bombowner, "_encstr_A45C0E4B9FDF3165A3B93C4491BFA4A9", "_encstr_9DF00DF37BD0E2716F3B8BC7086BBB" );
        level.bombowner scripts\mp\utility\stats::incpersstat( "_encstr_AA460DCF7948A4EB7D076B1777A8A3", 1 );
        level.bombowner scripts\mp\persistence::statsetchild( "_encstr_A2460627DEABDC23", "_encstr_AA460DCF7948A4EB7D076B1777A8A3", level.bombowner.pers["_encstr_AA460DCF7948A4EB7D076B1777A8A3"] );
    }
    else
        var_0.visuals[0] radiusdamage( var_4, 512, 1, 1, undefined, "_encstr_A45C0E4B9FDF3165A3B93C4491BFA4A9", "_encstr_9DF00DF37BD0E2716F3B8BC7086BBB" );

    var_5 = randomfloat( 360 );
    playsoundatpos( var_4, "_encstr_88051445231367CEE31852DB092385132E06C4F73ED9" );
    var_6 = var_0.visuals[0] gettagorigin( "_encstr_8CB40B4BB398B1C0A81FDF6BEA" );
    var_7 = spawnfx( level._effect["_encstr_A6160FACDA0ED791ACA3B7370BE82DDBDC"], var_6, ( 0, 0, 1 ), ( cos( var_5 ), sin( var_5 ), 0 ) );
    triggerfx( var_7 );
    earthquake( 0.6, 1.5, var_4, 10000 );
    level thread empjamandrumbleclients( 1, 1 );
    level notify( "_encstr_8B190E59AD077D8C5647F67358D19532" );

    foreach ( var_9 in level.objectives )
    {
        var_9 notify( "_encstr_9F1D0909124FCF686D15A1" );
        var_9.trigger scripts\mp\utility\usability::setallunusable();
    }

    if ( game["_encstr_A6D60EE09BF413B9945185CB4797C583"] )
        var_0.exploderindex = 200;
    else
        var_0.exploderindex = 201;

    if ( isdefined( var_0.exploderindex ) )
        scripts\engine\utility::exploder( var_0.exploderindex );

    var_0.bombplanted = 0;
    level.cyberemp scripts\mp\gameobjects::setvisibleteam( "_encstr_AABA05236DC831" );
    level.objectives["_encstr_BC850785638DA59537"] scripts\mp\gameobjects::setvisibleteam( "_encstr_AABA05236DC831" );
    level.objectives["_encstr_BA840579D3F7F6"] scripts\mp\gameobjects::setvisibleteam( "_encstr_AABA05236DC831" );
    scripts\mp\objidpoolmanager::_id_11F84( level.objectives["_encstr_BC850785638DA59537"].objidnum, 0 );
    scripts\mp\objidpoolmanager::_id_11F84( level.objectives["_encstr_BA840579D3F7F6"].objidnum, 0 );
    setgameendtime( 0 );
    level.scorelimitoverride = 1;

    if ( isdefined( level.bombowner ) )
        level thread scripts\mp\hud_util::teamplayercardsplash( "_encstr_A301209F67C99D171D0BCFC2F183507B30BBCDA3E91EFA1D1B73FEC8D56A3B3B53FF", level.bombowner );

    var_0 scripts\mp\gameobjects::releaseid();

    if ( istrue( level.nukeincoming ) )
        return;

    wait 3;
    thread scripts\mp\gamelogic::endgame( var_1, game["_encstr_94EA0B2BE623AF39CA589BBDB9"]["_encstr_97CA113A0B4ED995E8AF192BE64739BDE5B246"], undefined, undefined, level.detonatescore );
}

bombtimerwait()
{
    level endon( "_encstr_B9A10DD145CDB008EA27752B0782ED" );
    level endon( "_encstr_B89B0FAF2DE85A1B7B788A1141C0935738" );
    var_0 = int( level.bombtimer * 1000 + gettime() );
    setomnvar( "_encstr_A2831657B4D726EDAD137D3AA5B5CA39AF2B73C8D1D25B59", var_0 );
    level thread handlehostmigration( var_0 );
    scripts\mp\hostmigration::waitlongdurationwithgameendtimeupdate( level.bombtimer );
}

bomb_pre_exp_music()
{
    thread scripts\mp\music_and_dialog::stopsuspensemusic();
    thread scripts\mp\music_and_dialog::bombplanted_music();
}

bomb_pre_exp_sfx_wait( var_0 )
{
    level endon( "_encstr_B9A10DD145CDB008EA27752B0782ED" );
    level endon( "_encstr_B89B0FAF2DE85A1B7B788A1141C0935738" );
    wait( max( level.bombtimer - 2, 0.1 ) );
    playsoundatpos( var_0, "_encstr_BACB1925033347EEC338723BE9C3A5330EEFBADD159A437587607A" );
}

handlehostmigration( var_0 )
{
    level endon( "_encstr_B9A10DD145CDB008EA27752B0782ED" );
    level endon( "_encstr_B89B0FAF2DE85A1B7B788A1141C0935738" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    level endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    level waittill( "_encstr_A33F15D07BB93AEBB6B43B9C2C472D7BDC7D4C59765ADC" );
    var_1 = scripts\mp\hostmigration::waittillhostmigrationdone();

    if ( var_1 > 0 )
        setomnvar( "_encstr_A2831657B4D726EDAD137D3AA5B5CA39AF2B73C8D1D25B59", var_0 + var_1 );
}

overtimethread( var_0 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    level.inovertime = 1;
    wait 5.0;
    level.disablespawning = 1;
}

givelastonteamwarning()
{
    self endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    scripts\mp\utility\player::waittillrecoveredhealth( 3 );
    level thread scripts\mp\battlechatter_mp::trysaylocalsound( self, "_encstr_8010106FB801BFF30370FDB64EE9F977E818" );
    var_0 = scripts\mp\utility\game::getotherteam( self.pers["_encstr_89EF05D46BA8FD"] )[0];
    level thread scripts\mp\hud_util::teamplayercardsplash( "_encstr_97591CD31F201B7D4B38614A889F73B3F9F75545A5A87B872DB85A12D89B", self, self.pers["_encstr_89EF05D46BA8FD"] );
    level thread scripts\mp\hud_util::teamplayercardsplash( "_encstr_B2D01767603180256FA38104BBC7519BC6B1173B10E2A2AB0F", self, var_0 );
    level notify( "_encstr_95420BAA41D6A3A17059E1E653", self );
}

ontimelimit()
{
    if ( level.bombexploded )
        return;

    trial_race_lap_total();
    thread scripts\mp\gamelogic::endgame( "_encstr_8A190423A45D", game["_encstr_94EA0B2BE623AF39CA589BBDB9"]["_encstr_A69C0A4E2B5DCAD24E08172F"] );
}

onspawnplayer()
{
    self setclientomnvar( "_encstr_82370C57A5EBB92B1B57C9B4DC9D", 0 );
    self setclientomnvar( "_encstr_87B915D748EE7B5AD7AD827C18F7B1201310E743B0C3B3", 0 );
    self setclientomnvar( "_encstr_AD061ACF50F64D32C19E2CE9FEB94A1CDB18EF03F808AC19E9A5305B", -1 );

    if ( level.multibomb )
        self setclientomnvar( "_encstr_A2EF137FE046D56259101E96EE057A9D4BE983E760", 1 );
    else
    {
        self setclientomnvar( "_encstr_A2EF137FE046D56259101E96EE057A9D4BE983E760", 0 );
        thread updatebombsiteusability();
    }

    self.isplanting = 0;
    self.isdefusing = 0;
    self.isbombcarrier = 0;

    if ( scripts\mp\utility\game::inovertime() && !isdefined( self.otspawned ) )
        thread printothint();

    if ( isdefined( self.pers["_encstr_8BB00783957F8B8B08"] ) )
        scripts\mp\utility\stats::setextrascore0( self.pers["_encstr_8BB00783957F8B8B08"] );

    if ( isdefined( self.pers["_encstr_9394086A1F5F5EAD9B93"] ) )
        scripts\mp\utility\stats::setextrascore1( self.pers["_encstr_9394086A1F5F5EAD9B93"] );

    thread updatematchstatushintonspawn();
}

updatebombsiteusability()
{
    if ( !isdefined( level.objectives ) )
        level waittill( "_encstr_9EFC18B023F9D949DA51474136F393031FE7B8188B99501BF3C0" );

    foreach ( var_1 in level.objectives )
    {
        if ( var_1.bombplanted == 0 )
            var_1.trigger disableplayeruse( self );
    }
}

updatematchstatushintonspawn()
{
    if ( level.bombplanted )
    {
        if ( isdefined( level.bombplantedteam ) && level.bombplantedteam == self.team )
            self setclientomnvar( "_encstr_AD061ACF50F64D32C19E2CE9FEB94A1CDB18EF03F808AC19E9A5305B", 4 );
        else
            self setclientomnvar( "_encstr_AD061ACF50F64D32C19E2CE9FEB94A1CDB18EF03F808AC19E9A5305B", 3 );
    }
    else if ( isdefined( level.cyberemp ) && isdefined( level.cyberemp.carrier ) )
    {
        if ( level.cyberemp.carrier.team == self.team )
        {
            if ( level.cyberemp.carrier == self )
                self setclientomnvar( "_encstr_AD061ACF50F64D32C19E2CE9FEB94A1CDB18EF03F808AC19E9A5305B", 2 );
            else
                self setclientomnvar( "_encstr_AD061ACF50F64D32C19E2CE9FEB94A1CDB18EF03F808AC19E9A5305B", 5 );
        }
        else
            self setclientomnvar( "_encstr_AD061ACF50F64D32C19E2CE9FEB94A1CDB18EF03F808AC19E9A5305B", 6 );
    }
    else
        self setclientomnvar( "_encstr_AD061ACF50F64D32C19E2CE9FEB94A1CDB18EF03F808AC19E9A5305B", 1 );
}

trial_race_lap_total()
{
    foreach ( var_1 in level.players )
    {
        if ( istrue( var_1.isplanting ) && isdefined( var_1.lastnonuseweapon ) )
        {
            var_1 scripts\cp_mp\utility\inventory_utility::_switchtoweaponimmediate( var_1.lastnonuseweapon );
            break;
        }
    }
}

ondeadevent( var_0 )
{
    trial_race_lap_total();

    if ( level.bombexploded > 0 && !level.postgameexfil )
        return;

    if ( var_0 == "_encstr_A61904730372" )
    {
        if ( level.bombplanted )
        {
            var_1 = scripts\mp\utility\game::getotherteam( level.bombplantedteam )[0];
            thread scripts\mp\gamelogic::endgame( level.bombplantedteam, game["_encstr_94EA0B2BE623AF39CA589BBDB9"][tolower( game[var_1] ) + "_encstr_ABE60C07DDADF8190F42B11BDA13"], undefined, undefined, level.detonatescore );
        }
        else
            thread scripts\mp\gamelogic::endgame( "_encstr_8A190423A45D", game["_encstr_94EA0B2BE623AF39CA589BBDB9"]["_encstr_8A190423A45D"] );
    }
    else if ( level.bombplanted )
    {
        if ( var_0 != level.bombplantedteam )
            thread scripts\mp\gamelogic::endgame( level.bombplantedteam, game["_encstr_94EA0B2BE623AF39CA589BBDB9"][tolower( game[var_0] ) + "_encstr_ABE60C07DDADF8190F42B11BDA13"], undefined, undefined, level.detonatescore );
        else
            return;
    }
    else if ( var_0 == game["_encstr_941C0A6AF345075ED05BEAD3"] )
        level thread scripts\mp\gamelogic::endgame( game["_encstr_95A70AA81FEE295D3A2F56DE"], game["_encstr_94EA0B2BE623AF39CA589BBDB9"][tolower( game[game["_encstr_941C0A6AF345075ED05BEAD3"]] ) + "_encstr_ABE60C07DDADF8190F42B11BDA13"] );
    else if ( var_0 == game["_encstr_95A70AA81FEE295D3A2F56DE"] )
        level thread scripts\mp\gamelogic::endgame( game["_encstr_941C0A6AF345075ED05BEAD3"], game["_encstr_94EA0B2BE623AF39CA589BBDB9"][tolower( game[game["_encstr_95A70AA81FEE295D3A2F56DE"]] ) + "_encstr_ABE60C07DDADF8190F42B11BDA13"] );
}

ononeleftevent( var_0 )
{
    if ( level.bombexploded > 0 )
        return;

    var_1 = scripts\mp\utility\game::getlastlivingplayer( var_0 );

    if ( isdefined( var_1 ) )
    {
        var_1.laststanding = 1;
        var_1 thread givelastonteamwarning();
    }
}

onplayerkilled( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9 )
{
    self setclientomnvar( "_encstr_A2EF137FE046D56259101E96EE057A9D4BE983E760", 0 );
    thread checkallowspectating();

    if ( !isplayer( var_1 ) || var_1.team == self.team )
        return;

    if ( self.isbombcarrier && level.codcasterenabled )
        self setgametypevip( 0 );

    awardgenericmedals( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9 );
}

checkallowspectating()
{
    waitframe();
    var_0 = 0;

    if ( !scripts\mp\utility\teams::getteamdata( game["_encstr_941C0A6AF345075ED05BEAD3"], "_encstr_892A0BA3D3F25C4033ADD34893" ) )
    {
        level.spectateoverride[game["_encstr_941C0A6AF345075ED05BEAD3"]].allowenemyspectate = 1;
        var_0 = 1;
    }

    if ( !scripts\mp\utility\teams::getteamdata( game["_encstr_95A70AA81FEE295D3A2F56DE"], "_encstr_892A0BA3D3F25C4033ADD34893" ) )
    {
        level.spectateoverride[game["_encstr_95A70AA81FEE295D3A2F56DE"]].allowenemyspectate = 1;
        var_0 = 1;
    }

    if ( var_0 )
        scripts\mp\spectating::updatespectatesettings();
}

onnormaldeath( var_0, var_1, var_2, var_3, var_4, var_5 )
{
    _encstr_88EA20CDD8932D38E8B9CB5BC1BCD985D6AC47E58395CD5ED8F6B6B5DBDCE2B3378D::oncommonnormaldeath( var_0, var_1, var_2, var_3, var_4, var_5 );

    if ( var_0.isplanting )
    {
        thread scripts\common\utility::_id_13E0A( level._id_11B30, var_2, "_encstr_89D109E8419005731360C2" );
        var_1 scripts\mp\utility\stats::incpersstat( "_encstr_9CF70851FD0FB8B81BB3", 1 );
        var_1 scripts\mp\persistence::statsetchild( "_encstr_A2460627DEABDC23", "_encstr_9CF70851FD0FB8B81BB3", var_1.pers["_encstr_9CF70851FD0FB8B81BB3"] );
    }
    else if ( var_0.isbombcarrier )
        thread scripts\common\utility::_id_13E0A( level._id_11B30, var_2, "_encstr_B62F0996FAF3765317CAAF" );
    else if ( var_0.isdefusing )
        thread scripts\common\utility::_id_13E0A( level._id_11B30, var_2, "_encstr_956909CC156977424BE0FA" );
}

printothint()
{
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    wait 0.25;
    self.otspawned = 1;
}

awardgenericmedals( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9 )
{
    var_10 = 0;
    var_11 = 0;
    var_12 = 0;
    var_13 = self;
    var_14 = var_13.origin;
    var_15 = var_1.origin;
    var_16 = 0;

    if ( isdefined( var_0 ) )
    {
        var_15 = var_0.origin;
        var_16 = var_0 == var_1;
    }

    if ( isdefined( level.cyberemp.carrier ) )
    {
        if ( isdefined( var_1 ) && isplayer( var_1 ) && var_1.pers["_encstr_89EF05D46BA8FD"] != var_13.pers["_encstr_89EF05D46BA8FD"] )
        {
            if ( isdefined( var_1.isbombcarrier ) && var_16 && isdefined( var_4 ) && var_4.basename == "_encstr_886A100B633F07D9C923880807E573CFB24A" )
            {
                var_1 thread scripts\mp\rank::scoreeventpopup( "_encstr_B4DD112F30B380307ACAAB32C57B415A70657A" );
                var_1 thread scripts\mp\awards::givemidmatchaward( "_encstr_81D5197F17F5929FA09A36FFD369E3EA59B92F9FE3258AA7C860AA" );
            }
            else if ( istrue( var_13.isbombcarrier ) )
            {
                var_13.isbombcarrier = 0;

                if ( istrue( var_13._id_1334E ) )
                    var_13 scripts\mp\utility\player::hideminimap();

                var_1 thread scripts\mp\rank::scoreeventpopup( "_encstr_B3A613B696C6B15946F5B2D607F58D163993962B4E" );
                var_1 thread scripts\mp\awards::givemidmatchaward( "_encstr_8ADB186BB79159FAD8CB31CAE4F5DAB436C6EBC6C2934E4B564E" );
                thread scripts\common\utility::_id_13E0A( level._id_11B30, var_9, "_encstr_B62F0996FAF3765317CAAF" );
            }

            if ( var_1.pers["_encstr_89EF05D46BA8FD"] == level.cyberemp.ownerteam && var_1 != level.cyberemp.carrier )
            {
                var_17 = distancesquared( level.cyberemp.carrier.origin, var_15 );

                if ( var_17 < 105625 )
                {
                    var_1 thread scripts\mp\rank::scoreeventpopup( "_encstr_8C0C07812DDF6808AB" );
                    var_1 thread scripts\mp\awards::givemidmatchaward( "_encstr_B3D80EB6ED91567DE17D91B2CC95CD23" );
                    var_1 scripts\mp\utility\stats::incpersstat( "_encstr_9CF70851FD0FB8B81BB3", 1 );
                    var_1 scripts\mp\persistence::statsetchild( "_encstr_A2460627DEABDC23", "_encstr_9CF70851FD0FB8B81BB3", var_1.pers["_encstr_9CF70851FD0FB8B81BB3"] );
                    thread scripts\common\utility::_id_13E0A( level._id_11B30, var_9, "_encstr_97A70AE945873020839AC811" );
                }
            }
        }
    }

    foreach ( var_19 in level.objectives )
    {
        if ( istrue( var_19.trigger.trigger_off ) )
            continue;

        var_20 = var_19 scripts\mp\gameobjects::getownerteam();

        if ( var_20 != var_1.team )
        {
            var_21 = distsquaredcheck( var_19.trigger, var_15, var_14 );

            if ( var_21 )
            {
                var_11 = 1;
                var_1 thread scripts\mp\rank::scoreeventpopup( "_encstr_973508BF93EFFBC363B3" );
                var_1 thread scripts\mp\awards::givemidmatchaward( "_encstr_BA020F68F21FC3E6F347AF9E43BFEB8943" );
                var_19 notify( "_encstr_973508BF93EFFBC363B3", var_1 );
                thread scripts\common\utility::_id_13E0A( level._id_11B26, var_9, "_encstr_BCD10B8953E73F13911C1BDA2A" );
                continue;
            }
        }
        else
        {
            var_22 = distsquaredcheck( var_19.trigger, var_15, var_14 );

            if ( var_22 )
            {
                var_12 = 1;
                var_1 thread scripts\mp\rank::scoreeventpopup( "_encstr_8C0C07812DDF6808AB" );
                var_1 thread scripts\mp\awards::givemidmatchaward( "_encstr_B3D80EB6ED91567DE17D91B2CC95CD23" );
                var_19 notify( "_encstr_8C0C07812DDF6808AB", var_1 );
                var_1 scripts\mp\utility\stats::incpersstat( "_encstr_9CF70851FD0FB8B81BB3", 1 );
                var_1 scripts\mp\persistence::statsetchild( "_encstr_A2460627DEABDC23", "_encstr_9CF70851FD0FB8B81BB3", var_1.pers["_encstr_9CF70851FD0FB8B81BB3"] );
                thread scripts\common\utility::_id_13E0A( level._id_11B26, var_9, "_encstr_97A70AE945873020839AC811" );
                continue;
            }
        }
    }
}

distsquaredcheck( var_0, var_1, var_2 )
{
    var_3 = distancesquared( var_0.origin, var_1 );
    var_4 = distancesquared( var_0.origin, var_2 );

    if ( var_3 < 105625 || var_4 < 105625 )
    {
        if ( !isdefined( var_0.modifieddefendcheck ) )
            return 1;
        else if ( var_1[2] - var_0.origin[2] < 100 || var_2[2] - var_0.origin[2] < 100 )
            return 1;
        else
            return 0;
    }
    else
        return 0;
}

empradarwatcher()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    self endon( "_encstr_973D0D13EDAD13EBC1D8C29BA32B91" );
    self endon( "_encstr_8BE0118D16E68ED7DC3AB0CDC8D7CD47589C3A" );
    self.radarpingtime = gettime();
    self.nextradarpingtime = self.radarpingtime;
    thread weaponswapwatcher();

    for (;;)
    {
        if ( self.currentprimaryweapon.basename == "_encstr_886A100B633F07D9C923880807E573CFB24A" )
        {
            while ( self.currentprimaryweapon.basename == "_encstr_886A100B633F07D9C923880807E573CFB24A" && gettime() > self.nextradarpingtime )
            {
                triggeroneoffradarsweep( self );
                self.radarpingtime = gettime();
                self.nextradarpingtime = gettime() + level.radarpingtime * 1000;
                thread waitandwatchradarsweep();
                self waittill( "_encstr_88C20CFB387139F33F33123D19A8" );
            }
        }

        waitframe();
    }
}

weaponswapwatcher()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    self endon( "_encstr_973D0D13EDAD13EBC1D8C29BA32B91" );
    self._id_1334E = 0;

    for (;;)
    {
        if ( self.currentprimaryweapon.basename == "_encstr_886A100B633F07D9C923880807E573CFB24A" )
        {
            if ( !istrue( self._id_1334E ) )
            {
                scripts\mp\utility\player::showminimap();
                self._id_1334E = 1;
            }
        }
        else if ( istrue( self._id_1334E ) )
        {
            scripts\mp\utility\player::hideminimap();
            self._id_1334E = 0;
        }

        waitframe();
    }
}

waitandwatchradarsweep()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    self endon( "_encstr_973D0D13EDAD13EBC1D8C29BA32B91" );
    self endon( "_encstr_8BE0118D16E68ED7DC3AB0CDC8D7CD47589C3A" );
    var_0 = gettime() + level.radarpingtime * 1000;

    while ( gettime() < var_0 )
    {
        if ( isdefined( level.cyberemp.carrier ) && self == level.cyberemp.carrier && self.currentprimaryweapon.basename == "_encstr_886A100B633F07D9C923880807E573CFB24A" )
        {
            waitframe();
            continue;
        }

        break;
    }

    self notify( "_encstr_88C20CFB387139F33F33123D19A8" );
}

applybombcarrierclass()
{
    self endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );

    if ( isdefined( self.iscarrying ) && self.iscarrying == 1 )
    {
        self notify( "_encstr_A97817572058AB92107F371367254ADFF0E80E9E9948751ADD" );
        waitframe();
    }

    while ( self ismantling() )
        waitframe();

    while ( !self isonground() )
        waitframe();

    self.pers["_encstr_A2FB10AFE391259857B908783F59C26F5BEB"] = level.cyber_loadouts[self.team];
    scripts\mp\equipment\tac_insert::_id_13684( self.origin, self.angles );
    self.gamemode_chosenclass = self.class;
    self.pers["_encstr_9E95066E81471B5F"] = "_encstr_87AC099DB05B59ADF619AC";
    self.pers["_encstr_9F690A0DBF9F69AE0A510886"] = "_encstr_87AC099DB05B59ADF619AC";
    self.class = "_encstr_87AC099DB05B59ADF619AC";
    self.lastclass = "_encstr_87AC099DB05B59ADF619AC";
    self notify( "_encstr_A1D70BDE071B53794F208AE3F8" );
    self.gameobject_fauxspawn = 1;
    self.faux_spawn_stance = self getstance();
    thread scripts\mp\playerlogic::spawnplayer( 1 );
}

removebombcarrierclass()
{
    self endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );

    if ( isdefined( self.iscarrying ) && self.iscarrying == 1 )
    {
        self notify( "_encstr_A97817572058AB92107F371367254ADFF0E80E9E9948751ADD" );
        waitframe();
    }

    while ( self ismantling() )
        waitframe();

    while ( !self isonground() )
        waitframe();

    self notify( "_encstr_9D4D108DBD373A7D9A57ECCEAC39DC85EA47" );
    waitframe();
    self.pers["_encstr_A2FB10AFE391259857B908783F59C26F5BEB"] = undefined;
    scripts\mp\equipment\tac_insert::_id_13684( self.origin, self.angles );
    self notify( "_encstr_A1D70BDE071B53794F208AE3F8" );
    self.faux_spawn_stance = self getstance();
    thread scripts\mp\playerlogic::spawnplayer( 1 );
}

setcarriervisibility()
{
    if ( isdefined( level.showenemycarrier ) )
    {
        switch ( level.showenemycarrier )
        {
            case 0:
                level.cyberemp.objidpingfriendly = 1;
                level.cyberemp.objidpingenemy = 0;
                level.cyberemp.objpingdelay = 0.0;
                break;
            case 1:
                level.cyberemp.objidpingfriendly = 0;
                level.cyberemp.objidpingenemy = 0;
                level.cyberemp.objpingdelay = 0.05;
                break;
            case 2:
                level.cyberemp.objidpingfriendly = 1;
                level.cyberemp.objidpingenemy = 0;
                level.cyberemp.objpingdelay = 1.0;
                break;
            case 3:
                level.cyberemp.objidpingfriendly = 1;
                level.cyberemp.objidpingenemy = 0;
                level.cyberemp.objpingdelay = 1.5;
                break;
            case 4:
                level.cyberemp.objidpingfriendly = 1;
                level.cyberemp.objidpingenemy = 0;
                level.cyberemp.objpingdelay = 2.0;
                break;
            case 5:
                level.cyberemp.objidpingfriendly = 1;
                level.cyberemp.objidpingenemy = 0;
                level.cyberemp.objpingdelay = 3.0;
                break;
            case 6:
                level.cyberemp.objidpingfriendly = 1;
                level.cyberemp.objidpingenemy = 0;
                level.cyberemp.objpingdelay = 4.0;
                break;
        }
    }
    else
    {
        level.cyberemp.objidpingfriendly = 1;
        level.cyberemp.objidpingenemy = 0;
        level.cyberemp.objpingdelay = 3.0;
    }
}

onexfilstarted()
{
    level.cyberemp scripts\mp\gameobjects::releaseid();

    if ( isdefined( level.cyberemp.carrier ) )
    {
        foreach ( var_1 in level.objectives )
        {
            if ( var_1.bombplanted == 0 )
                var_1.trigger disableplayeruse( level.cyberemp.carrier );
        }
    }

    level.cyberemp.trigger delete();
    level.cyberemp.visuals[0] delete();
}

emplightsoff()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    level waittill( "_encstr_8B190E59AD077D8C5647F67358D19532" );

    for (;;)
    {
        foreach ( var_1 in level.emplights )
        {
            var_1.switchstatus = "_encstr_9819045FD029";
            handleemponoff( var_1 );
        }

        wait 0.1;

        foreach ( var_1 in level.emplights )
        {
            var_1.switchstatus = "_encstr_9707035F3B";
            handleemponoff( var_1 );
        }

        wait 0.15;

        foreach ( var_1 in level.emplights )
        {
            var_1.switchstatus = "_encstr_9819045FD029";
            handleemponoff( var_1 );
        }

        wait 0.1;

        foreach ( var_1 in level.emplights )
        {
            var_1.switchstatus = "_encstr_9707035F3B";
            handleemponoff( var_1, 0.05 );
        }

        wait 0.5;

        foreach ( var_1 in level.emplights )
        {
            var_1.switchstatus = "_encstr_9819045FD029";
            handleemponoff( var_1 );
        }

        wait 10;
    }
}

destroytvs()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    level waittill( "_encstr_8B190E59AD077D8C5647F67358D19532" );
    var_0 = getentarray( "_encstr_A9AB105C855BE3B2C3385B8218D9AFBB1776", "_encstr_A8ED125A5723AF9B405770989B255F1FF3897A60" );

    foreach ( var_2 in var_0 )
    {
        var_3 = getscriptablearray( var_2.target, "_encstr_B8CE0BE43FC317DF690862BA48" );

        foreach ( var_5 in var_3 )
        {
            var_5 setscriptablepartstate( "_encstr_8807030C4C", "_encstr_816705F27BBF90" );
            waitframe();
        }
    }
}

handleemponoff( var_0, var_1 )
{
    var_2 = 0.2;

    if ( isdefined( var_1 ) )
        var_2 = var_1;

    if ( var_0.switchstatus == "_encstr_9707035F3B" )
    {
        self notify( "_encstr_9E7410706758792DBAA2C708A9877BDF5285" );

        if ( !var_0.lightson )
        {
            foreach ( var_4 in var_0.lights )
                var_4 thread scripts\mp\motiondetectors::lightonroutine( randomfloat( var_2 ) );

            thread scripts\mp\motiondetectors::onoffmodelswap( var_0.models, "_encstr_9707035F3B" );
            var_0.lightson = 1;
        }
    }
    else if ( var_0.switchstatus == "_encstr_9819045FD029" )
    {
        if ( var_0.lightson )
        {
            level scripts\mp\motiondetectors::lightoffroutine( var_0.lights );
            thread scripts\mp\motiondetectors::onoffmodelswap( var_0.models, "_encstr_9819045FD029" );
            var_0.lightson = 0;
        }

        if ( isdefined( self.script_parameters ) && self.script_parameters == "_encstr_89B0075BB73A4B7BCD" )
            var_0.switchstatus = "_encstr_89B0075BB73A4B7BCD";

        self notify( "_encstr_BCD50BD161DF40C53701ED29BA" );
    }
}

setupwaypointicons()
{
    scripts\mp\gamelogic::setwaypointiconinfo( "_encstr_AA0D124B6CBD377DDDB0F283B75A373AEBAC6B83", 2, "_encstr_9BA4080D39CFFB5AB7C1", "_encstr_81F31C23B75161C04F07FDA14F4D0E1149E567FA7216A7E10777B77DB1BA", "_encstr_8966145CC36179A4599F9831CF587ED5B8FE424F97AE", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "_encstr_883F192387B7734FE71918A1D793F51507489F23C0DED369321A02", 1, "_encstr_B9FC095F8BCCFF02D92B43", "_encstr_9DD31F257F893988C4E36F47F798D064D1E82D7E9431FD912EE72B1B8FB6E8B059", "_encstr_8966145CC36179A4599F9831CF587ED5B8FE424F97AE", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "_encstr_9DA41DB84EF7E830D32F43597F5AE040AFE7A1D1772E70C82A2749277FB3BD", 0, "_encstr_B9FC095F8BCCFF02D92B43", "_encstr_B9B71FF8278017A501C30515E719FD4B2B7050908C78FBAF21A30E1CCF91F68376", "_encstr_A3361D5A36BDE6AFDD58CB83BD96378EF56CF2262BC9EB13DED64CB9D2E8CA", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "_encstr_8BDD1DB46CBDDCBEEE0BE5E0DE5AE6D17DE80BC9B3598EEB596B38CD2DA3B2", 0, "_encstr_80BF06CA78A2226B", "_encstr_95C31FA5CF0EC74D57D91890412F35ABA6E83F226AD62F03A9E1E008590F3E135F", "_encstr_A3361D5A36BDE6AFDD58CB83BD96378EF56CF2262BC9EB13DED64CB9D2E8CA", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "_encstr_95491EB0CA25DDEED771AB274797F0A18163108872BB73419F9DB91F33FFFB5B", 0, "_encstr_B9FC095F8BCCFF02D92B43", "_encstr_B9B71FF8278017A501C30515E719FD4B2B7050908C78FBAF21A30E1CCF91F68376", "_encstr_A3361D5A36BDE6AFDD58CB83BD96378EF56CF2262BC9EB13DED64CB9D2E8CA", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "_encstr_8B8D1D0372C72D773FE91178A81F03CB87621D1C7FFFF0C70DFD305880D365", 0, "_encstr_80BF06CA78A2226B", "_encstr_88851F38E740D765C1834555A759BD0BEBB09050CC38BBEFE143535D8F5136C336", "_encstr_A3361D5A36BDE6AFDD58CB83BD96378EF56CF2262BC9EB13DED64CB9D2E8CA", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "_encstr_87751BF08A651D2E17B16BE7875730E1C17258C0A17AA1A11BCC7BD067", 0, "_encstr_80BF06CA78A2226B", "_encstr_B3B22169B8D633A80799F755EE275D6129062876D3CF6FC8F15BE5173B6FEFDFC6E9FF", "_encstr_A3361D5A36BDE6AFDD58CB83BD96378EF56CF2262BC9EB13DED64CB9D2E8CA", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "_encstr_A3011BB76FCF1D271F4E8383B09980633683C5F3E9DF79153B633C48DF", 0, "_encstr_80BF06CA78A2226B", "_encstr_A49421A9A0D792938E82D4A87DF439896597D30949AF11A823AA3594723AAF0D1405A6", "_encstr_A3361D5A36BDE6AFDD58CB83BD96378EF56CF2262BC9EB13DED64CB9D2E8CA", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "_encstr_8C9620D2D8B79BF5EEC2971CF6D273A3EB1995CC56DC32D7AC6B389BB4A3B2BE731D", 0, "_encstr_B9FC095F8BCCFF02D92B43", "_encstr_A40101", "_encstr_A3361D5A36BDE6AFDD58CB83BD96378EF56CF2262BC9EB13DED64CB9D2E8CA", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "_encstr_803B209BF6DAF5CE579FD888BF91200921DF0594CBB3BBB62D8798984FA419279A43", 0, "_encstr_80BF06CA78A2226B", "_encstr_A40101", "_encstr_A3361D5A36BDE6AFDD58CB83BD96378EF56CF2262BC9EB13DED64CB9D2E8CA", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "_encstr_8AA01EB5369DFAB4D87B37BEEE585E07EDB4378E7DB2D61CBE0EC68537D12B46", 0, "_encstr_9BA4080D39CFFB5AB7C1", "_encstr_A40101", "_encstr_A13D2613CB17600FED2AB0800286091EBF722A9D23834895D751A0A8AADEE3538B1DAE18BA47B085", 0 );
}
