// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

init()
{
    if ( !getdvarint( "_encstr_9F341A6EBB1336257A19F89843D9C3C8A325E0EB1E1B186BA3429070", 0 ) || scripts\mp\utility\game::round_vehicle_logic() == "_encstr_B6EE0959C2F3B0127F8ADB" )
        return;

    level.debug_silo_jump = spawnstruct();
    level.debug_silo_jump.disabled = 0;
    level.debug_silo_jump.cost = getdvarint( "_encstr_A48D1FCD8DC9BE4CE4FAC2D847FADA7BC856F5D23799C6C28EB47B9BAFD8DEB9E8", 45 );
    level.debug_silo_jump.minigamewinnersettings = getdvarfloat( "_encstr_B39627F347105103B67E8A6223187715F823A761C51825D75D50624A2EED33CDB0EF70F555C8AFA305", 1.0 );
    level.debug_silo_jump.minigameapplyplayernamesettings = getdvarint( "_encstr_8C812343F7A0E1B306AE5A92D3C8C7A5A853F7D115E8F5872D2DB2BA9EBD631D60BF4D2191", -1 );
    level.debug_silo_jump._id_12C89 = getdvarfloat( "_encstr_888B2853095E17F6E0C7E1E47961FD0F8D61297A303C936EE8B317FE175087372F1923927E854FE528BB", 10.0 );
    _encstr_AD64266E6CE44B1CD19B97B53897D9B0B62B1DBC389537F2139CBE7658D6AC8E2F3895DC17B3DC8D::_id_12B11( "_encstr_89431933FABF8B18B26CC5C7601298555B9269FB502B5D400E34F9", ::playerdropplunderondeath );
    _encstr_AD64266E6CE44B1CD19B97B53897D9B0B62B1DBC389537F2139CBE7658D6AC8E2F3895DC17B3DC8D::_id_12B11( "_encstr_B6DC0CC6B4E46C639551D2B6B239", ::circletimer );
    _encstr_AD64266E6CE44B1CD19B97B53897D9B0B62B1DBC389537F2139CBE7658D6AC8E2F3895DC17B3DC8D::_id_12B11( "_encstr_B4F00C2FCD23F90764D788D07F92", ::_id_12804 );
    _encstr_AD64266E6CE44B1CD19B97B53897D9B0B62B1DBC389537F2139CBE7658D6AC8E2F3895DC17B3DC8D::_id_12B11( "_encstr_8B351F0DE7BDEA30E86097EF10A5EBF0690B9584D8C3534DB129D3AFD038BCBAC1", ::_id_11B16 );
    _encstr_AD64266E6CE44B1CD19B97B53897D9B0B62B1DBC389537F2139CBE7658D6AC8E2F3895DC17B3DC8D::_id_12B11( "_encstr_B389175910B322D92AD77F511E3F61E3AD9841D3C02756387C", ::_id_125BD );
    _encstr_AD64266E6CE44B1CD19B97B53897D9B0B62B1DBC389537F2139CBE7658D6AC8E2F3895DC17B3DC8D::_id_12B11( "_encstr_971116A30373186C7BC0FA7B832A217FC8D9B37B0D31A709", ::_id_13DCB );
    _encstr_AD64266E6CE44B1CD19B97B53897D9B0B62B1DBC389537F2139CBE7658D6AC8E2F3895DC17B3DC8D::_id_12B11( "_encstr_AB34207E1E4BA27FF5BF382F6155D6FC38422C38867BA7371BC7A3B237450B18A986", ::assignspectatortospectateplayer );

    if ( !getdvarint( "_encstr_A65B2052DF8061BA350ED3812951E0F0ED15BE7F5A61EA60F38C7D98FF087B6CB7AC", 0 ) )
        _encstr_AD64266E6CE44B1CD19B97B53897D9B0B62B1DBC389537F2139CBE7658D6AC8E2F3895DC17B3DC8D::load_sequence_3_vfx( "_encstr_AD220628430DDBF1" );

    _encstr_AD64266E6CE44B1CD19B97B53897D9B0B62B1DBC389537F2139CBE7658D6AC8E2F3895DC17B3DC8D::load_sequence_3_vfx( "_encstr_9DC3192FAF4AD9AF701DA86C9FD92A7D621350A347077BFBF70537" );
    _encstr_AD64266E6CE44B1CD19B97B53897D9B0B62B1DBC389537F2139CBE7658D6AC8E2F3895DC17B3DC8D::load_sequence_3_vfx( "_encstr_88C922F820F34779B7189DCD1902CD41D34B2F12E374AAC789F07B712BD323EFF3D24042" );
    thread teamswithcirclepeek();
}

teamswithcirclepeek()
{
    while ( !isdefined( level.onplayerspawncallbacks ) )
        waitframe();

    scripts\mp\utility\spawn_event_aggregator::registeronplayerspawncallback( ::onplayerspawned );
}

onplayerspawned()
{
    _id_14012();
}

_id_12516()
{
    return istrue( level.br_prematchstarted ) && !istrue( self.delay_enter_combat_after_investigating_grenade ) && !level.debug_silo_jump.disabled && self.plundercount >= level.debug_silo_jump.cost;
}

playerdropplunderondeath( var_0, var_1 )
{
    var_2 = self.plundercount;

    if ( istrue( self.respawningfromtoken ) )
    {
        var_2 = var_2 - level.debug_silo_jump.cost;

        if ( var_2 < 0 )
            var_2 = 0;
    }

    var_3 = int( var_2 * level.debug_silo_jump.minigamewinnersettings );
    var_2 = var_2 - var_3;
    _encstr_A18624E0EFEA87BAA35A56BBFB0EBF36CA096B407105AFF796F09F4F7DAFB0DCE162357947B7::playersetplundercount( var_2, roof_combat_spawn_func() );

    if ( level.debug_silo_jump.minigameapplyplayernamesettings >= 0 )
        var_3 = int( min( level.debug_silo_jump.minigameapplyplayernamesettings, var_3 ) );

    _encstr_A18624E0EFEA87BAA35A56BBFB0EBF36CA096B407105AFF796F09F4F7DAFB0DCE162357947B7::ml_p3_func( var_3, var_0 );
    return 1;
}

circletimer( var_0 )
{
    if ( !var_0 )
        _encstr_B47322A2CE6512F8030826172850A7DA0355EB582FE30B7F29E8EF37685099626DFCB256::_id_13249();

    var_1 = _encstr_B47322A2CE6512F8030826172850A7DA0355EB582FE30B7F29E8EF37685099626DFCB256::remove_engineer_class();

    if ( !level.debug_silo_jump.disabled && var_0 >= var_1 )
    {
        level.debug_silo_jump.disabled = 1;

        foreach ( var_3 in level.players )
        {
            if ( !isdefined( var_3 ) || !isalive( var_3 ) )
                continue;

            var_3 _id_14012();
            _encstr_BDA72853D95A88F3436F976B409FC760D7ABA3C7C92878A6F3938FB004E0B8FFA99A8D09905B4A14333F::isbrsquadleader( var_3, "_encstr_BDBB13E7570AABCEBC7DFA102873F72A291A3F6FDF", undefined, 2 );
        }
    }

    return 0;
}

_id_12804( var_0 )
{
    var_1 = 0;

    if ( isdefined( var_0 ) )
        var_1 = var_0._id_133E4;

    _id_14012( var_1 );
}

_id_14012( var_0 )
{
    if ( _id_12516() )
    {
        if ( !_encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::hasrespawntoken() )
        {
            _encstr_823124376CE42DC11DCD5EB6E0CB3BB0ADAC3A2FE056CDBC314EAF83A536DAAB079BE2D9B9B1::addrespawntoken( 1 );

            if ( !istrue( var_0 ) )
                thread scripts\mp\hud_message::showsplash( "_encstr_B71D22AED2DF88753772B0605A0D3D06336DAE1F599790CF9B6AE8E00229F918DF1B3597" );
        }
    }
    else if ( _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::hasrespawntoken() )
    {
        _encstr_823124376CE42DC11DCD5EB6E0CB3BB0ADAC3A2FE056CDBC314EAF83A536DAAB079BE2D9B9B1::removerespawntoken();

        if ( !istrue( var_0 ) )
            thread scripts\mp\hud_message::showsplash( "_encstr_ABAD20FAAE7E371545E06A3320BFCD37739D53604F03631159E0323A208705BF8BFD" );
    }
}

_id_1336E( var_0 )
{
    waittillframeend;
    scripts\mp\utility\lower_message::setlowermessageomnvar( 9, int( gettime() + var_0 * 1000 ) );
    _encstr_B47322A2CE6512F8030826172850A7DA0355EB582FE30B7F29E8EF37685099626DFCB256::_id_131A2( 1 );
    thread spawn_drones( var_0 );
}

spawn_drones( var_0 )
{
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );

    if ( isdefined( var_0 ) )
        wait( var_0 );

    _encstr_B47322A2CE6512F8030826172850A7DA0355EB582FE30B7F29E8EF37685099626DFCB256::_id_131A2( 0 );
    scripts\mp\utility\lower_message::setlowermessageomnvar( 0 );
}

roof_combat_spawn_func()
{
    var_0 = spawnstruct();
    var_0._id_133E4 = 1;
    return var_0;
}

_id_11B16()
{
    return 0;
}

_id_125BD( var_0, var_1 )
{
    if ( !isdefined( var_0 ) )
    {
        if ( level.debug_silo_jump._id_12C89 )
        {
            var_2 = level.debug_silo_jump._id_12C89;
            thread _id_1336E( var_2 );
            wait( var_2 );
            return 1;
        }
    }

    return 0;
}

_id_13DCB( var_0 )
{
    return 1;
}

assignspectatortospectateplayer( var_0, var_1 )
{
    var_0 notify( "_encstr_A43F2B96763742BF10792B67E08B715BF70E538DCE99DAC33BC0336F91A029F34BA66B864BC92007C3114F8740" );

    if ( istrue( level.endmatchcameratransitions ) )
        return 0;

    if ( !isdefined( var_1 ) || !isplayer( var_1 ) || !isalive( var_1 ) && !isdefined( var_1._id_1391A ) )
        return 0;

    if ( var_0.team == var_1.team )
        return 0;

    if ( !scripts\mp\utility\teams::getteamdata( var_0.team, "_encstr_892A0BA3D3F25C4033ADD34893" ) )
        return 0;

    thread cargo_truck_mg_mp_init( var_0 );
    return 1;
}

cargo_truck_mg_mp_init( var_0 )
{
    level endon( "_encstr_A18D15269C9AE00BEE9B82630BCBAC93CD157391B4B9D9" );
    var_0 endon( "_encstr_A43F2B96763742BF10792B67E08B715BF70E538DCE99DAC33BC0336F91A029F34BA66B864BC92007C3114F8740" );
    var_0 endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    var_0 _encstr_B2E4252B3FAB9B1009F38F29237E449729C578A17B25C3F279A3502A7A02C66C77330DD01FE027::_id_126AB();
    var_0 setclientomnvar( "_encstr_8F3F1455998F9B292573F1881B7FF7B3CF2CD553FD0B", var_0 getentitynumber() );
    wait 1.0;
    var_1 = _encstr_B2E4252B3FAB9B1009F38F29237E449729C578A17B25C3F279A3502A7A02C66C77330DD01FE027::regive_killstreak_after_use( var_0 );
    thread _encstr_B2E4252B3FAB9B1009F38F29237E449729C578A17B25C3F279A3502A7A02C66C77330DD01FE027::assignspectatortospectateplayer( var_0, var_1 );
}
