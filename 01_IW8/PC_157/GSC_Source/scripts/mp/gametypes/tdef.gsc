// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

main()
{
    if ( getdvar( "_encstr_9E700851BEE33DF1B547" ) == "_encstr_8A510E519897A1332E4A3898E243F5B9" )
        return;

    scripts\mp\globallogic::init();
    scripts\mp\globallogic::setupcallbacks();
    level.keepviewingthe747 = [];
    var_0 = getentarray( "_encstr_BE8D161BBC895639FAB26B83BE835AD8D6D538AF8E394BCE", "_encstr_B8CE0BE43FC317DF690862BA48" );

    foreach ( var_2 in var_0 )
        level.keepviewingthe747[level.keepviewingthe747.size] = var_2.origin;

    level.keepstreamposfresh = ( 0, 0, 0 );
    var_4 = getentarray( "_encstr_93170DA48D825F66F84B3018EF127A", "_encstr_B8CE0BE43FC317DF690862BA48" );

    foreach ( var_6 in var_4 )
    {
        if ( var_6.script_label == "_encstr_A40703FA31" )
        {
            level.keepstreamposfresh = var_6.origin;
            break;
        }
    }

    var_8[0] = scripts\mp\utility\game::getgametype();
    var_8[1] = "_encstr_A919048E91AD";
    scripts\mp\gameobjects::main( var_8 );

    if ( isusingmatchrulesdata() )
    {
        level.initializematchrules = ::initializematchrules;
        [[ level.initializematchrules ]]();
        level thread scripts\mp\utility\game::reinitializematchrulesonmigration();
    }
    else
    {
        scripts\mp\utility\game::registerroundswitchdvar( scripts\mp\utility\game::getgametype(), 0, 0, 9 );
        scripts\mp\utility\game::registertimelimitdvar( scripts\mp\utility\game::getgametype(), 10 );
        scripts\mp\utility\game::registerscorelimitdvar( scripts\mp\utility\game::getgametype(), 7500 );
        scripts\mp\utility\game::registerroundlimitdvar( scripts\mp\utility\game::getgametype(), 1 );
        scripts\mp\utility\game::registerwinlimitdvar( scripts\mp\utility\game::getgametype(), 1 );
        scripts\mp\utility\game::registernumlivesdvar( scripts\mp\utility\game::getgametype(), 0 );
        scripts\mp\utility\game::registerhalftimedvar( scripts\mp\utility\game::getgametype(), 0 );
        setdynamicdvar( "_encstr_93B9220B3ECEC1E51B689DE92167DB9835B7A38B87A055ADD73054D9F0AD5A884B28DA0D", 1 );
        setdynamicdvar( "_encstr_A60F1D93C99ED7B39073A69731A03A3F4D632BBAD0782B2F106BCC843B6847", 60 );
        level.matchrules_enemyflagradar = 1;
        level.matchrules_damagemultiplier = 0;
        level.matchrules_vampirism = 0;
    }

    level.carrierarmor = 100;
    updategametypedvars();
    level.teambased = 1;
    level.onstartgametype = ::onstartgametype;
    level.onplayerconnect = ::onplayerconnect;
    level.getspawnpoint = ::getspawnpoint;
    level.onplayerkilled = ::onplayerkilled;
    level.onrespawndelay = ::getrespawndelay;
    level.key_position = 1;
    level.key_drop_on_client_death_disconnect = [];
    level.scorefrozenuntil = 0;
    level.key_hint = 0;
    game["_encstr_B8DA073D799798C7C7"]["_encstr_B1F9099AC15967EB30E16D"] = "_encstr_A1A012AFE7B2D5C8096AD16E97FD901D5A5B130D";

    if ( getdvarint( "_encstr_B8020A9E9AA69A6292517AA0" ) )
        game["_encstr_B8DA073D799798C7C7"]["_encstr_B1F9099AC15967EB30E16D"] = "_encstr_891904A1D8BE" + game["_encstr_B8DA073D799798C7C7"]["_encstr_B1F9099AC15967EB30E16D"];

    game["_encstr_A9B10863D3ADDAF8974B"]["_encstr_B1EE0E6F6BE28E18A99D613EC48180C5"] = &"_encstr_8B180F530AF21929253545FA90313DA711";
    game["_encstr_BE9B133BC818DA4909FE15CAE723B25F6360FF8368"] = "_encstr_9B6F165B83F5DD1693EBF626A6561B1D5ACE2BEBB1B7E6A3";
    game["_encstr_982A154CDEAD89D7E4B2C67B67CA932B91D7DCF657B98C"] = "_encstr_8FED17AD1CEBDD169CBEBD26A695C63A5A9DACAF3A0B5BB2E6";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_9E240C10CE33016D6AEA39B0F244"] = "_encstr_8C660A4DDA8F8B4D1FD0716D";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_B3420C3D576AC3C8736F09906BB2"] = "_encstr_8C660A4DDA8F8B4D1FD0716D";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_BE8F0D33368576AF23397B83E02B19"] = "_encstr_A44E12A81B3A5879C28B95A5C36A3469C43250C3";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_B65C0EFD5C761088EB4A9BA323435DC0"] = "_encstr_87280F7B57E499B18576FA9CCA1DEAE437";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_AACD0DCCD858ECAF9D59A31385C65B"] = "_encstr_B2A615882782A13172C3EAFCDDAA7F4EFF1FD878DF2B58";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_B74A1159DC955BBCF5998DB0ECBEE8B0ADCADC"] = "_encstr_98791347ED0A80B92FC332B9AAE7E4B12351F7DB6E";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_A21113F5B8213FD83F48B27A58E7578BD81F686DC5"] = "_encstr_816B14E26DAFD8726E5833BCABF26B417F6FD0BB704B";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_B65914250DC24BA2D71B1878F73F1B837B732638A7AA"] = "_encstr_816914425BF3A0D0EB5B15AECA82477F555550A7FEAA";
    setomnvar( "_encstr_B401134BBCB7F0D59287CDD1976A88382C5570C1A2", -2 );
}

initializematchrules()
{
    scripts\mp\utility\game::setcommonrulesfrommatchrulesdata();
    setdynamicdvar( "_encstr_8936174EF93AC195904850D10888AA89258F8DDDED649941F9", getmatchrulesdata( "_encstr_9785091D3F72ED9579C30B", "_encstr_A1540E480F586377EB48F8E239D9AE77" ) );
    setdynamicdvar( "_encstr_A8A419E6C69CF5A391CA66FAC1835B152BB06BD596471A233616B3", getmatchrulesdata( "_encstr_9785091D3F72ED9579C30B", "_encstr_897D1051A333D95FE7895F21B3CA209052DF" ) );
    setdynamicdvar( "_encstr_827318B9C6C9BEE8919533AF3838D6233685D91A8539E4D2564E", getmatchrulesdata( "_encstr_9785091D3F72ED9579C30B", "_encstr_8F8D0FA023FCA5A0B75F9EF7229348BBE2" ) );
    setdynamicdvar( "_encstr_9FD0159B63FB17130F5AB7F88216B28E4702C8338F37DF", getmatchrulesdata( "_encstr_9785091D3F72ED9579C30B", "_encstr_B3910CCEAE82954006FFF918FF25" ) );
    setdynamicdvar( "_encstr_A9A8164B867B4F33E1087AE190C72D2371E7A5C2B5A0F7BC", getmatchrulesdata( "_encstr_9785091D3F72ED9579C30B", "_encstr_97BE0DC31E4063FF01B0B3C9C8BFB4" ) );
    setdynamicdvar( "_encstr_8F301A9B6CC9F5D1912B99AF360BC99C5A592724B7DCAE378AD2B595", getmatchrulesdata( "_encstr_9785091D3F72ED9579C30B", "_encstr_9E3411E3CF33B32CBBF840AA20A3E26308A16D" ) );
    setdynamicdvar( "_encstr_825F1B7BCF98D9C325B142D9598F83CA28BBF2D27FC09B174669EA13E1", getmatchrulesdata( "_encstr_9785091D3F72ED9579C30B", "_encstr_A8CD125A4156BB2C5065CAFF450872F77638C3A2" ) );
    setdynamicdvar( "_encstr_B33B155F88DBC7DB691537618D031281C278BB9FE09122", getmatchrulesdata( "_encstr_9785091D3F72ED9579C30B", "_encstr_9D210C2D459309DB3AF230881ACA" ) );
    setdynamicdvar( "_encstr_BD5514ABA1BB3FB81C55B0D0FFDF533423C42DC4EF08", getmatchrulesdata( "_encstr_9785091D3F72ED9579C30B", "_encstr_A2A10B53E0A383E3DDFD24218B" ) );
    setdynamicdvar( "_encstr_98721D16768B172BC40FA0711B1441AF409E0D938B1219F0A70BB9A8DB311A", getmatchrulesdata( "_encstr_9785091D3F72ED9579C30B", "_encstr_BE35143336B0B30A368E2D9D1647A5DBCD112B8DC2F2" ) );
    setdynamicdvar( "_encstr_93B9220B3ECEC1E51B689DE92167DB9835B7A38B87A055ADD73054D9F0AD5A884B28DA0D", getmatchrulesdata( "_encstr_8F0D0FBA090405CEDD3567178DDFD1A4F9", "_encstr_956519577F5768F7F318E3EF359AD02A35CB2E601D926833A2E540" ) );
    setdynamicdvar( "_encstr_A60F1D93C99ED7B39073A69731A03A3F4D632BBAD0782B2F106BCC843B6847", getmatchrulesdata( "_encstr_8F0D0FBA090405CEDD3567178DDFD1A4F9", "_encstr_8AD4149F674EBB18D8338807108A184B9B2D5B178ABF" ) );
    setdynamicdvar( "_encstr_9F521A9B56AB9FC311F8AA3120617D472548150DF355AF8AE5A0829B", getmatchrulesdata( "_encstr_870E0A4EB993E21BA543ABF7", "_encstr_A63F119BA1DB77A8E62BD6BC34589CE4B42B93" ) );
    setdynamicdvar( "_encstr_B981174A6EFB27FDE088DBA13055783DD96040BD78E9947DE7", getmatchrulesdata( "_encstr_870E0A4EB993E21BA543ABF7", "_encstr_82FA0EC1D4108105B9FEC974ACBB42E7" ) );
    setdynamicdvar( "_encstr_B42F12130FCE603B237DB42154AB31944D4B3F47", 0 );
    scripts\mp\utility\game::registerhalftimedvar( "_encstr_B6EF0559D4F798", 0 );
    setdynamicdvar( "_encstr_8C2B113B9FC247CBFAA75DAEA0EBED656837FF", 0 );
}

onstartgametype()
{
    setclientnamemode( "_encstr_95900C2EDBD01F99D6B1DFEB878D" );

    if ( !isdefined( game["_encstr_A6D60EE09BF413B9945185CB4797C583"] ) )
        game["_encstr_A6D60EE09BF413B9945185CB4797C583"] = 0;

    if ( game["_encstr_A6D60EE09BF413B9945185CB4797C583"] )
    {
        var_0 = game["_encstr_941C0A6AF345075ED05BEAD3"];
        var_1 = game["_encstr_95A70AA81FEE295D3A2F56DE"];
        game["_encstr_941C0A6AF345075ED05BEAD3"] = var_1;
        game["_encstr_95A70AA81FEE295D3A2F56DE"] = var_0;
    }

    foreach ( var_3 in level.teamnamelist )
    {
        scripts\mp\utility\game::setobjectivetext( var_3, &"_encstr_80C810F421A4A80DA892CA2AA6978A1154C8" );

        if ( level.splitscreen )
            scripts\mp\utility\game::setobjectivescoretext( var_3, &"_encstr_80C810F421A4A80DA892CA2AA6978A1154C8" );
        else
            scripts\mp\utility\game::setobjectivescoretext( var_3, &"_encstr_9E23169E2125A2345129CA2A4D975188A891F56A1A3D2915" );

        scripts\mp\utility\game::setobjectivehinttext( var_3, &"_encstr_BC7F1E1F316C6D189993AB17E6072134D5B9E7AF1947A1C09FBDA299431378EC" );
    }

    initspawns();
    tdef();
}

updategametypedvars()
{
    _encstr_88EA20CDD8932D38E8B9CB5BC1BCD985D6AC47E58395CD5ED8F6B6B5DBDCE2B3378D::updatecommongametypedvars();
    level._id_1283A = scripts\mp\utility\dvars::dvarintvalue( "_encstr_A1540E480F586377EB48F8E239D9AE77", 50, 0, 250 );
    level._id_1283B = scripts\mp\utility\dvars::dvarintvalue( "_encstr_897D1051A333D95FE7895F21B3CA209052DF", 100, 0, 250 );
    level._id_12839 = scripts\mp\utility\dvars::dvarintvalue( "_encstr_8F8D0FA023FCA5A0B75F9EF7229348BBE2", 250, 0, 250 );
    level.scoringtime = scripts\mp\utility\dvars::dvarfloatvalue( "_encstr_B3910CCEAE82954006FFF918FF25", 1, 1, 10 );
    level.scorepertick = scripts\mp\utility\dvars::dvarintvalue( "_encstr_97BE0DC31E4063FF01B0B3C9C8BFB4", 1, 1, 25 );
    level.carrierbonustime = scripts\mp\utility\dvars::dvarfloatvalue( "_encstr_9E3411E3CF33B32CBBF840AA20A3E26308A16D", 4, 0, 10 );
    level.carrierbonusscore = scripts\mp\utility\dvars::dvarintvalue( "_encstr_A8CD125A4156BB2C5065CAFF450872F77638C3A2", 25, 0, 250 );
    level.delayplayer = scripts\mp\utility\dvars::dvarintvalue( "_encstr_9D210C2D459309DB3AF230881ACA", 1, 0, 1 );
    level.spawndelay = scripts\mp\utility\dvars::dvarfloatvalue( "_encstr_A2A10B53E0A383E3DDFD24218B", 2.5, 0, 30 );
    level.player_has_respawn_munition = scripts\mp\utility\dvars::dvarfloatvalue( "_encstr_BE35143336B0B30A368E2D9D1647A5DBCD112B8DC2F2", 10, 0, 30 );
    level.possessionresetcondition = scripts\mp\utility\dvars::dvarintvalue( "_encstr_956519577F5768F7F318E3EF359AD02A35CB2E601D926833A2E540", 0, 0, 2 );
    level.possessionresettime = scripts\mp\utility\dvars::dvarfloatvalue( "_encstr_8AD4149F674EBB18D8338807108A184B9B2D5B178ABF", 0, 0, 150 );
    level.idleresettime = scripts\mp\utility\dvars::dvarfloatvalue( "_encstr_82FA0EC1D4108105B9FEC974ACBB42E7", 15, 0, 60 );
    level.showenemycarrier = scripts\mp\utility\dvars::dvarintvalue( "_encstr_A63F119BA1DB77A8E62BD6BC34589CE4B42B93", 5, 0, 6 );
}

initspawns()
{
    level.spawnmins = ( 0, 0, 0 );
    level.spawnmaxs = ( 0, 0, 0 );
    scripts\mp\spawnlogic::setactivespawnlogic( "_encstr_B6EF0519F4F798", "_encstr_A8E80F2F633A9549FE2228CDCB8CA0C052" );
    scripts\mp\spawnlogic::addstartspawnpoints( "_encstr_A9C01AAD83BE1D91B5FA6E38587737FA8536365A59377DE63A58E4D1" );
    scripts\mp\spawnlogic::addstartspawnpoints( "_encstr_89F7184A933073BFC00FCBB00B684597470A8213DEFE8B361071" );
    scripts\mp\spawnlogic::addspawnpoints( "_encstr_BC850785638DA59537", "_encstr_B1090D98F3211171B757B62F41F7F8" );
    scripts\mp\spawnlogic::addspawnpoints( "_encstr_BC850785638DA59537", "_encstr_80E817B60EBEA3C8DAD737070BDD73FA9B2B1B7BB991C23997", 1, 1 );
    scripts\mp\spawnlogic::addspawnpoints( "_encstr_BA840579D3F7F6", "_encstr_B1090D98F3211171B757B62F41F7F8" );
    scripts\mp\spawnlogic::addspawnpoints( "_encstr_BA840579D3F7F6", "_encstr_80E817B60EBEA3C8DAD737070BDD73FA9B2B1B7BB991C23997", 1, 1 );
    var_0 = scripts\mp\spawnlogic::getspawnpointarray( "_encstr_B1090D98F3211171B757B62F41F7F8" );
    var_1 = scripts\mp\spawnlogic::getspawnpointarray( "_encstr_80E817B60EBEA3C8DAD737070BDD73FA9B2B1B7BB991C23997" );
    scripts\mp\spawnlogic::registerspawnset( "_encstr_930E073E8FC00DDF69", var_0 );
    scripts\mp\spawnlogic::registerspawnset( "_encstr_A30C093385361B4CB06C6D", var_1 );
    level.mapcenter = scripts\mp\spawnlogic::findboxcenter( level.spawnmins, level.spawnmaxs );
    setmapcenter( level.mapcenter );

    foreach ( var_3 in level.spawnpoints )
        freeze_timer_at_max_time_bomb_case( var_3 );
}

freeze_timer_at_max_time_bomb_case( var_0 )
{
    var_0.scriptdata.lootchopper_droploot = undefined;
    var_1 = getpathdist( var_0.origin, level.keepviewingthe747[0], 1000 );

    if ( var_1 < 0 )
        var_1 = scripts\engine\utility::distance_2d_squared( var_0.origin, level.keepviewingthe747[0] );
    else
        var_1 = var_1 * var_1;

    var_0.scriptdata.lootchopper_droploot = var_1;
}

getspawnpoint()
{
    var_0 = self.pers["_encstr_89EF05D46BA8FD"];

    if ( game["_encstr_A6D60EE09BF413B9945185CB4797C583"] )
        var_0 = scripts\mp\utility\game::getotherteam( var_0 )[0];

    if ( scripts\mp\spawnlogic::shoulduseteamstartspawn() )
    {
        var_1 = scripts\mp\spawnlogic::getspawnpointarray( "_encstr_A9BD0ED638EBA391DAFACDC10BBB9BBE" + var_0 + "_encstr_A4810727CEFBF7F281" );
        var_2 = scripts\mp\spawnlogic::getspawnpoint_startspawn( var_1 );
    }
    else
    {
        var_3 = [];
        var_3["_encstr_B95115D437B02D3D2FE3B30E15B251F7800BE373C8E568"] = level.keeprightdooropen.visuals[0].origin;

        if ( isdefined( level.keeprightdooropen.carrier ) )
            var_3["_encstr_873116B13F4CCADBD85037C6329FB383F31816AB63DF205D"] = level.keeprightdooropen.carrier.origin;
        else
            var_3["_encstr_873116B13F4CCADBD85037C6329FB383F31816AB63DF205D"] = var_3["_encstr_B95115D437B02D3D2FE3B30E15B251F7800BE373C8E568"];

        var_3["_encstr_B60A20D8B30D0B51F38DDC456E9BB9C5BFFA406028275329D3BFD04D5C97238152B3"] = 1000000;
        var_2 = scripts\mp\spawnlogic::getspawnpoint( self, var_0, "_encstr_930E073E8FC00DDF69", "_encstr_A30C093385361B4CB06C6D", undefined, var_3 );
    }

    return var_2;
}

tdef()
{
    level.flagmodel["_encstr_BC850785638DA59537"] = "_encstr_ABFE138D47CCF5ECC25BB2AFCC8DB0B3F5DD59371D";
    level.flagbase["_encstr_BC850785638DA59537"] = "_encstr_B169130653E887A27F1357C77D918AF779393E8AE9";
    level.carryflag["_encstr_BC850785638DA59537"] = "_encstr_B7AF18E09CF6C1D71B47337DD9856BCAAFCC8D0B9DBEEEACDCE8";
    level.flagmodel["_encstr_BA840579D3F7F6"] = "_encstr_8C9313401BC7DF89EF1DC5D0EE23B1676192D878B3";
    level.flagbase["_encstr_BA840579D3F7F6"] = "_encstr_B169130653E887A27F1357C77D918AF779393E8AE9";
    level.carryflag["_encstr_BA840579D3F7F6"] = "_encstr_AF4418F05E48B06046BBD481F9913DAD6188409B0F8E82614AFB";
    setupwaypointicons();
    level.iconescort = "_encstr_B72E15BC5E93E110914B48194FA3A9678B83204C754A87";
    level.iconkill = "_encstr_BA1D12978BFB432F70F833F171B06E095A336373";
    level.iconcaptureflag = "_encstr_9F2D13F416DBA9A8298390D1F37960CB017FE1776F";
    level.icondefendflag = "_encstr_9FBB15BB42B777301C2ED18F4C4720B543AA36017A2F24";
    level.iconreturnflag = "_encstr_BEA8163BA14BE3B25A0ADC2E1D4DCBD85E3DBE90EED85701";
    level._id_11C5F = "_encstr_8FC2187346E8A2FAA73BFB1EBD532957E20B83DBC1E1F578D6C7";
    level._id_11C60 = "_encstr_9787179C7EB3C1F071ABA8F94F9C0967AAE399A9591AB17927";
    level.icontarget = "_encstr_8B3610DD58E538DE9673D1AFA3854ED9CAE8";
    init_relic_noluck();
}

setupwaypointicons()
{
    scripts\mp\gamelogic::setwaypointiconinfo( "_encstr_BA1D12978BFB432F70F833F171B06E095A336373", 2, "_encstr_80BF06CA78A2226B", "_encstr_A67B1DA982FAA4398E829A54AFD33962CAF23D2494F5B4A4C4897D1A14A0A6", "_encstr_A8A213D2C6DBE6FADDC29783BD4B731DFAB54B1BC6", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "_encstr_BEA8163BA14BE3B25A0ADC2E1D4DCBD85E3DBE90EED85701", 0, "_encstr_9BA4080D39CFFB5AB7C1", "_encstr_BD92207D07C60FB5AF11C058F9677DD3FE50F7EAB26E3B0FCF497950796F669F77F6", "_encstr_A3481396B1B79BAF77162FE0EDD2373AEB66D858D9", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "_encstr_B72E15BC5E93E110914B48194FA3A9678B83204C754A87", 2, "_encstr_B9FC095F8BCCFF02D92B43", "_encstr_B9B71FF8278017A501C30515E719FD4B2B7050908C78FBAF21A30E1CCF91F68376", "_encstr_A3481396B1B79BAF77162FE0EDD2373AEB66D858D9", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "_encstr_9F2D13F416DBA9A8298390D1F37960CB017FE1776F", 0, "_encstr_9BA4080D39CFFB5AB7C1", "_encstr_B1D31D14B9C713C17FE93B13CF55094907A6AC7D806FD5E104851717394AD9", "_encstr_A3481396B1B79BAF77162FE0EDD2373AEB66D858D9", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "_encstr_9FBB15BB42B777301C2ED18F4C4720B543AA36017A2F24", 0, "_encstr_B9FC095F8BCCFF02D92B43", "_encstr_B9B71FF8278017A501C30515E719FD4B2B7050908C78FBAF21A30E1CCF91F68376", "_encstr_A3481396B1B79BAF77162FE0EDD2373AEB66D858D9", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "_encstr_8B3610DD58E538DE9673D1AFA3854ED9CAE8", 0, "_encstr_9BA4080D39CFFB5AB7C1", "_encstr_AF671FA905BEA4E48E289AA8EB7A728995CBF48429D72AA04AD12A45AFD00AA035", "_encstr_80EC15D2F3D0908FA73171985814F5C04181AF2A5FCD3C", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "_encstr_8FC2187346E8A2FAA73BFB1EBD532957E20B83DBC1E1F578D6C7", 0, "_encstr_B9FC095F8BCCFF02D92B43", "_encstr_B9B71FF8278017A501C30515E719FD4B2B7050908C78FBAF21A30E1CCF91F68376", "_encstr_9DBD2220875C59F31B3BAD2ED9923FED8EAF78B847E090BBB22388BEEBBA7F09E5ABE8E0", 0 );
    scripts\mp\gamelogic::setwaypointiconinfo( "_encstr_9787179C7EB3C1F071ABA8F94F9C0967AAE399A9591AB17927", 0, "_encstr_B9FC095F8BCCFF02D92B43", "_encstr_B9B71FF8278017A501C30515E719FD4B2B7050908C78FBAF21A30E1CCF91F68376", "_encstr_AB6E21D8B7231BB09BE89527D7A5B1DEDCBE770B971CF65A3747FAB1A399BE66EAC6D8", 0 );
}

init_relic_noluck()
{
    level.keepviewingthe747 = scripts\engine\utility::array_randomize( level.keepviewingthe747 );
    var_0 = level.keepviewingthe747[0] + ( 0, 0, 64 );
    var_1 = level.keepviewingthe747[0] + ( 0, 0, -64 );
    var_2 = scripts\engine\trace::ray_trace( var_0, var_1, undefined, scripts\engine\trace::create_default_contents( 1 ) );
    level.keepviewingthe747[0] = var_2["_encstr_B7260923C89E8F3378E72E"];
    level.keeprightdooropen = init_unlock_silo( "_encstr_BC850785638DA59537" );
    level thread player_in_bush_monitor();
}

player_in_bush_monitor()
{
    if ( !scripts\mp\flags::gameflag( "_encstr_989F0E38272BD6161DB143F532BDDC2B" ) )
    {
        level.key_activate._id_11F89 scripts\mp\gameobjects::setvisibleteam( "_encstr_AABA05236DC831" );
        level scripts\engine\utility::_id_143A5( "_encstr_989F0E38272BD6161DB143F532BDDC2B", "_encstr_8B5511DC1D16398EAF5BF68CACBECDB21DAB07" );
        level.key_activate._id_11F89 scripts\mp\gameobjects::setvisibleteam( "_encstr_BC19047780DA" );
    }

    if ( level.player_has_respawn_munition )
    {
        scripts\mp\flags::gameflagwait( "_encstr_989F0E38272BD6161DB143F532BDDC2B" );
        level.key_activate._id_11F89 thread _encstr_A3AF295A720B1BB083470E19BA8DA05741F2A5115190082D0F02834652F7680DBEFA53FC28F3477A6757D8::_id_1199E( level.player_has_respawn_munition, level.keeprightdooropen.curorigin + level.keeprightdooropen.offset3d );
        wait( level.player_has_respawn_munition );
        level.key_activate._id_11F89 scripts\mp\gameobjects::_id_1317F( level.iconcaptureflag, level.iconcaptureflag, level._id_11C60 );
        level.keeprightdooropen.trigger scripts\engine\utility::trigger_on();

        foreach ( var_1 in level.teamnamelist )
            scripts\mp\utility\dialog::leaderdialog( "_encstr_878314F62635AFD959CDAC4E4B1BFAB158381DBA27CA", var_1 );
    }
}

init_unlock_silo( var_0 )
{
    level.pickuptime = 0;
    level.returntime = 0;
    var_1 = 32;
    var_2 = spawn( "_encstr_9E6B0FE8274B9DD92BC9D7278591B4D5E6", level.keepviewingthe747[0], 0, var_1, 128 );
    var_3 = [];
    var_3[0] = spawn( "_encstr_93DC0DCD1B272D3847AF5BED23B2C6", level.keepviewingthe747[0] );
    var_3[0] setmodel( level.flagmodel[var_0] );
    var_3[0] setasgametypeobjective();
    var_3[0] setteaminhuddatafromteamname( var_0 );
    var_4 = "_encstr_9BA4080D39CFFB5AB7C1";
    var_5 = scripts\mp\gameobjects::createcarryobject( var_4, var_2, var_3, ( 0, 0, 85 ) );
    var_5 scripts\mp\gameobjects::allowcarry( "_encstr_BC19047780DA" );
    var_5 scripts\mp\gameobjects::setteamusetime( "_encstr_B9FC095F8BCCFF02D92B43", level.pickuptime );
    var_5 scripts\mp\gameobjects::setteamusetime( "_encstr_80BF06CA78A2226B", level.returntime );
    var_5 scripts\mp\gameobjects::setvisibleteam( "_encstr_AABA05236DC831" );
    var_5 scripts\mp\gameobjects::_id_1317F( level.iconescort, level.iconkill, level._id_11C60 );
    var_5 scripts\mp\objidpoolmanager::objective_set_play_intro( var_5.objidnum, 0 );
    var_5 scripts\mp\objidpoolmanager::objective_set_play_outro( var_5.objidnum, 0 );
    var_5 scripts\mp\gameobjects::_id_12B13( ::player_infil_already_played );
    var_5.allowweapons = 1;
    var_5.onpickup = ::onpickup;
    var_5.onpickupfailed = ::onpickup;
    var_5.ondrop = ::ondrop;
    var_5.onreset = ::onreset;

    if ( isdefined( level.showenemycarrier ) )
    {
        switch ( level.showenemycarrier )
        {
            case 0:
                var_5.objidpingfriendly = 1;
                var_5.objidpingenemy = 0;
                var_5.objpingdelay = 60.0;
                break;
            case 1:
                var_5.objidpingfriendly = 0;
                var_5.objidpingenemy = 0;
                var_5.objpingdelay = 0.05;
                break;
            case 2:
                var_5.objidpingfriendly = 1;
                var_5.objidpingenemy = 0;
                var_5.objpingdelay = 1.0;
                break;
            case 3:
                var_5.objidpingfriendly = 1;
                var_5.objidpingenemy = 0;
                var_5.objpingdelay = 1.5;
                break;
            case 4:
                var_5.objidpingfriendly = 1;
                var_5.objidpingenemy = 0;
                var_5.objpingdelay = 2.0;
                break;
            case 5:
                var_5.objidpingfriendly = 1;
                var_5.objidpingenemy = 0;
                var_5.objpingdelay = 3.0;
                break;
            case 6:
                var_5.objidpingfriendly = 1;
                var_5.objidpingenemy = 0;
                var_5.objpingdelay = 4.0;
                break;
        }

        var_6 = scripts\mp\objidpoolmanager::requestobjectiveid( 99 );
        var_5.pingobjidnum = var_6;
        scripts\mp\objidpoolmanager::objective_add_objective( var_6, "_encstr_936705F0224D13", var_5.origin );
        scripts\mp\objidpoolmanager::objective_set_play_intro( var_6, 0 );
        scripts\mp\objidpoolmanager::objective_set_play_outro( var_6, 0 );
        var_5 scripts\mp\gameobjects::setvisibleteam( "_encstr_AABA05236DC831", var_6 );
        objective_setownerteam( var_6, var_0 );
        var_5 scripts\mp\gameobjects::_id_1317F( level.iconescort, level.iconkill, level._id_11C60, var_6 );
    }
    else
    {
        var_5.objidpingfriendly = 1;
        var_5.objidpingenemy = 0;
        var_5.objpingdelay = 3.0;
    }

    level.key_activate = init_usb_animations( var_0, var_5 );
    return var_5;
}

player_infil_already_played( var_0 )
{
    return !var_0 scripts\cp_mp\utility\player_utility::isinvehicle();
}

init_usb_animations( var_0, var_1 )
{
    var_2 = var_1.visuals[0].origin;
    var_3 = spawn( "_encstr_93DC0DCD1B272D3847AF5BED23B2C6", var_2 );
    var_3 setmodel( level.flagbase[var_0] );
    var_3.ownerteam = "_encstr_9BA4080D39CFFB5AB7C1";
    var_3 setasgametypeobjective();
    var_3 setteaminhuddatafromteamname( var_0 );
    var_3._id_11F89 = scripts\mp\gameobjects::createobjidobject( var_2, "_encstr_9BA4080D39CFFB5AB7C1", ( 0, 0, 85 ), undefined, "_encstr_BC19047780DA", 0 );
    var_3._id_11F89 scripts\mp\gameobjects::setvisibleteam( "_encstr_BC19047780DA" );

    if ( level.player_has_respawn_munition )
    {
        var_1.trigger scripts\engine\utility::trigger_off();
        var_3._id_11F89 scripts\mp\gameobjects::_id_1317F( level.icontarget, level.icontarget, level._id_11C60 );
    }
    else
        var_3._id_11F89 scripts\mp\gameobjects::_id_1317F( level.iconcaptureflag, level.iconcaptureflag, level._id_11C60 );

    return var_3;
}

setteaminhuddatafromteamname( var_0 )
{
    if ( var_0 == "_encstr_BA840579D3F7F6" )
        self setteaminhuddata( 1 );
    else if ( var_0 == "_encstr_BC850785638DA59537" )
        self setteaminhuddata( 2 );
    else
        self setteaminhuddata( 0 );
}

onpickup( var_0, var_1, var_2 )
{
    self notify( "_encstr_BC990AFB70512B1281E00B42" );
    var_0 notify( "_encstr_B7920E671DE221A080A964EF2159ED8B" );
    level.key_activate._id_11F89 scripts\mp\gameobjects::setvisibleteam( "_encstr_AABA05236DC831" );
    level.keeprightdooropen.initscriptablemanagement = var_0;
    var_0 thread choose_and_drop_tank_near_hostage();
    var_0 thread player_helis();
    var_3 = scripts\mp\gameobjects::getownerteam();
    scripts\mp\gameobjects::setownerteam( var_0.team );
    var_4 = var_0.pers["_encstr_89EF05D46BA8FD"];

    if ( var_4 == "_encstr_BC850785638DA59537" )
        var_5 = "_encstr_BA840579D3F7F6";
    else
        var_5 = "_encstr_BC850785638DA59537";

    var_0 attachflag();
    var_0 scripts\mp\utility\stats::incpersstat( "_encstr_A97908D2E0D0A393875F", 1 );

    if ( self.ownerteam == "_encstr_BC850785638DA59537" )
        setomnvar( "_encstr_B401134BBCB7F0D59287CDD1976A88382C5570C1A2", var_0 getentitynumber() );
    else
        setomnvar( "_encstr_B401134BBCB7F0D59287CDD1976A88382C5570C1A2", var_0 getentitynumber() );

    var_0 setclientomnvar( "_encstr_9855147B2D80BF2B08FF2E3C9B58B9F737DB832269EE", 1 );

    if ( isdefined( level.showenemycarrier ) )
    {
        if ( level.showenemycarrier == 0 )
            scripts\mp\gameobjects::setvisibleteam( "_encstr_AABA05236DC831" );
        else
        {
            scripts\mp\gameobjects::setvisibleteam( "_encstr_B9FC095F8BCCFF02D92B43" );
            objective_state( self.pingobjidnum, "_encstr_A65A0856F3802ACA0D6B" );
            scripts\mp\gameobjects::updatecompassicon( "_encstr_80BF06CA78A2226B", self.pingobjidnum );
            objective_icon( self.pingobjidnum, "_encstr_A8A213D2C6DBE6FADDC29783BD4B731DFAB54B1BC6" );
            objective_setbackground( self.pingobjidnum, 2 );
            scripts\mp\objidpoolmanager::_id_11F7D( self.pingobjidnum, 1 );
            scripts\mp\objidpoolmanager::update_objective_setfriendlylabel( self.pingobjidnum, "_encstr_B9B71FF8278017A501C30515E719FD4B2B7050908C78FBAF21A30E1CCF91F68376" );
            scripts\mp\objidpoolmanager::update_objective_setenemylabel( self.pingobjidnum, "_encstr_A67B1DA982FAA4398E829A54AFD33962CAF23D2494F5B4A4C4897D1A14A0A6" );
            objective_setownerteam( self.pingobjidnum, var_4 );
        }
    }

    scripts\mp\gameobjects::_id_1317F( level.iconescort, level.iconkill, level._id_11C60 );
    scripts\mp\utility\print::printandsoundoneveryone( var_4, var_5, undefined, undefined, "_encstr_9D270D10A29FB8F66AAF312347A2C8", "_encstr_9B2E13B5EF3E475503A82B41D0650CF7F3DF0B3508", var_0 );

    if ( !level.gameended )
    {
        scripts\mp\utility\dialog::leaderdialog( "_encstr_B74A1159DC955BBCF5998DB0ECBEE8B0ADCADC", var_4 );
        scripts\mp\utility\dialog::leaderdialog( "_encstr_AACD0DCCD858ECAF9D59A31385C65B", var_5 );
    }

    thread scripts\mp\hud_util::teamplayercardsplash( "_encstr_BC041337B030AC3223F50147D1338A7838389F97D0", var_0 );
    var_0 thread scripts\mp\hud_message::showsplash( "_encstr_9B660B0EE3614FF83A3338EDD3" );

    if ( !isdefined( self.previouscarrier ) || self.previouscarrier != var_0 )
        var_0 thread scripts\mp\utility\points::giveunifiedpoints( "_encstr_B7130AA619A730B00F98C69B" );

    var_0 thread scripts\common\utility::_id_13E0A( level._id_11B29, "_encstr_AF1C073F618760FB0A", var_0.origin );
    self.previouscarrier = var_0;

    if ( level.codcasterenabled )
        var_0 setgametypevip( 1 );
}

returnflag()
{
    scripts\mp\gameobjects::returnhome();
}

ondrop( var_0 )
{
    if ( isdefined( var_0.leaving_team ) )
    {
        self.droppedteam = var_0.leaving_team;
        var_0.leaving_team = undefined;
    }
    else if ( !isdefined( var_0 ) )
        self.droppedteam = self.ownerteam;
    else
        self.droppedteam = var_0.team;

    level.keeprightdooropen.initscriptablemanagement = undefined;

    if ( isdefined( var_0 ) )
        var_0 _id_13FFA();

    scripts\mp\gameobjects::setownerteam( "_encstr_9BA4080D39CFFB5AB7C1" );
    var_1 = self.droppedteam;
    var_2 = scripts\mp\utility\game::getotherteam( self.droppedteam )[0];
    scripts\mp\gameobjects::allowcarry( "_encstr_BC19047780DA" );
    scripts\mp\gameobjects::setvisibleteam( "_encstr_BC19047780DA" );
    objective_state( self.pingobjidnum, "_encstr_936705F0224D13" );

    if ( level.returntime >= 0 )
        scripts\mp\gameobjects::_id_1317F( level.iconreturnflag, level.iconreturnflag, level._id_11C60 );
    else
    {
        scripts\mp\gameobjects::_id_1317F( level.iconreturnflag, level.iconreturnflag, level._id_11C60 );
        scripts\mp\objidpoolmanager::_id_11F7D( self.objidnum, 1 );
    }

    if ( self.ownerteam == "_encstr_BC850785638DA59537" )
        setomnvar( "_encstr_B401134BBCB7F0D59287CDD1976A88382C5570C1A2", -1 );
    else
        setomnvar( "_encstr_B401134BBCB7F0D59287CDD1976A88382C5570C1A2", -1 );

    if ( isdefined( var_0 ) )
        var_0 setclientomnvar( "_encstr_9855147B2D80BF2B08FF2E3C9B58B9F737DB832269EE", 0 );

    if ( isdefined( var_0 ) )
    {
        if ( !scripts\mp\utility\player::isreallyalive( var_0 ) )
            var_0.carryobject.previouscarrier = undefined;

        if ( isdefined( var_0.carryflag ) )
            var_0 detachflag();

        scripts\mp\utility\print::printandsoundoneveryone( var_2, "_encstr_AABA05236DC831", undefined, undefined, "_encstr_9B6F165B83F5DD1693EBF626A6561B1D5ACE2BEBB1B7E6A3", "_encstr_A40101", var_0 );

        if ( level.codcasterenabled )
            var_0 setgametypevip( 0 );
    }
    else
        scripts\mp\utility\sound::playsoundonplayers( "_encstr_9B6F165B83F5DD1693EBF626A6561B1D5ACE2BEBB1B7E6A3", var_2 );

    if ( !level.gameended )
    {
        scripts\mp\utility\dialog::leaderdialog( "_encstr_A21113F5B8213FD83F48B27A58E7578BD81F686DC5", scripts\mp\utility\game::getotherteam( self.droppedteam )[0], "_encstr_A96D0726D4272B4372" );
        scripts\mp\utility\dialog::leaderdialog( "_encstr_BE8F0D33368576AF23397B83E02B19", self.droppedteam, "_encstr_A96D0726D4272B4372" );
    }

    if ( level.idleresettime > 0 )
        thread returnaftertime();
}

returnaftertime()
{
    self endon( "_encstr_BC990AFB70512B1281E00B42" );
    var_0 = 0.0;

    while ( var_0 < level.idleresettime )
    {
        waitframe();

        if ( self.claimteam == "_encstr_AABA05236DC831" )
            var_0 = var_0 + level.framedurationseconds;
    }

    foreach ( var_2 in level.teamnamelist )
        scripts\mp\utility\sound::playsoundonplayers( "_encstr_9B6F165B83F5DD1693EBF626A6561B1D5ACE2BEBB1B7E6A3", var_2 );

    scripts\mp\gameobjects::returnhome();
}

onreset()
{
    level.keeprightdooropen.initscriptablemanagement = undefined;

    if ( isdefined( level.keeprightdooropen._id_127EB ) )
    {
        level.keeprightdooropen._id_127EB clearportableradar();
        level.keeprightdooropen._id_127EB delete();
    }

    if ( isdefined( self.droppedteam ) )
        scripts\mp\gameobjects::setownerteam( self.droppedteam );

    var_0 = scripts\mp\gameobjects::getownerteam();
    var_1 = scripts\mp\utility\game::getotherteam( var_0 )[0];
    scripts\mp\gameobjects::allowcarry( "_encstr_BC19047780DA" );
    scripts\mp\gameobjects::setvisibleteam( "_encstr_AABA05236DC831" );
    scripts\mp\gameobjects::setobjectivestatusicons( level.iconescort, level.iconkill );
    level.key_activate._id_11F89 scripts\mp\gameobjects::setvisibleteam( "_encstr_BC19047780DA" );

    if ( !level.gameended )
    {
        scripts\mp\utility\dialog::leaderdialog( "_encstr_B65914250DC24BA2D71B1878F73F1B837B732638A7AA", scripts\mp\utility\game::getotherteam( self.droppedteam )[0], "_encstr_A96D0726D4272B4372" );
        scripts\mp\utility\dialog::leaderdialog( "_encstr_B65914250DC24BA2D71B1878F73F1B837B732638A7AA", self.droppedteam, "_encstr_A96D0726D4272B4372" );
    }

    self.droppedteam = undefined;

    if ( self.ownerteam == "_encstr_BC850785638DA59537" )
        setomnvar( "_encstr_B401134BBCB7F0D59287CDD1976A88382C5570C1A2", -2 );
    else
        setomnvar( "_encstr_B401134BBCB7F0D59287CDD1976A88382C5570C1A2", -2 );

    self.previouscarrier = undefined;
}

attachflag()
{
    _id_13FF9();
    var_0 = scripts\mp\utility\game::getotherteam( self.pers["_encstr_89EF05D46BA8FD"] )[0];
    self attach( level.carryflag[var_0], "_encstr_AB90118B50B13F5381D8AB27B52FBAC9D9981E", 1 );
    self.carryflag = level.carryflag[var_0];
}

detachflag()
{
    self detach( self.carryflag, "_encstr_AB90118B50B13F5381D8AB27B52FBAC9D9981E" );
    self.carryflag = undefined;
}

_id_13FFA()
{
    self setclientomnvar( "_encstr_AD061ACF50F64D32C19E2CE9FEB94A1CDB18EF03F808AC19E9A5305B", 43 );
}

_id_13FF9()
{
    self setclientomnvar( "_encstr_AD061ACF50F64D32C19E2CE9FEB94A1CDB18EF03F808AC19E9A5305B", 43 );
}

choose_and_drop_tank_near_hostage( var_0 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    level.keeprightdooropen endon( "_encstr_80C6084639F60EC1CAC8" );
    level.keeprightdooropen endon( "_encstr_80F2062328E7A72B" );
    level notify( "_encstr_B9AD15BD264D8A96D6560AB75AE63ACDA4AEE69B5ACD3B" );
    level endon( "_encstr_B9AD15BD264D8A96D6560AB75AE63ACDA4AEE69B5ACD3B" );

    while ( !level.gameended )
    {
        wait 1;
        scripts\mp\hostmigration::waittillhostmigrationdone();

        if ( !level.gameended )
        {
            level.keeprightdooropen.carrier scripts\mp\utility\stats::incpersstat( "_encstr_B9F50890960B9B01773F", 1 );
            level.keeprightdooropen.carrier scripts\mp\persistence::statsetchild( "_encstr_A2460627DEABDC23", "_encstr_B9F50890960B9B01773F", level.keeprightdooropen.carrier.pers["_encstr_B9F50890960B9B01773F"] );
            level.keeprightdooropen.carrier scripts\mp\utility\stats::setextrascore0( level.keeprightdooropen.carrier.pers["_encstr_B9F50890960B9B01773F"] );
            level.keeprightdooropen.carrier scripts\mp\gamescore::giveplayerscore( "_encstr_A8D20EDB2551F5470C7F1DB7F7788E18", 10 );
        }
    }
}

player_helis( var_0 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    level.keeprightdooropen endon( "_encstr_80C6084639F60EC1CAC8" );
    level.keeprightdooropen endon( "_encstr_80F2062328E7A72B" );
    level notify( "_encstr_BAAC15605F92531BF2D57596EEEA63DBDAAF1828EF56C9" );
    level endon( "_encstr_BAAC15605F92531BF2D57596EEEA63DBDAAF1828EF56C9" );

    if ( isdefined( level.keeprightdooropen._id_127EB ) )
    {
        level.keeprightdooropen._id_127EB clearportableradar();
        level.keeprightdooropen._id_127EB delete();
    }

    if ( !isdefined( var_0 ) )
        var_0 = self.team;

    var_1 = relic_vampire( var_0 );
    var_2 = spawn( "_encstr_93DC0DCD1B272D3847AF5BED23B2C6", level.keeprightdooropen.visuals[0].origin );
    var_2.team = scripts\mp\utility\game::getotherteam( var_0 )[0];
    var_2.owner = var_1;
    var_2 makeportableradar( var_1 );
    level.keeprightdooropen._id_127EB = var_2;
    level.keeprightdooropen thread player_infil_landlord();
    level.keeprightdooropen thread player_infil_lbravo();
}

relic_vampire( var_0 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_80C6084639F60EC1CAC8" );
    level endon( "_encstr_BAAC15605F92531BF2D57596EEEA63DBDAAF1828EF56C9" );
    var_1 = 0;

    for (;;)
    {
        if ( level.teamswithplayers.size == 1 && game["_encstr_A9AD064B0D19E377"] == "_encstr_8F7508BB18675378EBC7" )
            var_1 = 1;
        else
        {
            if ( var_1 )
                wait 15;

            var_2 = scripts\mp\utility\game::getotherteam( var_0 )[0];
            var_1 = 0;

            foreach ( var_4 in level.players )
            {
                if ( isalive( var_4 ) && var_4.pers["_encstr_89EF05D46BA8FD"] == var_2 )
                    return var_4;
            }
        }

        wait 0.05;
    }
}

player_infil_landlord()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_80C6084639F60EC1CAC8" );
    self._id_127EB endon( "_encstr_A3750609A5E61883" );
    level endon( "_encstr_BAAC15605F92531BF2D57596EEEA63DBDAAF1828EF56C9" );

    for (;;)
    {
        self._id_127EB moveto( self.initscriptablemanagement.origin, 0.05 );
        wait 0.05;
    }
}

player_infil_lbravo()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_80C6084639F60EC1CAC8" );
    var_0 = self._id_127EB.team;
    var_0 = scripts\mp\utility\game::getotherteam( var_0 )[0];
    self._id_127EB.owner scripts\engine\utility::_id_143A6( "_encstr_8A820B4696CDB1ED3737AC1B3A", "_encstr_B2170C4AD884CDC823B9DB9D9F42", "_encstr_8CD0124A97D7F07BAD07C8C342FAA010C490DD5B" );
    self._id_127EB clearportableradar();
    self._id_127EB = undefined;
    player_helis( var_0 );
}

getrespawndelay()
{
    var_0 = level.keeprightdooropen scripts\mp\gameobjects::getownerteam();

    if ( isdefined( var_0 ) )
    {
        if ( self.pers["_encstr_89EF05D46BA8FD"] == var_0 )
        {
            if ( !level.spawndelay )
                return undefined;

            if ( level.delayplayer )
                return level.spawndelay;
        }
    }
}

onplayerconnect( var_0 )
{
    thread onplayerspawned( var_0 );
}

onplayerspawned( var_0 )
{
    for (;;)
    {
        var_0 waittill( "_encstr_983508635BE787C548A1" );
        var_0 setclientomnvar( "_encstr_9855147B2D80BF2B08FF2E3C9B58B9F737DB832269EE", 0 );
        var_0 scripts\mp\utility\stats::setextrascore0( 0 );

        if ( isdefined( var_0.pers["_encstr_B9F50890960B9B01773F"] ) )
            var_0 scripts\mp\utility\stats::setextrascore0( var_0.pers["_encstr_B9F50890960B9B01773F"] );

        var_0 scripts\mp\utility\stats::setextrascore1( 0 );

        if ( isdefined( var_0.pers["_encstr_9CF70851FD0FB8B81BB3"] ) )
            var_0 scripts\mp\utility\stats::setextrascore1( var_0.pers["_encstr_9CF70851FD0FB8B81BB3"] );
    }
}

onplayerkilled( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9 )
{
    if ( !isplayer( var_1 ) || var_1 == self )
    {
        if ( isdefined( self.carryflag ) )
            detachflag();

        return;
    }

    var_10 = level._id_1283A;

    if ( isdefined( level.keeprightdooropen ) && level.keeprightdooropen scripts\mp\gameobjects::getownerteam() == var_1.pers["_encstr_89EF05D46BA8FD"] )
    {
        if ( isdefined( level.keeprightdooropen.carrier ) && var_1 != level.keeprightdooropen.carrier )
        {
            level.keeprightdooropen.carrier thread scripts\mp\rank::scoreeventpopup( "_encstr_81DA0E36583993A5564EF513B7CD5DE6" );
            var_11 = scripts\mp\rank::getscoreinfovalue( "_encstr_81DA0E36583993A5564EF513B7CD5DE6" );
            scripts\mp\gamescore::giveplayerscore( "_encstr_81DA0E36583993A5564EF513B7CD5DE6", var_11, self );
            level.keeprightdooropen.carrier thread scripts\mp\rank::giverankxp( "_encstr_81DA0E36583993A5564EF513B7CD5DE6", var_11 );
            var_1 thread scripts\mp\rank::scoreeventpopup( "_encstr_ABBD0BB7C7A2519112ADB02B52" );
            var_11 = scripts\mp\rank::getscoreinfovalue( "_encstr_ABBD0BB7C7A2519112ADB02B52" );
            scripts\mp\gamescore::giveplayerscore( "_encstr_ABBD0BB7C7A2519112ADB02B52", var_11, self );
            var_1 thread scripts\mp\rank::giverankxp( "_encstr_ABBD0BB7C7A2519112ADB02B52", var_11 );
        }

        var_10 = level._id_1283B;
    }
    else if ( isdefined( self.carryflag ) )
        var_10 = level._id_12839;

    var_1 scripts\mp\gamescore::giveteamscoreforobjective( var_1.pers["_encstr_89EF05D46BA8FD"], var_10 );
    var_12 = 0;
    var_13 = var_1.origin;
    var_14 = 0;

    if ( isdefined( var_0 ) )
    {
        var_13 = var_0.origin;
        var_14 = var_0 == var_1;
    }

    if ( isdefined( var_1 ) && isplayer( var_1 ) && var_1.pers["_encstr_89EF05D46BA8FD"] != self.pers["_encstr_89EF05D46BA8FD"] )
    {
        if ( isdefined( var_1.carryflag ) && var_14 )
        {
            var_1 thread scripts\mp\rank::scoreeventpopup( "_encstr_A4010DA29875122F2946271BD3D0E3" );
            var_1 thread scripts\mp\awards::givemidmatchaward( "_encstr_9728187AA2A4999F43BB2BD8D09F439948AC2F43383751C1F0D7" );
            var_12 = 1;
        }

        if ( isdefined( self.carryflag ) )
        {
            var_1 thread scripts\mp\awards::givemidmatchaward( "_encstr_8753165B3FC23571F38B514E74D1A0F929673BEDD3BA8DC0" );
            var_1 scripts\mp\utility\stats::incpersstat( "_encstr_AFB80DFA1AE213C81AABE413E919D3", 1 );
            var_1 thread scripts\mp\hud_message::showsplash( "_encstr_8B2F0FA8579C6023A209667F5A9B6309EA" );
            var_1 scripts\mp\utility\stats::incpersstat( "_encstr_9CF70851FD0FB8B81BB3", 1 );
            var_1 scripts\mp\persistence::statsetchild( "_encstr_A2460627DEABDC23", "_encstr_9CF70851FD0FB8B81BB3", var_1.pers["_encstr_9CF70851FD0FB8B81BB3"] );
            thread scripts\common\utility::_id_13E0A( level._id_11B30, var_9, "_encstr_B62F0996FAF3765317CAAF" );
            scripts\mp\utility\game::setmlgannouncement( 20, var_1.team, var_1 getentitynumber() );
            var_12 = 1;
        }

        if ( !var_12 )
        {
            var_15 = 0;
            var_16 = 0;
            var_17 = distsquaredcheck( var_13, self.origin, level.keeprightdooropen.curorigin );

            if ( var_17 )
            {
                if ( level.keeprightdooropen.ownerteam == self.team )
                    var_15 = 1;
                else
                    var_16 = 1;
            }

            if ( var_15 )
            {
                var_1 thread scripts\mp\rank::scoreeventpopup( "_encstr_973508BF93EFFBC363B3" );
                var_1 thread scripts\mp\awards::givemidmatchaward( "_encstr_BA020F68F21FC3E6F347AF9E43BFEB8943" );
                thread scripts\common\utility::_id_13E0A( level._id_11B30, var_9, "_encstr_97A70AE945873020839AC811" );
                var_1 scripts\mp\utility\stats::incpersstat( "_encstr_98DE0999837F1FABBDD47F", 1 );
            }
            else if ( var_16 )
            {
                var_1 thread scripts\mp\rank::scoreeventpopup( "_encstr_8C0C07812DDF6808AB" );
                var_1 thread scripts\mp\awards::givemidmatchaward( "_encstr_B3D80EB6ED91567DE17D91B2CC95CD23" );
                var_1 scripts\mp\utility\stats::incpersstat( "_encstr_9CF70851FD0FB8B81BB3", 1 );
                var_1 scripts\mp\persistence::statsetchild( "_encstr_A2460627DEABDC23", "_encstr_9CF70851FD0FB8B81BB3", var_1.pers["_encstr_9CF70851FD0FB8B81BB3"] );
                thread scripts\common\utility::_id_13E0A( level._id_11B30, var_9, "_encstr_BCD10B8953E73F13911C1BDA2A" );
            }
        }
    }

    if ( isdefined( self.carryflag ) )
        detachflag();
}

distsquaredcheck( var_0, var_1, var_2 )
{
    var_3 = distancesquared( var_2, var_0 );
    var_4 = distancesquared( var_2, var_1 );

    if ( var_3 < 90000 || var_4 < 90000 )
        return 1;
    else
        return 0;
}

carriergivescore()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_A3750609A5E61883" );
    level.keeprightdooropen endon( "_encstr_80C6084639F60EC1CAC8" );
    level.keeprightdooropen endon( "_encstr_80F2062328E7A72B" );

    for (;;)
    {
        wait( level.carrierbonustime );
        thread scripts\mp\utility\points::giveunifiedpoints( "_encstr_A4E90B1358C636FAB1C2E4E4F2", undefined, level.carrierbonusscore );
    }
}
