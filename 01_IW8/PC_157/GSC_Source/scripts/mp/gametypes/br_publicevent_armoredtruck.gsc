// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

init()
{
    var_0 = spawnstruct();
    var_0.weight = getdvarfloat( "_encstr_BA621E371BE47D134EBEC1B2BEB039B6B7272B19A3E45D6CADAFBBCA5AECD0A3", 0 );
    var_0._id_140CF = ::_id_140CF;
    var_0.attackerswaittime = ::attackerswaittime;
    var_0._id_14382 = ::_id_14382;
    var_0._id_11B78 = getdvarint( "_encstr_9C8621376C9CFA98937D1CB2AFC2935BBD39CA193AC95D8D5BD7DAB03CFAE84BDA959B", 1 );
    var_0.guard_door_clip = _encstr_AABE29576EC6B050735F77CF1048B717235F431361220B27536397F30F76A840C21F1B3D9DAC0336276B5E::relic_squadlink_init_vfx( "_encstr_B9540D735670C02B1B199383CB0617", "_encstr_B4212802A0AF41B142584169AB16EF4A6BD39AFAB28F01D2293E2AA9828A6E698FCF0222C22F3A4AD149" );
    _encstr_AABE29576EC6B050735F77CF1048B717235F431361220B27536397F30F76A840C21F1B3D9DAC0336276B5E::_id_12B35( 11, var_0 );
    game["_encstr_B8DA073D799798C7C7"]["_encstr_A89F1D10AB993EA3D9985BD201AD6BF3A01F87892578C5E77031225A09880B"] = "_encstr_A2B21A7AFDE5595B1771A03C238AA3A2AF100892D046409615375D3F";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_A6321603E82EA9EB0B6042BFDD11236571704787F841F2D3"] = "_encstr_95E21A03A8C5E55F99408D9665CD136A1790ABAAC8BD9C4F91B583BB";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_B1C01559DD61B8961F52D339CA534EC0863BFFF94F95D0"] = "_encstr_80D91C9B33AE13FCB00FDDB603A0C327582933F2BB7EF7B9885FC4A10DD0";
}

_id_140CF()
{
    return getdvarint( "_encstr_AAB51FDB1E2B57A2FE77036230EBF0118FDA02E1C1933B1F4476E50229611C9541", 0 ) == 1;
}

_id_14382()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    level endon( "_encstr_894314512A8386183577C1F3721DB05E9F820B194243" );
    var_0 = forest_combat();
    wait( var_0 );
}

attackerswaittime()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    level.callouts = [];
    _encstr_AABE29576EC6B050735F77CF1048B717235F431361220B27536397F30F76A840C21F1B3D9DAC0336276B5E::_id_13371( "_encstr_AF221CC2705FC24F3E7FBAADB7E3378F61E83B6A10877CAB9150BDD1A869" );
    _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::brleaderdialog( "_encstr_A89F1D10AB993EA3D9985BD201AD6BF3A01F87892578C5E77031225A09880B" );
    wait 3.5;
    _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::brleaderdialog( "_encstr_A6321603E82EA9EB0B6042BFDD11236571704787F841F2D3" );
    var_0 = getdvarfloat( "_encstr_A3FE1DC39A6308B002C77143DF2EF8E9EF6399A953CB55C01CEF514B0416F8", 20.0 );
    var_1 = getdvarfloat( "_encstr_8CB8208AB730B1A8A8C7F173F98685BBE0B6FDF01B222B088A36CB5F10023551882A", 10.0 );
    var_2 = gettime() + var_0 * 1000;
    setomnvar( "_encstr_8CF81A57B4BE07BAC4C62D8D569DCACD3A7D8E4B5B9593FA8E5EC12B", 7 );
    setomnvar( "_encstr_884F157B3FE0E81566E8893E759B783DFBA783F3A81BFE", var_2 );
    var_3 = run_post_module_actions();
    var_4 = run_spawnfuncs( var_3 );
    var_5 = spawn( "_encstr_A3050EDF6FF5DC081CC1AFA37097B80B", ( 0, 0, 0 ) );
    var_5 hide();

    if ( var_0 > 5.0 )
    {
        wait( var_0 - 5.0 );

        for ( var_6 = 0; var_6 < 5; var_6++ )
        {
            var_5 playsound( "_encstr_88D3165D14C1F9EB360279EAFF170E7744CF2159C0BDA13B" );
            wait 1.0;
        }
    }

    _encstr_8FA32E4BFE5A601773F71F9393AED478EDD71382A2B578602AEB879FEF522D18A1EAB9DE4B0A300E52D7F3BD3ADA6E18::stoppingpower_givehcrdata();
    _encstr_8FA32E4BFE5A601773F71F9393AED478EDD71382A2B578602AEB879FEF522D18A1EAB9DE4B0A300E52D7F3BD3ADA6E18::stoppingpower_loadoutchangeremovehcr();
    level thread _encstr_8FA32E4BFE5A601773F71F9393AED478EDD71382A2B578602AEB879FEF522D18A1EAB9DE4B0A300E52D7F3BD3ADA6E18::_id_13DF8();

    foreach ( var_8 in level.players )
        var_8 playsoundtoplayer( "_encstr_AF4A1BC8C73F71BD82957E8D2FD9C95B7D77B0214FDB2B431B3FE00182", var_8 );

    setomnvar( "_encstr_8CF81A57B4BE07BAC4C62D8D569DCACD3A7D8E4B5B9593FA8E5EC12B", 0 );
    var_5 delete();
    _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::brleaderdialog( "_encstr_B1C01559DD61B8961F52D339CA534EC0863BFFF94F95D0" );
    wait 1.5;
    var_4 = scripts\engine\utility::array_randomize( var_4 );
    thread _id_1360C( var_4 );
}

run_post_module_actions()
{
    var_0 = [];
    var_0[var_0.size] = createspawnlocation( ( -1424, 10054, 656 ), ( 0.0420106, 279.996, -0.133641 ) );
    var_0[var_0.size] = createspawnlocation( ( 889, 7451, 593 ), ( 0, 282, 0 ) );
    var_0[var_0.size] = createspawnlocation( ( -4927, 867, 721 ), ( 360, 293, 0 ) );
    var_0[var_0.size] = createspawnlocation( ( -2620, 4529, 706 ), ( 360, 270, 0 ) );
    var_0[var_0.size] = createspawnlocation( ( 2848, -66, 833.889 ), ( 359.885, 207.995, -0.0811529 ) );
    var_0[var_0.size] = createspawnlocation( ( 4115, -3919, 141 ), ( 0, 248, 0 ) );
    var_0[var_0.size] = createspawnlocation( ( 1645, -5835, 700 ), ( 0, 179, 0 ) );
    var_0[var_0.size] = createspawnlocation( ( -956, -11298, 180 ), ( 0, 107.995, 0 ) );
    var_0[var_0.size] = createspawnlocation( ( -2893, -5294, 700 ), ( 360, 315, 0 ) );
    var_1 = [];
    var_2 = _encstr_8A18233F26D6B373C5535613B3D5AABF583020D08BFDCE86F68B4649324ABAB809C65856C7::getsafecircleorigin();
    var_3 = _encstr_8A18233F26D6B373C5535613B3D5AABF583020D08BFDCE86F68B4649324ABAB809C65856C7::getsafecircleradius();

    foreach ( var_5 in var_0 )
    {
        if ( distance2d( var_5.origin, var_2 ) > var_3 )
            var_0 = scripts\engine\utility::array_remove( var_0, var_5 );
    }

    var_7 = randomintrange( 2, 3 );

    for ( var_8 = 0; var_8 < var_7; var_8++ )
    {
        var_9 = var_0[randomint( var_0.size )];
        var_1[var_1.size] = var_9;

        foreach ( var_5 in var_0 )
        {
            if ( distance2d( var_9.origin, var_5.origin ) < 7000 )
                var_0 = scripts\engine\utility::array_remove( var_0, var_5 );
        }

        if ( var_0.size < 1 )
            break;
    }

    return var_1;
}

createspawnlocation( var_0, var_1 )
{
    var_2 = spawnstruct();
    var_2.origin = var_0;
    var_2.angles = var_1;
    return var_2;
}

forest_combat()
{
    var_0 = getdvarfloat( "_encstr_81FD25630E72D6497577638D3962B39DA7E569990115D34FAAAEBFE398A0E35C18BDE161B909CB", 90 );
    var_1 = getdvarfloat( "_encstr_B2FD2540EA425FA923AFCF4D579753F3ED637840331A73C16F87563D41F3DB99D47AE011DA76A1", 395 );

    if ( var_1 > var_0 )
        return randomfloatrange( var_0, var_1 );
    else
        return var_0;
}

run_spawnfuncs( var_0 )
{
    var_1 = [];

    foreach ( var_3 in var_0 )
    {
        var_4 = spawn( "_encstr_93DC0DCD1B272D3847AF5BED23B2C6", var_3.origin );
        var_4 setmodel( "_encstr_8CE6145BE6D7C2B4398CC97B0ED7B14EB01DB2EB269C" );
        var_4 setscriptablepartstate( "_encstr_9DA80D78578FB0132112730C2DBA79", "_encstr_9707035F3B", 0 );
        var_4 _encstr_A83527375FF36358943A0858E22728AFFAAFA1ABAB2A36DADA520ED34B55D05D71772933B3C6F4F0F3::init_tactical_boxes( 11, 17, 2, var_3.origin );
        var_4 _encstr_A83527375FF36358943A0858E22728AFFAAFA1ABAB2A36DADA520ED34B55D05D71772933B3C6F4F0F3::_id_1316F( 1150 );
        var_4 _encstr_A83527375FF36358943A0858E22728AFFAAFA1ABAB2A36DADA520ED34B55D05D71772933B3C6F4F0F3::_id_13369();
        var_4.location = var_3;
        var_1[var_1.size] = var_4;
    }

    return var_1;
}

_id_1360C( var_0 )
{
    foreach ( var_2 in var_0 )
    {
        _id_1360B( var_2 );
        wait 2.0;
    }

    level notify( "_encstr_8FA922586B8AF2FA867127958ABB5BEE02056DDF0AEF8378A53BEE125988F3F7F7F810F3" );
}

_id_1360B( var_0 )
{
    var_1 = spawnstruct();
    var_1.origin = var_0.location.origin + ( 0, 0, 5000 );
    var_2 = _encstr_8FA32E4BFE5A601773F71F9393AED478EDD71382A2B578602AEB879FEF522D18A1EAB9DE4B0A300E52D7F3BD3ADA6E18::_id_14263( var_1 );

    if ( isdefined( var_2 ) )
    {
        level thread _encstr_8FA32E4BFE5A601773F71F9393AED478EDD71382A2B578602AEB879FEF522D18A1EAB9DE4B0A300E52D7F3BD3ADA6E18::_id_13DE4( var_2, var_0.location.origin, var_0.location.angles, 1 );
        level.callouts[level.callouts.size] = var_2;
    }

    thread _id_14235( var_2, var_0 );
    thread _id_14248( var_0 );
}

_id_14235( var_0, var_1 )
{
    var_0 waittill( "_encstr_B67C1528DF92B366FDFD1E6260482798094B7A3AC91BD7" );
    var_1 _encstr_A83527375FF36358943A0858E22728AFFAAFA1ABAB2A36DADA520ED34B55D05D71772933B3C6F4F0F3::spawn_double_cargo();
    var_1 setscriptablepartstate( "_encstr_9DA80D78578FB0132112730C2DBA79", "_encstr_9819045FD029", 0 );
    var_1 delete();
}

_id_14248( var_0 )
{
    while ( isdefined( var_0 ) )
    {
        if ( !_encstr_8A18233F26D6B373C5535613B3D5AABF583020D08BFDCE86F68B4649324ABAB809C65856C7::updateprestreamrespawn( var_0.location.origin ) )
        {
            var_0 _encstr_A83527375FF36358943A0858E22728AFFAAFA1ABAB2A36DADA520ED34B55D05D71772933B3C6F4F0F3::spawn_double_cargo();
            break;
        }

        wait 1;
    }
}
