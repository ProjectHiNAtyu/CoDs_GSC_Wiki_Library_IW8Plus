// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

initgulag()
{
    level._id_12CA0 = getdvarfloat( "_encstr_A86D1FEB5EFA71BEB3E745637FBB77688E399120825320E5F83B717B03E3D71B4C", 0.75 );

    if ( !istrue( level.usegulag ) )
        return;

    if ( _encstr_AD64266E6CE44B1CD19B97B53897D9B0B62B1DBC389537F2139CBE7658D6AC8E2F3895DC17B3DC8D::unset_relic_aggressive_melee( "_encstr_AD220628430DDBF1" ) )
    {
        level.usegulag = 0;
        return;
    }

    setomnvar( "_encstr_9B990F77C057277B505F41F707E841CBBD", 1 );
    setomnvar( "_encstr_98091CAB5AAFB357B1589DFACD86DEDDBE6C8DEDDC2D73ECBECDA3584756", 0 );
    level.gulag = spawnstruct();
    level.gulag.arenaflag = getdvarint( "_encstr_891C0FCDD8E4AF139CBE338DBE333658B3", 1 );
    level.gulag.maxplayers = getmaxplayers();
    level.gulag.maxuses = getdvarint( "_encstr_9B7913C0D72ABE956B910C86F9F2DB025F2778F80F", 1 );
    level.gulag.endonshutdown = getdvarint( "_encstr_BCAD1A73C652D9160B4FF58737026848275D584E6AA070D542A7DF95", 3 );
    level.gulag.timelimit = getdvarint( "_encstr_B796148B99AADF2E8A28B9DBB9803210D03C80819350", 15.0 );
    level.gulag.maxqueue = getdvarint( "_encstr_98F6195B01560FEEE83FEEF327C8F65B68FBB3A2ABA557E358BBF4", 3 );
    level.gulag.onekillwin = getdvarint( "_encstr_B7F017E68D4EF513E4D7CC8DBEB79B56FA5B96D8B1AFBB96CD", 1 );
    level.gulag.multiarena = getdvarint( "_encstr_98B816336A93F840D2178DFF6F7DB039D3620EF9E327A880", 1 );
    level.gulag.planerespawn = getdvarint( "_encstr_9317182E4EB32FC1FAFF48681710D88BDA77B036A7DB39E9C723", 0 );
    level.gulag.trial_target_civilian_killed_func = getdvarint( "_encstr_A2D61ADFD736F96A90166F360E90BE838E77E707AB50022D209BA43E", 1 );
    level.gulag._id_14069 = getdvarint( "_encstr_A6C418B9B127EB984EBE66B1AFAECDB234CAC68D6A070BDDDC9B", 1 );
    level.gulag._id_1407F = getdvarint( "_encstr_805A18C00E92675E6307AC20D87B73ED0752C04DFAC7DAB6E23B", 0 );
    level.gulag._id_13672 = getdvarint( "_encstr_A80E14BFB756990AF0B6CF96AEA04032ACD5CB5707FD", 0 );
    level.gulag.lethaldelay = getdvarint( "_encstr_A37E16DC8D39F513277DCC36EB1B563AD0C23622B2632CF2", 4 );
    level.gulag._id_1391B = getdvarint( "_encstr_B639209B1B27BE31C9F5CC36EB3893AC6EA32759C2B5EB7656EDEB475AAD56DEAEE8", 9 );
    level.gulag._id_11F2D = getdvarint( "_encstr_8C461953E632B9766B2F95A71792C5E0D93A18284AA0D0BFE2EB81", 0 );
    level.gulag._id_11F19 = getdvarint( "_encstr_A30416DF6FF5511A1AC1BFD3D091C8CF10A3C3A7231D3B05", 0 );
    level.gulag.untrack_enemy = getdvarint( "_encstr_8BF2146F8695A190D6570FE5090B103FD8CF3019BDC1", 0 );
    level.gulag.impairedkill = getdvarint( "_encstr_879D18622FE36903E2B98C9AFE296FE3C0635A904C3254B1CA97", 3 );
    level.gulag.juggheli_spawner_jammer5_2 = getdvarint( "_encstr_B3BA196E6CC9FAC49CD733367D462BCC2CAED84728B1EAE6322B27", 5 );
    level.gulag.getaccessorylogicbyindex = getdvarint( "_encstr_ADAE133309D616A2D07939E812074F870B0B5A4958", 0 );
    level.gulag._id_142FB = getdvarint( "_encstr_98C1146E369CBEC44ED776EA630B3BFAECDE2D6C59DC", 1 );
    _setdomflagiconinfo( "_encstr_B6B118EE58F207B7B4DC47EB1BC28347AE93B2B956D5D14E0BD8", "_encstr_9BA4080D39CFFB5AB7C1", "_encstr_8A1719D16281F527374729694F0D9D7758DD59400ED8192FC53349", 0 );
    _setdomflagiconinfo( "_encstr_B69A11DBA05BBA1FB0A0E4D7CE59AB43BBD062", "_encstr_80BF06CA78A2226B", "_encstr_8A1719D16281F527374729694F0D9D7758DD59400ED8192FC53349", 0 );
    _setdomflagiconinfo( "_encstr_944B10F7CF52BBADA31823A97083A7A7E825", "_encstr_B9FC095F8BCCFF02D92B43", "_encstr_B9B71FF8278017A501C30515E719FD4B2B7050908C78FBAF21A30E1CCF91F68376", 0 );
    _setdomflagiconinfo( "_encstr_9DE3132797E138B81B68C36FCB2D77234DF5E475E0", "_encstr_B9FC095F8BCCFF02D92B43", "_encstr_9837225DB1E94423BC0DF860D6E06B4DA127C7DA3D41DFF7D4A5C0787C489771D9635073", 0 );
    _setdomflagiconinfo( "_encstr_873B13BB58F20EBDD273E8F5367B37E82BB9472BC8", "_encstr_B3B5086C7BE68E56E63A", "_encstr_A8A8222588D8871EACD5ED5951E8AB102BB6ADDDC401A37CC89911EB613D6F697D15376F", 1 );
    _setdomflagiconinfo( "_encstr_A40710BBB02F07B7D2E6D1BE8E165B2D73CE", "_encstr_B9FC095F8BCCFF02D92B43", "_encstr_B7CF1F8592585465D710A02537ED2049095058EEEBF69F2E025964550F9F4FCBF7", 1 );
    _setdomflagiconinfo( "_encstr_9302101F7763CF80699D83FE0547A88BAAC7", "_encstr_80BF06CA78A2226B", "_encstr_8A341FD405D72927A3146AA2EBF4C98956793D09A4FA31E96A5272E8D7A1051435", 1 );
    level.gulag.watch_for_near_objective_point = [];

    if ( istrue( level.gulag.arenaflag ) )
        _encstr_B78926B7BF4EE270C80B950D433A5F3AA9DBD317017D8B878033B157D8705FF37D6347BB15943383::_id_13239();

    level.gulag.arenas = gulaggetarenas();
    gulaggesturesinit();
    gulaginitloadouts();

    if ( level.gulag.trial_target_civilian_killed_func )
        scripts\mp\utility\lui_game_event_aggregator::registeronluieventcallback( ::_id_12521 );

    if ( level.gulag._id_1407F )
        scripts\engine\scriptable::_id_12F5B( "_encstr_983B0C72F570CDA725CE0BC251F2", ::rockused );

    level.gulag.betting = getdvarint( "_encstr_97741273074EE9B86361B7865EBA28EDD1093A67", 0 );

    if ( level.gulag.betting )
    {
        if ( !istrue( level.br_plunder_enabled ) )
            level.gulag.betting = 0;

        if ( getdvarint( "_encstr_879D18622FE36903E2B98C9AFE296FE3C0635A904C3254B1CA97", 3 ) == 3 )
            level.gulag.impairedkill = 15;
    }

    if ( !isdefined( level.gulag.arenas[0].jailspawns[0].chair ) )
        level.gulag.getaccessorylogicbyindex = 0;

    foreach ( var_1 in level.gulag.arenas )
        level thread monitorgulag( var_1 );

    thread spawnac130();
    tracegroundheightexfil();
    level.playerzombieupdateongamepadchange = ::_id_12AA8;
    level.playimpactfx = ::_id_12AAA;
}

_setdomflagiconinfo( var_0, var_1, var_2, var_3 )
{
    level.waypointcolors[var_0] = var_1;
    level.waypointbgtype[var_0] = 1;
    level.waypointstring[var_0] = var_2;
    level.waypointshader[var_0] = "_encstr_8C2F2F3DB7EF8FCA49BB75AEBDDAE36538B5FB5F4B761FEA10686BF8B11A6E584350CB3B69CA29392D4B125D2BA8B8FB39";
    level.waypointpulses[var_0] = var_3;
}

tracegroundheightexfil()
{
    game["_encstr_B8DA073D799798C7C7"]["_encstr_AFBD0C17631C974F8677080B7BDE"] = "_encstr_AFBD0C17631C974F8677080B7BDE";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_8F91124F2D418AC74E30733F78CD87C31BC957C2"] = "_encstr_8F91124F2D418AC74E30733F78CD87C31BC957C2";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_B8E810CE57C60B3BF5BD89A6B28DA3A53B59"] = "_encstr_B8E810CE57C60B3BF5BD89A6B28DA3A53B59";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_95160B9925747FD1E823F021E3"] = "_encstr_95160B9925747FD1E823F021E3";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_B8EE0A842BD3D89F77E70990"] = "_encstr_B8EE0A842BD3D89F77E70990";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_9B090B61DB3B37B8A914AF8F05"] = "_encstr_9B090B61DB3B37B8A914AF8F05";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_BE28159F8792E7603F7BC15925E598A5FAC707335BEABC"] = "_encstr_BE28159F8792E7603F7BC15925E598A5FAC707335BEABC";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_B8C31401A7F30B7F70BBCF4F8590DF1C5D58100DFBB2"] = "_encstr_B8C31401A7F30B7F70BBCF4F8590DF1C5D58100DFBB2";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_889F130CE37A7B59EF7B889027E551993281FC83BD"] = "_encstr_889F130CE37A7B59EF7B889027E551993281FC83BD";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_B96B13299BA4C07C21470B31778AA8184333108307"] = "_encstr_B96B13299BA4C07C21470B31778AA8184333108307";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_82A5125773DBB6C1D60FF3C18A57FFB66BC736A5"] = "_encstr_82A5125773DBB6C1D60FF3C18A57FFB66BC736A5";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_88D70E5413F2FF9A36827FFD3DFF017B"] = "_encstr_88D70E5413F2FF9A36827FFD3DFF017B";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_A9F20E02D8A936F78E65313DF5D0E73B"] = "_encstr_A9F20E02D8A936F78E65313DF5D0E73B";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_8A630E50E7535A2797F3588710E8FBA2"] = "_encstr_8A630E50E7535A2797F3588710E8FBA2";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_B7570C7CFB634887FEEBF8AF9D83"] = "_encstr_B7570C7CFB634887FEEBF8AF9D83";
    game["_encstr_B8DA073D799798C7C7"]["_encstr_81360F2193BCD864295F2D258773BF505C"] = "_encstr_81360F2193BCD864295F2D258773BF505C";
}

gulaggetarenas()
{
    var_0 = relic_steelballs_dash();

    if ( _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::tutorial_playsound() )
        var_0 = scripts\engine\utility::getstructarray( "_encstr_B7100F272B2BE787275BC3434F3B539339", "_encstr_B8CE0BE43FC317DF690862BA48" );

    for ( var_1 = 0; var_1 < var_0.size; var_1++ )
    {
        var_2 = var_0[var_1];
        var_2.set_relic_oneclip = var_1;
        setuparena( var_2 );
    }

    return var_0;
}

relic_steelballs_dash()
{
    var_0 = scripts\engine\utility::getstructarray( "_encstr_AD220628430DDBF1", "_encstr_B8CE0BE43FC317DF690862BA48" );
    var_1 = [];

    foreach ( var_3 in var_0 )
    {
        var_4 = isdefined( var_3.script_noteworthy ) && var_3.script_noteworthy == "_encstr_A2A8093757DA2BE8DEBB37";

        if ( istrue( level.gulag._id_11F19 ) && var_4 || !istrue( level.gulag._id_11F19 ) && !var_4 )
            var_1[var_1.size] = var_3;
    }

    if ( var_1.size > 0 )
        var_0 = var_1;

    if ( var_0.size > 1 )
        var_0 = scripts\engine\utility::array_randomize( var_0 );

    return var_0;
}

setuparena( var_0 )
{
    var_0.jailspawns = [];
    var_0.fightspawns = [];
    var_0.get_wave_spawn_total = [];
    var_0.gates = [];
    var_0.floor = [];
    var_0.weapons = [];
    var_0.molotovs = [];
    var_0._id_13B29 = [];
    var_0.getactiveteamcount = [];
    var_0._id_12D93 = [];
    var_0.jailedplayers = [];
    var_0.arenaplayers = [];
    var_0.matches = [];
    var_0.loadingplayers = [];
    var_0.fightover = 1;
    var_0._id_11FCF = [];
    var_0._id_11FCF["_encstr_A9B6165D96BE1339BEECD5C685B3AFE036855EB2E4CDEB13"] = 0;
    var_0._id_11FCF["_encstr_A27C116389686B63D6A7838B1A2F877883046E"] = 0;
    var_1 = [];
    var_2 = scripts\engine\utility::getstructarray( var_0.target, "_encstr_B8CE0BE43FC317DF690862BA48" );

    foreach ( var_4 in var_2 )
    {
        if ( var_4.script_noteworthy == "_encstr_94250D074EB4E6BDDCF5DC38B0DDB9" )
        {
            var_0.jailspawns[var_0.jailspawns.size] = var_4;
            continue;
        }

        if ( var_4.script_noteworthy == "_encstr_AB4E0C33B47634A3FACD0EC27773" )
        {
            var_0.fightspawns[var_0.fightspawns.size] = var_4;
            continue;
        }

        if ( var_4.script_noteworthy == "_encstr_B1670B0671B8B421762947676D" )
        {
            var_0.get_wave_spawn_total[var_0.get_wave_spawn_total.size] = var_4;
            continue;
        }

        if ( var_4.script_noteworthy == "_encstr_BCCE0D8F339B3F32080B1DDA1BF06A" )
        {
            var_0.center = var_4.origin;
            continue;
        }

        if ( var_4.script_noteworthy == "_encstr_A68C0A5803A5D151A2B310A6" )
        {
            var_0._id_136DC = var_4;
            continue;
        }

        if ( isdefined( var_4.script_parameters ) && var_4.script_parameters == "_encstr_AF090B841B0B5FE7D17A500FA0" )
        {
            var_1[var_1.size] = var_4;
            continue;
        }

        if ( var_4.script_noteworthy == "_encstr_93D007CEB7A536CA37" )
            var_0._id_12D93[var_0._id_12D93.size] = var_4;
    }

    if ( !isdefined( var_0.center ) )
        var_0.center = getgulagcenter( var_0 );

    if ( getdvarint( "_encstr_B89C19A388755903CBD01E13C833F31CF5884A4A010FCA4743A0F3", 1 ) > 0 )
        var_0.fightspawns = scripts\engine\utility::array_sort_with_func( var_0.fightspawns, ::hidequestobjiconfromplayer );
    else
        var_0.fightspawns = scripts\engine\utility::array_sort_with_func( var_0.fightspawns, ::hiderespawntimer );

    foreach ( var_7 in var_0.get_wave_spawn_total )
        _id_1322E( var_0, var_7 );

    var_0.get_wave_spawn_total = scripts\engine\utility::array_sort_with_func( var_0.get_wave_spawn_total, ::hiderespawntimer );

    foreach ( var_10 in var_0.jailspawns )
        _id_13255( var_0, var_10 );

    if ( istrue( level.gulag._id_13672 ) )
        var_0.weapons = spawnlootweapons( var_1 );

    spawnrocks( var_0 );

    if ( istrue( level.gulag.arenaflag ) )
        _id_1323A( var_0 );
}

gulaggesturesinit()
{
    level.gulag.gestures_enabled = getdvarint( "_encstr_804E13FB36CBFFE69D890A52A19F1FF7A3A5626556", 0 );

    if ( !istrue( level.gulag.gestures_enabled ) )
        return;

    level.gulag.gestures = [];
    level.gulag.gestures["_encstr_BEDB0F331BF5B3CAB947ABE4ACAFDCB2EC"] = [ "_encstr_80361B9BF3AF97C945D7E988B381A35FA29F0E9DCBA3BBB62BFBB0984B", "_encstr_B7551B7BFFA2B987B90B09BB9922DB09785D20BB2822671F73B0DDE449", "_encstr_A8FD1CA5EE83FAB3ACDCF5071BE59CEB3B56CDE8EA27567DC9B29DB46756" ];
    level.gulag.gestures["_encstr_97DB0F594EC7A02D937B5B5D5739EF9883"] = [ "_encstr_B2A320B82FC80627B20278F7DD2B554EFF1FE0C88F3A999F4A2D65F6B5C291702DB7", "_encstr_829D1AB2CB3B57F718DF1F388990FA0FCC21ABEB13F6772148FF5434", "_encstr_8F0618B08BF0BFE99F63B82744D773F78F32E820C33A73265F93", "_encstr_822A1F5AEE707D762BCD7D838D5EE4F5CECADCE8D5E4AC7D3A43EADA269BFAD507" ];
    level.gulag.gesturesounds["_encstr_BEDB0F331BF5B3CAB947ABE4ACAFDCB2EC"] = [ "_encstr_B7CF1CBCDDCF962F1FC2623437E79237607DC627BFD0B9A70808E3135733", "_encstr_9D391C14BBE0B1F7D5F86AF2662437721823AA8D477847AFE813624A2803", "_encstr_A3541D08504840C77B1920126FB7F53FDB83932D09A08FFA3FF3D5DE5BD4D9" ];
    level.gulag.gesturesounds["_encstr_97DB0F594EC7A02D937B5B5D5739EF9883"] = [ "_encstr_87E921E8B607F5ECD58D8576F5B3ACDCD15739ACF5C1ED37D78CEDEA89C6AC1DB4B5B2", "_encstr_B4EB1B485F980E2F8BCD7F7469C263F3E457E0482F30C0FFF1F46089BF", "_encstr_8CC8191BA8805F8A4D296F7F677C92CB0833122786D82703B0D75F", "_encstr_887B2014BBE0B1F7D5F86AF2662437721823AA8D4788C5FFE8D3F2DB088E1721B8D1" ];
}

getmaxplayers()
{
    var_0 = int( clamp( getdvarint( "_encstr_ABFA161FF26DA9D2EA6E5DF13F25F94BE18B3D59091B6297", 2 ), 2, 2 ) );

    if ( var_0 % 2 != 0 )
        var_0 = var_0 - 1;

    return var_0;
}

hiderespawntimer( var_0, var_1 )
{
    return var_0.script_index < var_1.script_index;
}

hidequestobjiconfromplayer( var_0, var_1 )
{
    if ( var_0.script_index == 4 )
        return 1;
    else if ( var_0.script_index == 5 )
        return 1;
    else if ( var_1.script_index == 4 )
        return 0;
    else if ( var_1.script_index == 5 )
        return 0;

    return hiderespawntimer( var_0, var_1 );
}

copystructwithoffset( var_0, var_1, var_2 )
{
    var_3 = spawnstruct();
    var_3.origin = var_0.origin + var_1;
    var_3.angles = var_0.angles;
    var_3.script_index = var_2;
    return var_3;
}

getgulagcenter( var_0 )
{
    var_1 = ( 0, 0, 0 );

    foreach ( var_3 in var_0.fightspawns )
        var_1 = var_1 + var_3.origin;

    var_1 = var_1 / var_0.fightspawns.size;
    return var_1;
}

spawnweapon( var_0, var_1, var_2 )
{
    var_3 = _encstr_88D5245E9613FBEB53533FF5BAD6047745CF934308BF634E225309500F27FBCFC3B3E560B3A7::createspawnweaponatpos( getgroundposition( var_0.origin + ( 0, 0, 12 ), 12 ), var_0.angles + ( 0, 0, 90 ), var_1, [] );
    var_3 thread outlinewatchplayerprox( var_2 );
    return var_3;
}

spawnlootweapons( var_0 )
{
    var_1 = [];
    var_2 = [];
    var_2["_encstr_AABA05236DC831"] = [ "_encstr_AABA05236DC831" ];
    var_2["_encstr_94C2099887BA24607BE134"] = _encstr_823124376CE42DC11DCD5EB6E0CB3BB0ADAC3A2FE056CDBC314EAF83A536DAAB079BE2D9B9B1::getgulagpickupsforclass( "_encstr_94C2099887BA24607BE134" );
    var_2["_encstr_9C1607D0071420D7AA"] = _encstr_823124376CE42DC11DCD5EB6E0CB3BB0ADAC3A2FE056CDBC314EAF83A536DAAB079BE2D9B9B1::getgulagpickupsforclass( "_encstr_9C1607D0071420D7AA" );
    var_3 = [];

    foreach ( var_5 in var_2 )
    {
        foreach ( var_7 in var_5 )
        {
            var_8 = 1;

            if ( isdefined( var_3[var_7] ) )
                continue;

            var_9 = level.br_lootiteminfo[var_7];

            if ( isdefined( var_9 ) )
            {
                var_10 = level.br_lootiteminfo[var_7].baseweapon + "_encstr_B61A04EBB607";
                var_8 = weaponclipsize( var_10 ) * 1;
            }

            var_3[var_7] = var_8;
        }
    }

    var_13 = [ "_encstr_94C2099887BA24607BE134", "_encstr_94C2099887BA24607BE134", "_encstr_9C1607D0071420D7AA", "_encstr_9C1607D0071420D7AA", "_encstr_9C1607D0071420D7AA" ];
    var_13 = scripts\engine\utility::array_randomize( var_13 );
    var_14 = [];
    var_14["_encstr_AFDE1078FB27A8A5C9EE9D100342ED16C026"] = scripts\engine\utility::random( var_2[var_13[0]] );
    var_14["_encstr_B3DE1077D92F028A16189FABB88942C9294E"] = scripts\engine\utility::random( var_2[var_13[1]] );
    var_14["_encstr_9EAA0F165980D7FADFC8C23A43D1F9E233"] = scripts\engine\utility::random( var_2[var_13[2]] );
    var_14["_encstr_886E0E2B69185ADA5910CF170B814077"] = scripts\engine\utility::random( var_2[var_13[3]] );
    var_14["_encstr_A1CA0D8B790FC88BF7E7BBBAA93A6A"] = scripts\engine\utility::random( var_2[var_13[4]] );

    if ( getdvarint( "_encstr_B89C19A388755903CBD01E13C833F31CF5884A4A010FCA4743A0F3", 1 ) > 0 )
        var_14["_encstr_886E0E2B69185ADA5910CF170B814077"] = var_14["_encstr_9EAA0F165980D7FADFC8C23A43D1F9E233"];

    foreach ( var_16 in var_0 )
    {
        if ( !isdefined( var_16.script_noteworthy ) )
            continue;

        var_17 = var_14[var_16.script_noteworthy];

        if ( !isdefined( var_17 ) )
            continue;

        if ( var_17 == "_encstr_AABA05236DC831" )
            continue;

        var_18 = var_16.origin;
        var_19 = var_16.angles;

        if ( !isdefined( var_19 ) )
            var_19 = ( 0, 0, 0 );
        else
            var_19 = ( 0, var_19[1], 0 );

        var_7 = easepower( var_17, var_18, var_19 );

        if ( isdefined( var_7 ) )
        {
            var_7.part = var_17;
            _encstr_823124376CE42DC11DCD5EB6E0CB3BB0ADAC3A2FE056CDBC314EAF83A536DAAB079BE2D9B9B1::_id_119F5( var_7, var_3[var_17] );
            var_7.keepinmap = 1;
            var_1[var_1.size] = var_7;
            continue;
        }
    }

    return var_1;
}

_id_125EE( var_0 )
{
    if ( _id_125EF( var_0 ) )
    {
        var_1 = var_0.matches[0];

        foreach ( var_3 in var_1 )
        {
            if ( var_3 == self )
                continue;
            else if ( updatelootleadercirclesize( var_3, var_0 ) )
                return 0;
        }

        return 1;
    }

    return 0;
}

_id_125EF( var_0 )
{
    if ( ismatchpending( var_0 ) )
    {
        var_1 = var_0.matches[0];

        foreach ( var_3 in var_1 )
        {
            if ( var_3 == self )
                return 1;
        }
    }

    return 0;
}

ismatchpending( var_0 )
{
    if ( var_0.matches.size == 0 )
        return 0;

    var_1 = var_0.matches[0];

    if ( var_1.size < 2 )
        return 0;

    return 1;
}

isfightready( var_0 )
{
    if ( !ismatchpending( var_0 ) )
        return 0;

    var_1 = var_0.matches[0];

    foreach ( var_3 in var_1 )
    {
        if ( istrue( var_3.entergulagwait ) || !istrue( var_3.jailed ) )
            return 0;
    }

    return 1;
}

set_relic_noregen( var_0 )
{
    var_1 = 5000;

    if ( !isdefined( var_0._id_11E78 ) )
    {
        var_0._id_11E78 = gettime() + var_1;
        return;
    }

    if ( gettime() > var_0._id_11E78 )
    {
        var_0.jailedplayers = scripts\engine\utility::array_removeundefined( var_0.jailedplayers );
        updatematchqueuepositions( var_0 );

        if ( var_0.set_relic_oneclip == 0 )
        {
            level.gulag.watch_for_near_objective_point = scripts\engine\utility::array_removeundefined( level.gulag.watch_for_near_objective_point );

            foreach ( var_3 in level.gulag.watch_for_near_objective_point )
            {
                if ( !istrue( var_3.inlaststand ) )
                    level.gulag.watch_for_near_objective_point = scripts\engine\utility::array_remove( level.gulag.watch_for_near_objective_point, var_3 );
            }
        }

        var_0._id_11E78 = gettime() + var_1;
    }
}

monitorgulag( var_0 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    var_1 = relic_amped_paused();

    for (;;)
    {
        set_relic_noregen( var_0 );

        if ( istrue( level.br_prematchstarted ) )
        {
            if ( istrue( level.gulag.shutdown ) )
            {
                if ( var_0.loadingplayers.size != 0 )
                    var_0 scripts\engine\utility::waittill_notify_or_timeout( "_encstr_BC7B1491271E608B834227A80AF7B56832A50B21C4C0", var_1 );

                if ( level.gulag.endonshutdown == 1 )
                {
                    foreach ( var_3 in var_0.jailedplayers )
                    {
                        var_3.gulagloser = 1;
                        var_3 kill();
                    }

                    var_0.shutdown = 1;
                }
                else if ( level.gulag.endonshutdown == 2 )
                    thread dojailbreak( var_0 );
                else if ( level.gulag.endonshutdown == 3 && ( istrue( var_0.shutdown ) || !ismatchpending( var_0 ) && !c130airdrop_getteamaveragepos() ) )
                {
                    foreach ( var_3 in var_0.jailedplayers )
                    {
                        if ( isalive( var_3 ) )
                        {
                            var_3 playergulagarenaready();
                            thread gulagvictory( var_0, var_3, 1, 0, "_encstr_97EF093338705BBDFF08B3" );
                        }
                    }

                    var_0.shutdown = 1;
                }
            }

            if ( unset_relic_martyrdom() )
            {
                waitframe();
                continue;
            }

            if ( isfightready( var_0 ) )
                beginnewfight( var_0 );
            else
                _id_13165( var_0 );
        }

        waitframe();
    }
}

_id_12219( var_0 )
{
    if ( !istrue( level.usegulag ) )
        return;

    level.gulag.paused = var_0;
}

unset_relic_martyrdom()
{
    return istrue( level.usegulag ) && istrue( level.gulag.paused );
}

calloutmarkerping_cp_setupcptimeouts()
{
    if ( !istrue( level.usegulag ) )
        return 0;

    foreach ( var_1 in level.gulag.arenas )
    {
        if ( !var_1.fightover )
            return 1;
    }

    return 0;
}

vehicle_compass_cp_shouldbevisibletoplayer()
{
    if ( isdefined( self ) && isalive( self ) )
        gulagvictory( self.arena, self, 1, 1, "_encstr_8F480FA9B0A5C6134EAC2CD6A2CEACE68E" );
}

circletimer( var_0 )
{
    if ( istrue( level.usegulag ) && !istrue( level.gulag.shutdown ) )
    {
        var_1 = remove_engineer_class();

        if ( var_0 >= var_1 )
            shutdowngulag( "_encstr_98A70DD82D9C8D63B2AF2DDC23AC3C", var_0 );
    }
}

shutdowngulag( var_0, var_1, var_2 )
{
    if ( !istrue( level.usegulag ) || istrue( level.gulag.shutdown ) )
        return;

    setomnvar( "_encstr_9B990F77C057277B505F41F707E841CBBD", 0 );
    setomnvar( "_encstr_98091CAB5AAFB357B1589DFACD86DEDDBE6C8DEDDC2D73ECBECDA3584756", 2 );
    level.gulag.shutdown = 1;

    if ( isdefined( level._id_12851 ) )
        [[ level._id_12851 ]]();

    thread makeac130flyaway();

    if ( !istrue( var_2 ) )
    {
        foreach ( var_4 in level.players )
        {
            if ( istrue( var_4.inlaststand ) )
            {
                level.gulag.watch_for_near_objective_point[level.gulag.watch_for_near_objective_point.size] = var_4;
                continue;
            }

            if ( !isdefined( var_4 ) || !isalive( var_4 ) || isdefined( var_4.gulag ) )
                continue;

            var_4 playergulagdonesplash();
        }
    }

    getentitylessscriptablearray( "_encstr_A3E21D8D504A82B8A5D6CF7303A753F3F6DF13B486B1211B2128736CADEFE5", [ "_encstr_B6F307B8F3D8281740", var_0, "_encstr_A1130D39ACB0E6BD377DD8EDBADC8E", var_1 ] );
}

c130airdrop_getteamaveragepos()
{
    return level.gulag.watch_for_near_objective_point.size > 0;
}

_id_125E6()
{
    if ( !istrue( level.usegulag ) || !istrue( level.gulag.shutdown ) )
        return 0;

    return scripts\engine\utility::array_contains( level.gulag.watch_for_near_objective_point, self );
}

set_relic_steelballs( var_0 )
{
    if ( istrue( level.gulag.shutdown ) && c130airdrop_getteamaveragepos() )
    {
        if ( isdefined( var_0 ) && var_0 _id_125E6() )
        {
            level.gulag.watch_for_near_objective_point = scripts\engine\utility::array_remove( level.gulag.watch_for_near_objective_point, var_0 );
            return 1;
        }
        else
            level.gulag.watch_for_near_objective_point = scripts\engine\utility::array_removeundefined( level.gulag.watch_for_near_objective_point );
    }

    return 0;
}

onplayerdisconnect( var_0 )
{
    if ( !istrue( level.usegulag ) )
        return;

    set_relic_steelballs( var_0 );
}

_id_12551( var_0 )
{
    if ( !istrue( level.usegulag ) )
        return;

    if ( istrue( var_0 ) )
    {
        self.watch_for_driver_death = undefined;

        if ( set_relic_steelballs( self ) )
            playergulagdonesplash();
    }
}

remove_engineer_class()
{
    if ( !isdefined( level.br_level ) || !isdefined( level.br_level.br_circledelaytimes ) )
        return 0;

    var_0 = level.br_level.delay_start_infiltrate_objective;

    if ( !isdefined( var_0 ) )
        var_0 = 0;

    return level.br_level.br_circledelaytimes.size - 1 - getdvarint( "_encstr_88A11906669B07F9C2D79080EFEB5095524DF5983F82E7C1BA7380", 3 ) - var_0;
}

_id_13249()
{
    var_0 = run_hud_logic();
    var_1 = gettime() + var_0 * 1000;
    setomnvar( "_encstr_89E30FC5E9FF69639582A059EBEC1B6113", var_1 );
    thread _id_13346( var_0 );
}

_id_13346( var_0 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    var_1 = getdvarint( "_encstr_A24923A3CB109198B67F3A9B781FEAF761F967B5C02EC981994C700735B921E53F3797D0A5", 90 );
    var_2 = var_0 - var_1;

    if ( 0 < var_2 )
    {
        wait( var_2 );
        setomnvar( "_encstr_98091CAB5AAFB357B1589DFACD86DEDDBE6C8DEDDC2D73ECBECDA3584756", 1 );
    }
}

run_hud_logic()
{
    var_0 = 0;

    if ( isdefined( level.br_level ) && isdefined( level.br_level.default_class_chosen ) )
    {
        var_1 = remove_engineer_class();

        for ( var_2 = 0; var_2 < var_1; var_2++ )
        {
            var_3 = level.br_level.br_circledelaytimes[var_2];
            var_4 = level.br_level.br_circleclosetimes[var_2];
            var_0 = var_0 + var_3 + var_4;
        }
    }

    return int( var_0 );
}

playergulagdonesplash()
{
    if ( istrue( self.gulagdone ) )
        return;

    self.gulagdone = 1;
    _encstr_BDA72853D95A88F3436F976B409FC760D7ABA3C7C92878A6F3938FB004E0B8FFA99A8D09905B4A14333F::isbrsquadleader( self, "_encstr_BDBA0DF75DCD2FC9877EFD70C8B21B", undefined, 2 );
    _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::dmztut_endgamewithreward( "_encstr_82A5125773DBB6C1D60FF3C18A57FFB66BC736A5", self );

    if ( istrue( level.br_pickups._id_12CB5 ) && _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::hasrespawntoken() )
    {
        _encstr_823124376CE42DC11DCD5EB6E0CB3BB0ADAC3A2FE056CDBC314EAF83A536DAAB079BE2D9B9B1::removerespawntoken();
        thread scripts\mp\hud_message::showsplash( "_encstr_95DC1A989CD79359B91C2CBBB9AF3ABDD65637EB324BB9854CC65619" );
        thread scripts\mp\utility\points::giveunifiedpoints( "_encstr_B3F819D1BBE7AEB852F843971EB1F8F8EF62E8FE324FE878EFD261" );
    }
}

dojailbreak( var_0 )
{
    if ( var_0.jailedplayers.size == 0 )
    {
        var_0.shutdown = 1;
        return;
    }

    var_0.isjailbreak = 1;
    var_0.arenaplayers = scripts\engine\utility::array_removeundefined( var_0.jailedplayers );
    jailbreaktimerwait( var_0 );
    var_1 = getloadoutindex();

    foreach ( var_3 in var_0.arenaplayers )
    {
        var_3 thread set_respawn_points( var_0 );
        var_3 initplayerarena( var_0, 1, var_1 );

        if ( istrue( level.gulag.gestures_enabled ) && !isbot( var_3 ) )
            var_3 playergulaggesturesdisable();

        if ( getdvarint( "_encstr_98CE1C4A267D69C2EB512B373920ADA3294B95478087A21DB0303B7F6038", 1 ) > 0 && var_0.arenaplayers.size > 0 )
            var_3 hudoutlinedisableforclients( var_0.arenaplayers );
    }

    playsoundatpos( var_0.center, "_encstr_AB191AB4F3E2CF0DB9FEF81DB713561817480A09A893E7BA6BA72EF1" );
    var_0.fightover = 0;

    if ( !isoneteamleft( var_0 ) )
    {
        var_0.time = level.gulag.timelimit;
        updatematchtimerhud( var_0, var_0.time );
        waittillgulagmatchend( var_0, 0 );
    }
    else
    {
        var_0.time = 8;
        updatematchtimerhud( var_0, var_0.time );
        wait( var_0.time );
    }

    foreach ( var_3 in var_0.arenaplayers )
    {
        if ( isdefined( var_3 ) && isdefined( var_3.gulagjailbreakhud ) )
            var_3.gulagjailbreakhud destroy();
    }

    handleendarena( var_0 );
    var_0.shutdown = 1;
}

jailbreaktimerwait( var_0 )
{
    foreach ( var_2 in var_0.arenaplayers )
    {
        if ( !isdefined( var_2 ) )
            continue;

        var_2 thread scripts\mp\hud_message::showsplash( "_encstr_8F3514134E7D76D5B10BD9AFA60BA51BD7982756B0D6" );

        if ( getdvarint( "_encstr_98CE1C4A267D69C2EB512B373920ADA3294B95478087A21DB0303B7F6038", 1 ) > 0 )
            var_2 hudoutlineenableforclients( var_0.arenaplayers, "_encstr_BD9614CA9305F31C389B070EB750274BADA841E379D5" );
    }

    wait 3;

    foreach ( var_2 in var_0.arenaplayers )
    {
        if ( !isdefined( var_2 ) )
            continue;

        var_2 playeraddjailbreaktimer();
    }

    gulagcountdowntimer( var_0, 0 );

    foreach ( var_2 in var_0.arenaplayers )
    {
        if ( !isdefined( var_2 ) )
            continue;

        var_2 setclientomnvar( "_encstr_B4A919A51461E3C1316EA8C703FDC9E8DDA96E6AABB5A16FE7B410", 0 );
        var_2 setclientomnvar( "_encstr_932315EAA5F56B2CE86CD0D72D9BFAC14E7B3B9356B937", 1 );

        if ( isdefined( var_2 ) && isdefined( var_2.gulagjailbreakhud ) )
            var_2.gulagjailbreakhud.label = &"_encstr_80DC16489708AB32513FED8C4BE909C3572CD0247FE55FBC";
    }
}

playeraddjailbreaktimer()
{
    self.gulagjailbreakhud = scripts\mp\hud_util::createfontstring( "_encstr_AA1608C07786F13312D3", 2 );
    self.gulagjailbreakhud scripts\mp\hud_util::setpoint( "_encstr_B1C4073FFD25110DE3", "_encstr_B1C4073FFD25110DE3", 0, -150 );
    self.gulagjailbreakhud.label = &"_encstr_826419F741208AE96F748BF54F77F15A35610B43C9C5C120171B45";
}

resetequipment( var_0 )
{
    if ( !istrue( level.gulag._id_13672 ) )
        return;

    for ( var_1 = 0; var_1 < var_0.weapons.size; var_1++ )
    {
        var_2 = var_0.weapons[var_1];
        var_2 setscriptablepartstate( var_2.part, "_encstr_BE8B08B3B4CD963163B2" );
    }
}

validateplayers( var_0 )
{
    return var_0.arenaplayers.size >= 2;
}

beginnewfight( var_0 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    var_0 endon( "_encstr_B4901165C17FE0A5E76243295B0FD550D22CC3" );
    level notify( "_encstr_8F4C169DBAB1163BEB4CACCEB4CDEBE6ACEEBECCA5ECA18E", var_0 );
    var_0.fightover = 0;
    resetequipment( var_0 );
    _id_12C6B( var_0 );
    var_0.arenaplayers = popnextmatch( var_0 );
    var_1 = 0;

    foreach ( var_4, var_3 in var_0.arenaplayers )
    {
        if ( isdefined( var_3 ) )
            var_0.jailedplayers = scripts\engine\utility::array_remove( var_0.jailedplayers, var_3 );

        if ( !isdefined( var_3 ) )
        {
            var_1 = 1;
            continue;
        }

        if ( var_3.gulag == 0 || var_3.jailed == 0 || var_3.gulagarena == 1 )
        {
            scripts\mp\utility\script::laststand_dogtags( "_encstr_B4F8098009D8884FE6A2EE" + var_3.name + "_encstr_A2552240A501B4DCD958B15A198033DE4E40D9571B0BCE045A80E071D9ABD82C3B049E80" + var_3.gulag + "_encstr_B11A0E8504E0E2A6169636B291014F10" + var_3.jailed + "_encstr_A90212161083B8B3AE8D853B829C95370B404F10" + var_3.gulagarena );
            var_1 = 1;
            continue;
        }

        var_3.fighterindex = var_4;
    }

    foreach ( var_6 in var_0.jailedplayers )
    {
        if ( !isdefined( var_6 ) )
            continue;

        var_6.gulagposition--;
        var_6 setweaponammoclip( "_encstr_ABB108EEA8EA22DED72B", 5 );
    }

    if ( var_1 )
    {
        var_0.jailedplayers = scripts\engine\utility::array_removeundefined( var_0.jailedplayers );
        var_0.arenaplayers = scripts\engine\utility::array_removeundefined( var_0.arenaplayers );

        if ( !validateplayers( var_0 ) )
        {
            handleendarena( var_0, undefined, 1 );
            return;
        }
    }

    var_8 = startbetting( var_0, var_0.arenaplayers );

    if ( getdvarint( "_encstr_A3161C208A227F89038FE46EB73FF3C3CE6338E002B1A72373D47BD065D7", 0 ) )
        thread manageoutlines( var_0, var_0.arenaplayers, var_8 );

    var_0.arenaspawncounter = 0;
    var_9 = getloadoutindex();

    foreach ( var_6 in var_0.arenaplayers )
    {
        if ( !isdefined( var_6 ) )
            continue;

        var_6 thread set_respawn_points( var_0, var_8 );
        var_6 thread initplayerarena( var_0, 0, var_9 );
    }

    thread watchlethaldelay( var_0 );
    wait 2;

    if ( !validateplayers( var_0 ) )
    {
        handleendarena( var_0, var_8, 1 );
        return;
    }

    _id_13FC1( var_0 );
    _id_13FC0( var_0 );
    var_12 = gulagcountdowntimer( var_0, 1, var_8 );

    if ( !var_12 )
        return;

    endbetting( var_0, var_8 );

    foreach ( var_6 in var_0.arenaplayers )
    {
        var_6 playergulagarenaready();
        var_6 thread _id_12692();
    }

    thread _id_13849( var_0 );
    var_0.time = level.gulag.timelimit;
    updatematchtimerhud( var_0, var_0.time );
    waittillgulagmatchend( var_0, 1 );
    handleendarena( var_0, var_8 );

    if ( !isfightready( var_0 ) )
        _id_14009( var_0 );
}

watchlethaldelay( var_0 )
{
    var_0 endon( "_encstr_B6CC0B06B0BA136BC960264763" );
    var_0 endon( "_encstr_89240B8DD351988869D6475D69" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );

    if ( level.gulag.lethaldelay <= 0 )
        return;

    var_0.lethaldelaystarttime = gettime();
    var_0.lethaldelayendtime = var_0.lethaldelaystarttime + level.gulag.lethaldelay * 1000 + level.gulag.impairedkill * 1000 + 2000;

    while ( gettime() < var_0.lethaldelayendtime )
        waitframe();

    var_0 notify( "_encstr_8BBD1181DD6BB003DD39F0F022B60BEE874E1D" );
}

watchlethaldelayplayer( var_0 )
{
    self endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );

    if ( level.gulag.lethaldelay == 0 )
        return;

    if ( !isai( self ) )
    {
        self notifyonplayercommand( "_encstr_9F3215E1BD0BD023FD19F8584357C32BE31FFCE51C0779", "_encstr_AD0D0653443BF7B7" );
        self notifyonplayercommand( "_encstr_9F3215E1BD0BD023FD19F8584357C32BE31FFCE51C0779", "_encstr_BA5F07B2CDD6F6B6AC" );
    }

    scripts\mp\equipment::allow_equipment_slot( "_encstr_987F080E394BDAC2E45E", 0 );
    scripts\mp\equipment::allow_equipment_slot( "_encstr_B98F0AC7D5B99F4DDBA8353B", 0 );
    watchlethaldelayfeedbackplayer( var_0, self );
    scripts\mp\equipment::allow_equipment_slot( "_encstr_987F080E394BDAC2E45E", 1 );
    scripts\mp\equipment::allow_equipment_slot( "_encstr_B98F0AC7D5B99F4DDBA8353B", 1 );

    if ( scripts\cp_mp\utility\game_utility::isrealismenabled() )
        self playlocalsound( "_encstr_B82913BA96BE9C56B98EEDB1DAD763CAE834C263DC" );

    self setclientomnvar( "_encstr_B8C01343D73F2D7D6ECBCE038F91C00657CDB04F5B", 2 );

    if ( !isai( self ) )
    {
        self notifyonplayercommandremove( "_encstr_9F3215E1BD0BD023FD19F8584357C32BE31FFCE51C0779", "_encstr_AD0D0653443BF7B7" );
        self notifyonplayercommandremove( "_encstr_9F3215E1BD0BD023FD19F8584357C32BE31FFCE51C0779", "_encstr_BA5F07B2CDD6F6B6AC" );
    }
}

watchlethaldelayfeedbackplayer( var_0, var_1 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    var_0 endon( "_encstr_89240B8DD351988869D6475D69" );
    var_0 endon( "_encstr_8BBD1181DD6BB003DD39F0F022B60BEE874E1D" );

    for (;;)
    {
        self waittill( "_encstr_9F3215E1BD0BD023FD19F8584357C32BE31FFCE51C0779" );
        var_2 = ( var_0.lethaldelayendtime - gettime() ) / 1000;
        var_2 = int( max( 0, ceil( var_2 ) ) );
        var_1 scripts\mp\hud_message::showerrormessage( "_encstr_B4F11DB102E689A55C23F191A7BF7F55A83B3F2B6D78DDCC756731919BE754", var_2 );
    }
}

_id_13849( var_0 )
{
    var_0 endon( "_encstr_89240B8DD351988869D6475D69" );
    playsoundatpos( var_0.center, "_encstr_AB191AB4F3E2CF0DB9FEF81DB713561817480A09A893E7BA6BA72EF1" );
    wait 1;
    _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::brleaderdialog( "_encstr_B96B13299BA4C07C21470B31778AA8184333108307", 0, var_0.jailedplayers );
    _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::brleaderdialog( "_encstr_B8E810CE57C60B3BF5BD89A6B28DA3A53B59", 0, var_0.arenaplayers );
    wait 2;

    foreach ( var_2 in var_0.jailedplayers )
    {
        if ( var_2.gulagposition <= 1 )
        {
            _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::dmztut_endgamewithreward( "_encstr_95160B9925747FD1E823F021E3", var_2, 0 );
            continue;
        }

        if ( var_2.gulagposition == 2 )
            _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::dmztut_endgamewithreward( "_encstr_B7570C7CFB634887FEEBF8AF9D83", var_2, 0 );
    }
}

_id_12692()
{
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    self setclientomnvar( "_encstr_98E91257B4AFF6C49A951B1DD29DCAFA3A560FE8", 0 );
    wait 3;
    self setclientomnvar( "_encstr_98E91257B4AFF6C49A951B1DD29DCAFA3A560FE8", -1 );
}

handleonekillwin( var_0, var_1, var_2, var_3 )
{
    if ( isdefined( var_2 ) && isplayer( var_2 ) && var_1 != var_2 && isalive( var_2 ) && scripts\engine\utility::array_contains( var_0.arenaplayers, var_2 ) )
    {
        thread gulagvictory( var_0, var_2, 0, 0, "_encstr_A8EA075B7FA0B3CF70" );
        payoutbet( var_3, var_2, 1 );
    }

    payoutbet( var_3, var_1, 0 );
}

manageoutlines( var_0, var_1, var_2 )
{
    manageoutlineactive( var_0, var_1, var_2 );

    if ( istrue( level.gulag.onekillwin ) )
        return;

    manageoutlinecleanup( var_0, var_1 );
}

manageoutlineswatchplayersaddedtojail( var_0 )
{
    var_0 endon( "_encstr_B6CC0B06B0BA136BC960264763" );

    for (;;)
    {
        var_0 waittill( "_encstr_A4041593F053D01FCBD0191455F1C391D150E9AAF03BCD" );
        updateoutlines( var_0 );
    }
}

manageoutlineactive( var_0, var_1, var_2 )
{
    var_0 endon( "_encstr_B6CC0B06B0BA136BC960264763" );
    thread manageoutlineswatchplayersaddedtojail( var_0 );

    for (;;)
    {
        if ( var_0.jailedplayers.size )
        {
            var_3 = scripts\engine\utility::array_removeundefined( var_0.jailedplayers );

            foreach ( var_5 in var_1 )
            {
                if ( !isdefined( var_5 ) )
                    continue;

                var_5 hudoutlineenableforclients( var_3, "_encstr_A65716B7AEE8B15AB9ACF573DBC85938A3D0D7EE432D1DCA" );
            }
        }

        if ( isdefined( var_2 ) )
        {
            foreach ( var_8 in var_2.bets )
            {
                if ( !isdefined( var_8.owner ) )
                    continue;

                var_9 = scripts\engine\utility::ter_op( var_2.bettingopen, var_8.playerfocus, var_8.playerbeton );

                if ( var_9 != -1 )
                {
                    var_10 = var_2.fighters[var_9];

                    if ( isdefined( var_10 ) )
                        var_10 hudoutlineenableforclient( var_8.owner, "_encstr_9D01163FBBF04DFF68C9999290B50782086997BF0DD0579B" );
                }
            }
        }

        var_0 waittill( "_encstr_9E3B107B1F05AE0331F1D0D7B4782B9307A0" );
    }
}

manageoutlinecleanup( var_0, var_1 )
{
    var_2 = scripts\engine\utility::array_removeundefined( var_0.jailedplayers );

    if ( !var_2.size )
        return;

    foreach ( var_4 in var_1 )
    {
        if ( !isdefined( var_4 ) )
            continue;

        var_4 hudoutlinedisableforclients( var_2 );
    }
}

updateoutlines( var_0 )
{
    var_0 notify( "_encstr_9E3B107B1F05AE0331F1D0D7B4782B9307A0" );
}

playergulagarenaready()
{
    _id_126B0( 1 );
    self setclientomnvar( "_encstr_9829146B18C9520B88F3A38BDBC9019B78E122B331A8", 1 );
    self setclientomnvar( "_encstr_B4A919A51461E3C1316EA8C703FDC9E8DDA96E6AABB5A16FE7B410", 0 );
    self setclientomnvar( "_encstr_932315EAA5F56B2CE86CD0D72D9BFAC14E7B3B9356B937", 1 );

    if ( istrue( level.gulag.gestures_enabled ) && !isbot( self ) )
        playergulaggesturesdisable();
}

gulagcountdowntimer( var_0, var_1, var_2 )
{
    var_3 = level.gulag.impairedkill;

    while ( var_3 > 0 )
    {
        foreach ( var_5 in var_0.arenaplayers )
        {
            var_5 setclientomnvar( "_encstr_932315EAA5F56B2CE86CD0D72D9BFAC14E7B3B9356B937", 0 );
            var_5 setclientomnvar( "_encstr_B4A919A51461E3C1316EA8C703FDC9E8DDA96E6AABB5A16FE7B410", var_3 );
        }

        var_3 = var_3 - 1;
        wait 1;

        if ( istrue( var_1 ) && !validateplayers( var_0 ) )
        {
            handleendarena( var_0, var_2, 1 );
            return 0;
        }
    }

    return 1;
}

set_relic_vampire( var_0, var_1, var_2 )
{
    var_0 endon( "_encstr_89240B8DD351988869D6475D69" );

    while ( var_1 > 0 )
    {
        if ( level.gameended )
            return;

        var_3 = var_1;

        if ( !istrue( var_0.overtime ) )
            var_3 = var_3 - var_2;

        if ( var_3 <= 5 )
        {
            var_4 = scripts\mp\gamelogic::relic_bang_and_boom_dropfunc( var_3 );
            lower_target_when_close( var_0, var_4 );
        }

        if ( var_1 > 1 )
            var_1 = var_1 - 1;

        wait 1;
    }
}

lower_target_when_close( var_0, var_1 )
{
    foreach ( var_3 in var_0.jailedplayers )
    {
        if ( isdefined( var_3 ) )
            var_3 playlocalsound( var_1 );
    }

    foreach ( var_3 in var_0.arenaplayers )
    {
        if ( isdefined( var_3 ) )
            var_3 playlocalsound( var_1 );
    }
}

respawn_scriptible_carriable_wait()
{
    return getdvarint( "_encstr_A13513936E93A74E3531A28A49770307CB4D0135F5", 15.0 );
}

waittillgulagmatchend( var_0, var_1 )
{
    var_2 = respawn_scriptible_carriable_wait();
    var_0.time = var_0.time + var_2;
    thread set_relic_vampire( var_0, var_0.time, var_2 );

    for (;;)
    {
        if ( !isanyonealive( var_0 ) || isoneteamleft( var_0 ) )
            break;

        var_0.time = var_0.time - level.framedurationseconds;

        if ( istrue( level.gulag.arenaflag ) && !istrue( var_0.overtime ) && var_0.time <= var_2 )
        {
            var_0.overtime = 1;
            var_0.managevehiclehealthui.arenaflag calloutmarkerping_watchwhenobjectivedeleted( 1 );
            var_0.managevehiclehealthui.arenaflag calloutmarkerping_watchwhenobjectivestartsprogress( var_0, 1 );
            var_0.managevehiclehealthui.arenaflag.flagmodel playsoundonmovingent( "_encstr_811B0DD810B82C0E2F0831270873DB" );
        }

        if ( istrue( var_0.overtime ) )
        {
            var_3 = clamp( var_0.time / var_2, 0.0, 1.0 );
            _id_13194( var_0, var_3 );
        }

        if ( var_0.time <= 0 )
        {
            _id_143EF( var_0 );

            if ( istrue( var_1 ) )
            {
                foreach ( var_5 in var_0.arenaplayers )
                {
                    var_5 thread set_respawn_loc_delayed( var_0 );
                    var_6 = scripts\mp\music_and_dialog::reset_attack_next_available_time( "_encstr_BA250E1339EBD9578D163BEBC6EDCDCA" );
                    var_5 setplayermusicstate( var_6 );
                    var_5 playsoundtoplayer( "_encstr_89951676BA1B85ECF56CE47BDD32FA89B7B7AF36F637564E", var_5 );
                    var_5 clearclienttriggeraudiozone( 2 );
                }
            }

            break;
        }

        waitframe();
    }

    var_0 notify( "_encstr_89240B8DD351988869D6475D69" );
}

_id_143EF( var_0 )
{
    while ( isdefined( var_0.managevehiclehealthui.arenaflag.claimteam ) && var_0.managevehiclehealthui.arenaflag.claimteam != "_encstr_AABA05236DC831" && !istrue( var_0.managevehiclehealthui.arenaflag.stalemate ) )
        waitframe();
}

isanyonealive( var_0 )
{
    foreach ( var_2 in var_0.arenaplayers )
    {
        if ( isalive( var_2 ) )
            return 1;
    }

    return 0;
}

isoneteamleft( var_0 )
{
    var_1 = undefined;

    foreach ( var_3 in var_0.arenaplayers )
    {
        if ( isalive( var_3 ) )
        {
            if ( !isdefined( var_1 ) )
            {
                var_1 = var_3.team;
                continue;
            }

            if ( var_1 != var_3.team )
                return 0;
        }
    }

    return 1;
}

handleendarena( var_0, var_1, var_2, var_3, var_4, var_5 )
{
    var_0 notify( "_encstr_8BBD1181DD6BB003DD39F0F022B60BEE874E1D" );
    var_0 notify( "_encstr_B6CC0B06B0BA136BC960264763" );
    var_0.fightover = 1;

    if ( !isdefined( var_4 ) )
        var_4 = "_encstr_A8EA075B7FA0B3CF70";

    endbetting( var_0, var_1 );
    updatematchtimerhud( var_0, 0 );
    var_6 = undefined;

    foreach ( var_8 in var_0.arenaplayers )
    {
        if ( !isdefined( var_8 ) )
            continue;

        if ( isalive( var_8 ) )
        {
            var_6 = var_8;

            if ( istrue( var_2 ) )
                var_6 playergulagarenaready();

            if ( isdefined( var_5 ) && var_8.team == var_5.team )
            {
                thread gulagvictory( var_0, var_8, 0, 0, var_4, 0, var_5, var_3 );
                continue;
            }

            thread gulagvictory( var_0, var_8, 0, 0, "_encstr_A8EA075B7FA0B3CF70" );
        }
    }

    if ( istrue( level.gulag.arenaflag ) && istrue( var_0.overtime ) )
        var_0.managevehiclehealthui.arenaflag calloutmarkerping_watchwhenobjectivedeleted( 0 );

    payoutremainingbets( var_6, var_1 );
    wait 2.0;

    if ( istrue( level.gulag.arenaflag ) && istrue( var_0.overtime ) )
    {
        var_0.overtime = 0;
        var_0.managevehiclehealthui.arenaflag calloutmarkerping_watchwhenobjectivestartsprogress( var_0, 0 );
    }

    handlesoloexclusionils( var_0 );
    wait 1.0;
}

_id_12642( var_0, var_1 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    self endon( "_encstr_A1ED0A8F0388B66F5851E24A" );

    if ( !isdefined( self.arena ) )
        return;

    var_2 = self.arena;

    if ( istrue( self._id_14439 ) )
    {
        self notify( "_encstr_9EAB1270D5E0DBB1BFF013B938F5F9BFBB31998F" );

        if ( !isalive( self ) )
        {
            thread playergulagautowin( "_encstr_BDAB1823C3693F1BF62963A0C0ED739C38D17715C01E826C7AFB", var_0 );
            return;
        }
        else if ( istrue( self.delay_enter_combat_after_investigating_grenade ) )
        {
            _encstr_97571CC31EE30FBA499B665A8327B7E7F8F54C512FA93F150D207EF2F097::_id_13F21( self, "_encstr_BDAB1823C3693F1BF62963A0C0ED739C38D17715C01E826C7AFB" );
            level thread _encstr_97571CC31EE30FBA499B665A8327B7E7F8F54C512FA93F150D207EF2F097::_id_14006();
        }
    }
    else if ( istrue( self.gulagarena ) )
    {
        if ( !var_2.fightover )
        {
            var_2 notify( "_encstr_89240B8DD351988869D6475D69" );
            var_2 notify( "_encstr_B4901165C17FE0A5E76243295B0FD550D22CC3" );
            thread handleendarena( var_2, undefined, 1, 1, var_1, var_0 );
        }

        return;
    }
    else
    {
        var_2.jailedplayers = scripts\engine\utility::array_remove( var_2.jailedplayers, self );
        updatematchqueuepositions( var_2 );

        if ( istrue( self.gulag ) && !istrue( self.jailed ) )
            self waittill( "_encstr_9EDC0C59A5F0D04F31D31D6932CB" );
    }

    thread gulagvictory( var_2, self, 1, 0, var_1, 0, var_0, 1 );
}

getnextjailspawn( var_0 )
{
    if ( isdefined( var_0.jailspawncounter ) )
    {
        var_0.jailspawncounter++;
        var_0.jailspawncounter = var_0.jailspawncounter % var_0.jailspawns.size;
    }
    else
        var_0.jailspawncounter = 0;

    var_1 = var_0.jailspawns[var_0.jailspawncounter];
    return var_1;
}

_id_13255( var_0, var_1 )
{
    if ( isdefined( var_1.target ) )
    {
        var_2 = scripts\engine\utility::getstruct( var_1.target, "_encstr_B8CE0BE43FC317DF690862BA48" );

        if ( isdefined( var_2 ) )
            var_1.chair = var_2;
    }
}

outlinewatchplayerprox( var_0 )
{
    self endon( "_encstr_A3750609A5E61883" );
    self endon( "_encstr_8B5C081B58E0B7A213E6" );
    self.outlinedplayers = [];

    switch ( var_0 )
    {
        case 0:
        default:
            var_1 = "_encstr_87A514D0633420F3AAC7E7A9FF7345C8C77BB8E8CB8D";
            break;
        case 1:
            var_1 = "_encstr_B46414E763289537A03151EA19871BCC193F7275EB40";
            break;
        case 2:
            var_1 = "_encstr_AD9D133F37A3D1A09EAF16895768801BC9C7ABABC3";
            break;
        case 3:
            var_1 = "_encstr_AD0F1217CDFBC334B548A91260A12B8BF6366594";
            break;
        case 4:
            var_1 = "_encstr_B4AE15F6BAE863B49B56FA1956078E34BEBD4EB0B9D92B";
            break;
    }

    for (;;)
    {
        var_2 = scripts\common\utility::playersinsphere( self.origin, 2000 );
        var_3 = scripts\engine\utility::array_difference( level.players, var_2 );

        foreach ( var_5 in var_2 )
        {
            var_6 = distancesquared( self.origin, var_5.origin );
            var_7 = var_5 getentitynumber();

            if ( !isdefined( self.outlinedplayers[var_7] ) )
                self.outlinedplayers[var_7] = scripts\mp\utility\outline::outlineenableforplayer( self, var_5, var_1, "_encstr_B9760D6356B356D8FAB96CC9A507A3" );
        }

        foreach ( var_5 in var_3 )
        {
            var_7 = var_5 getentitynumber();

            if ( isdefined( self.outlinedplayers[var_7] ) )
            {
                scripts\mp\utility\outline::outlinedisable( self.outlinedplayers[var_7], self );
                self.outlinedplayers[var_7] = undefined;
            }
        }

        waitframe();
    }
}

gulagstreamlocationstart( var_0 )
{
    if ( ( isbot( self ) || self calloutmarkerping_getactive() ) && !istrue( self._id_119D7 ) )
        return 0;

    self calloutmarkerping_getinventoryslot( 10000.0 );
    self setadditionalstreampos( var_0, 1 );
    return !self isadditionalstreamposready();
}

gulagstreamlocationwait()
{
    if ( !istrue( self._id_119D7 ) )
    {
        self endon( "_encstr_9BF71CEFD8F8190A27BD12CF2F7370AFA1D03B5F70D073B283579DC78D1B" );
        thread gulagstreamlocationwaittimeout( level.gulag._id_1391B );

        while ( !self isadditionalstreamposready() )
            waitframe();

        self notify( "_encstr_9BF71CEFD8F8190A27BD12CF2F7370AFA1D03B5F70D073B283579DC78D1B" );
    }
    else
        wait( level.gulag._id_1391B );
}

gulagstreamlocationwaittimeout( var_0 )
{
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    self endon( "_encstr_9BF71CEFD8F8190A27BD12CF2F7370AFA1D03B5F70D073B283579DC78D1B" );
    wait( var_0 );
    self notify( "_encstr_9BF71CEFD8F8190A27BD12CF2F7370AFA1D03B5F70D073B283579DC78D1B" );
}

gulagstreamlocationend()
{
    self clearadditionalstreampos();
    self notify( "_encstr_9BF71CEFD8F8190A27BD12CF2F7370AFA1D03B5F70D073B283579DC78D1B" );
}

set_scriptable_states()
{
    self calloutmarkerping_getinventoryslot( 0.0 );
}

addloadingplayer( var_0, var_1 )
{
    var_1.entergulagwait = 1;
    var_0.loadingplayers[var_0.loadingplayers.size] = var_1;
    thread addloadingplayerdisconnectwatch( var_0, var_1 );
}

addloadingplayerdisconnectwatch( var_0, var_1 )
{
    var_1 endon( "_encstr_AA5F144AF350E59BF5C4A24AE9DBC35F1179D1B91B70" );
    var_1 waittill( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    thread removeloadingplayer( var_0, var_1 );
}

removeloadingplayer( var_0, var_1 )
{
    var_1 notify( "_encstr_AA5F144AF350E59BF5C4A24AE9DBC35F1179D1B91B70" );

    if ( isdefined( var_1 ) )
        var_0.loadingplayers = scripts\engine\utility::array_remove( var_0.loadingplayers, var_1 );
    else
        var_0.loadingplayers = scripts\engine\utility::array_removeundefined( var_0.loadingplayers );

    if ( var_0.loadingplayers.size == 0 )
        var_0 notify( "_encstr_BC7B1491271E608B834227A80AF7B56832A50B21C4C0" );
}

updatelootleadercirclesize( var_0, var_1 )
{
    return scripts\engine\utility::array_contains( var_1.loadingplayers, var_0 );
}

entergulag( var_0 )
{
    var_0 notify( "_encstr_BED30C8FE0318A920ED0274B08E1" );
    var_0.entergulagwait = 0;
    scripts\mp\deathicons::spawn_carriables_from_prefabs_all( var_0 );
}

entergulagwait( var_0 )
{
    if ( var_0.entergulagwait )
        var_0 waittill( "_encstr_BED30C8FE0318A920ED0274B08E1" );
}

playergetnextarena()
{
    if ( !istrue( level.gulag.multiarena ) )
        return level.gulag.arenas[0];

    var_1 = undefined;
    var_2 = undefined;

    foreach ( var_4 in level.gulag.arenas )
    {
        foreach ( var_6 in var_4.matches )
        {
            if ( var_6.size == 1 && isdefined( var_6[0] ) && var_6[0].team != self.team && ( !isdefined( var_1 ) || var_6[0].vehicle_compass_friendlystatuschangedcallback < var_2 ) )
            {
                var_1 = var_4;
                var_2 = var_6[0].vehicle_compass_friendlystatuschangedcallback;
            }
        }
    }

    if ( isdefined( var_1 ) )
        return var_1;

    var_9 = [];

    for ( var_10 = 0; var_10 < level.gulag.arenas.size; var_10++ )
    {
        var_4 = level.gulag.arenas[var_10];

        if ( var_4.matches.size > 0 && var_4.matches.size < level.gulag.maxqueue )
            var_9[var_9.size] = var_4;
    }

    if ( var_9.size > 0 )
    {
        foreach ( var_4 in var_9 )
        {
            foreach ( var_6 in var_4.matches )
            {
                foreach ( var_14 in var_6 )
                {
                    if ( isdefined( var_14 ) && var_14.team == self.team )
                        return var_4;
                }
            }
        }

        var_4 = var_9[randomint( var_9.size )];
        return var_4;
    }

    var_1 = undefined;
    var_18 = undefined;

    for ( var_10 = 0; var_10 < level.gulag.arenas.size; var_10++ )
    {
        var_4 = level.gulag.arenas[var_10];

        if ( var_4.matches.size == 0 )
            return var_4;
        else if ( !isdefined( var_18 ) || var_4.matches.size < var_18 )
        {
            var_1 = var_4;
            var_18 = var_4.matches.size;
        }
    }

    return var_1;
}

updatelootleadermarks( var_0, var_1 )
{
    if ( !ismatchpending( var_0 ) )
        return 0;

    var_2 = var_1.gulagposition - 1;

    if ( var_2 >= 0 && var_0.matches[var_2].size > 1 )
        return 1;

    return 0;
}

_id_13165( var_0 )
{
    foreach ( var_2 in var_0.jailedplayers )
    {
        if ( !updatelootleadermarks( var_0, var_2 ) && isdefined( var_2.vehicle_compass_getleveldata ) && !isdefined( var_2.vehicle_compass_hide ) )
        {
            var_2 setclientomnvar( "_encstr_8A571B43B4AFE0CE099FE3C99F528050294B097851FDD88D213BD3C3A7", var_2.vehicle_compass_getleveldata );
            var_2.vehicle_compass_hide = 1;
        }
    }
}

_id_12527( var_0 )
{
    self.vehicle_compass_getleveldata = undefined;
    self.vehicle_compass_hide = undefined;
    self setclientomnvar( "_encstr_8A571B43B4AFE0CE099FE3C99F528050294B097851FDD88D213BD3C3A7", 0 );
}

_id_125F4( var_0 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    self endon( "_encstr_AA7F105360F7EBA3C1D9F8F82229254F7898" );
    self endon( "_encstr_A1ED0A8F0388B66F5851E24A" );
    var_1 = getdvarint( "_encstr_8931169BB1EACF86A2373050DF30FF4B10E1AB2D3A9F3333", 95 );

    if ( var_1 <= 0 )
        return;

    self.vehicle_compass_getleveldata = gettime() + var_1 * 1000;
    wait( var_1 );

    if ( updatelootleadermarks( var_0, self ) )
    {
        var_2 = self.gulagposition * ( level.gulag.timelimit + respawn_scriptible_carriable_wait() + level.gulag.impairedkill + 2 + 2.0 + 1.0 + 1 );
        var_3 = gettime() + var_2 * 1000;

        while ( var_3 > gettime() && updatelootleadermarks( var_0, self ) )
            waitframe();
    }

    while ( unset_relic_martyrdom() )
        waitframe();

    thread gulagvictory( var_0, self, 1, 0, "_encstr_945408D1B4B556B7BA3A" );
}

initplayerjail( var_0 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    self endon( "_encstr_A1ED0A8F0388B66F5851E24A" );
    self.vehicle_compass_friendlystatuschangedcallback = gettime();
    self.nosuspensemusic = 1;
    _encstr_890626F852FABB63A30BE831E0264973E59A7820FB57C7D0C312D83FC647500B0BA248E8766F3F91::destroyawardlaunchonly( self, scripts\engine\utility::ter_op( istrue( var_0 ), "_encstr_AA1608C07786F13312D3", "_encstr_BA750691954CEA76" ) );
    _id_1263C();
    var_1 = playergetnextarena();
    self.arena = var_1;

    if ( !scripts\engine\utility::array_contains( var_1.jailedplayers, self ) )
    {
        var_1 notify( "_encstr_A4041593F053D01FCBD0191455F1C391D150E9AAF03BCD", self );
        var_1.jailedplayers[var_1.jailedplayers.size] = self;
    }

    playergulaghud( var_1 );
    thread playerwatchdisconnect( var_1 );
    updatematchqueuepositions( var_1 );
    addloadingplayer( var_1, self );
    set_relic_steelballs( self );

    if ( !isdefined( self.gulaguses ) )
        self.gulaguses = 0;

    self.gulaguses++;
    setplayervargulag( 1 );
    setplayervargulagarena( 0 );
    _id_131A2( 1 );
    _id_1319F( var_1 );
    scripts\mp\outofbounds::enableoobimmunity( self );

    if ( isdefined( level.getinfilplayers ) )
        [[ level.getinfilplayers ]]();

    var_2 = getnextjailspawn( var_1 );
    var_3 = getgroundposition( var_2.origin, 12 );
    var_4 = ( 0, 0, 0 );

    if ( isdefined( var_2.angles ) )
        var_4 = var_2.angles;

    var_5 = gulagstreamlocationstart( var_3 );
    self.set_relic_steelballs_perks = 1;
    self._id_1391A = spawnstruct();
    self._id_1391A.origin = var_3;
    self._id_1391A.angles = var_4;

    if ( istrue( var_0 ) )
        entergulagwait( self );
    else
        entergulag( self );

    _encstr_A83527375FF36358943A0858E22728AFFAAFA1ABAB2A36DADA520ED34B55D05D71772933B3C6F4F0F3::_id_1206C();
    _encstr_B2032CDC3693B4E0E86EBCADC1BCCE0BDA59E8BCC1566E5E9839FA0BB13AF5B5F68C95EB9537C6161C2B719DE636::obj_hangar_bombs();
    _calloutmarkerping_isvehicleoccupiedbyenemy::loadout_finalizeweapons( "_encstr_AD220628430DDBF1" );
    var_6 = gettime();

    if ( _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::tutorial_playsound() )
        self notify( "_encstr_94B70E0B1177539F801BB5FE7169FE8A" );

    if ( level.gulag.betting )
    {
        var_7 = level.gulag.juggheli_spawner_jammer5_2;

        if ( isdefined( self.plundercountondeath ) )
            var_7 = int( max( var_7, int( self.plundercountondeath / 2 ) ) );

        _encstr_A18624E0EFEA87BAA35A56BBFB0EBF36CA096B407105AFF796F09F4F7DAFB0DCE162357947B7::playersetplundercount( var_7 );
    }

    _id_12617();

    if ( var_5 )
    {
        _encstr_97571CC31EE30FBA499B665A8327B7E7F8F54C512FA93F150D207EF2F097::spawnintermission( var_3 + ( 0, 0, 100 ), self.angles );
        scripts\mp\spectating::setdisabled();
        gulagstreamlocationstart( var_3 );
    }

    if ( var_5 )
        gulagstreamlocationwait();

    if ( _encstr_AD64266E6CE44B1CD19B97B53897D9B0B62B1DBC389537F2139CBE7658D6AC8E2F3895DC17B3DC8D::tutorial_showtext( "_encstr_8A88180E362CCB56270A9CB2A9C1C2EE73745DC658769485B4C6" ) )
        _encstr_AD64266E6CE44B1CD19B97B53897D9B0B62B1DBC389537F2139CBE7658D6AC8E2F3895DC17B3DC8D::_id_12E05( "_encstr_8A88180E362CCB56270A9CB2A9C1C2EE73745DC658769485B4C6" );

    scripts\mp\class::loadout_emptycacheofloadout( "_encstr_87AC099DB05B59ADF619AC" );
    self.pers["_encstr_A2FB10AFE391259857B908783F59C26F5BEB"] = level.gulag.vehicle_compass_deregisterinstance;
    self.class = "_encstr_87AC099DB05B59ADF619AC";
    self.forcespawnangles = var_4;
    self.forcespawnorigin = var_3;
    scripts\mp\playerlogic::spawnplayer( undefined, 0 );
    scripts\cp_mp\execution::_clearexecution();
    self setclientomnvar( "_encstr_87FD09D54BBECE5DD8163B", 1 );
    self._id_1391A = undefined;
    self.set_relic_steelballs_perks = 0;
    _id_12C7A();

    if ( var_5 )
        gulagstreamlocationend();

    _id_12694();
    _id_126EA( var_6 );

    if ( _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::tutorial_playsound() )
        self clearsoundsubmix( "_encstr_B96F16333F6748F8822111AB157918807B9FB1B7B31A2FD0", 2 );
    else
        self clearsoundsubmix( "_encstr_82CE2DD59F5AADD95CF5DE715D3140D281074979CF92EBF0650AA3AE050D081BFA97CBF5DB9936A8AAA42BC32FC462", 2 );

    self setclientomnvar( "_encstr_9829146B18C9520B88F3A38BDBC9019B78E122B331A8", 1 );
    var_8 = var_1.fightover && _id_125EE( var_1 );
    var_9 = undefined;

    if ( level.gulag.getaccessorylogicbyindex )
        var_9 = 0.5;

    if ( !var_8 )
        gulagfadefromblack( var_9 );

    gulagloadingtextclear();

    if ( !var_8 )
    {
        _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::dmztut_endgamewithreward( "_encstr_AFBD0C17631C974F8677080B7BDE", self, 0 );
        thread _id_1251A( var_1, var_2 );
    }

    var_10 = _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::round_enemy_stuck_logic( self.team, self.squadindex );

    foreach ( var_12 in var_10 )
    {
        if ( !isdefined( var_12 ) || !isalive( var_12 ) )
            continue;

        if ( var_12 != self )
        {
            var_12 thread scripts\mp\hud_message::showsplash( "_encstr_A6C1153139F5EC5D8DC276AF3AAC85B6D6C247ACEB9673", undefined, self );
            _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::dmztut_endgamewithreward( "_encstr_BE28159F8792E7603F7BC15925E598A5FAC707335BEABC", var_12 );
        }
    }

    if ( !istrue( self.jailed ) )
    {
        _id_131AA( 1 );
        scripts\mp\utility\perk::blockperkfunction( "_encstr_9E57146EE0B21BA50B36A3BCD76EB1C23B5637765993" );
    }

    removeloadingplayer( var_1, self );
    _encstr_823124376CE42DC11DCD5EB6E0CB3BB0ADAC3A2FE056CDBC314EAF83A536DAAB079BE2D9B9B1::initplayer( 1 );

    if ( istrue( level.gulag.gestures_enabled ) && !isbot( self ) )
        thread playergulaggestures();

    _id_126B3( 0 );

    if ( istrue( level.gulag.arenaflag ) && istrue( var_1.overtime ) )
        var_1.managevehiclehealthui.arenaflag thread calloutmarkerpingvo_canplaywithspamavoidance( 1, self );

    thread _id_125F4( var_1 );
    thread _id_125F5( var_1 );
    self notify( "_encstr_9EDC0C59A5F0D04F31D31D6932CB" );
}

_id_125F5( var_0 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    self endon( "_encstr_AA7F105360F7EBA3C1D9F8F82229254F7898" );
    self endon( "_encstr_A1ED0A8F0388B66F5851E24A" );
    wait 5;

    if ( ismatchpending( var_0 ) )
        return;

    _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::dmztut_endgamewithreward( "_encstr_81360F2193BCD864295F2D258773BF505C", self, 0 );
}

_id_126B3( var_0 )
{
    if ( var_0 )
        self enableoffhandthrowback();
    else
        self disableoffhandthrowback();
}

playergulaggestures()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_A3750609A5E61883" );
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    self endon( "_encstr_9E8F14FC25E37997891240E83BDB753167E77EED873B" );
    self enableoffhandweapons();
    self allowfire( 0 );
    self allowads( 0 );
    self notifyonplayercommand( "_encstr_BEDB0F331BF5B3CAB947ABE4ACAFDCB2EC", "_encstr_9DE608483AFB1D28C673" );
    self notifyonplayercommand( "_encstr_97DB0F594EC7A02D937B5B5D5739EF9883", "_encstr_88120D2E67472A1D50867B441B3037" );
    var_0 = 0;

    for (;;)
    {
        var_1 = scripts\engine\utility::_id_143AD( "_encstr_BEDB0F331BF5B3CAB947ABE4ACAFDCB2EC", "_encstr_97DB0F594EC7A02D937B5B5D5739EF9883" );

        if ( self isgestureplaying() || self isswitchingweapon() || self isreloading() || self ismantling() || self isthrowinggrenade() || self israisingweapon() || self ismeleeing() )
            continue;

        if ( getdvarint( "_encstr_B74618B812BA9761FB670CF60FC7C99763DB08808B190959C754", 0 ) > 0 )
        {
            if ( var_0 >= level.gulag.gestures[var_1].size )
                var_0 = 0;

            var_2 = level.gulag.gesturesounds[var_1][var_0];
            var_3 = level.gulag.gestures[var_1][var_0];
            var_0++;
        }
        else
        {
            var_0 = randomint( level.gulag.gestures[var_1].size );
            var_2 = level.gulag.gesturesounds[var_1][var_0];
            var_3 = level.gulag.gestures[var_1][var_0];
        }

        if ( isdefined( var_2 ) && var_2 != "_encstr_A40101" )
            self playsound( var_2 );

        var_4 = getcompleteweaponname( var_3 );

        if ( isdefined( var_4 ) && !nullweapon( var_4 ) )
            scripts\cp_mp\gestures::watchradialgesture( var_4 );
    }
}

playergulaggesturesdisable()
{
    self notify( "_encstr_9E8F14FC25E37997891240E83BDB753167E77EED873B" );
    self notifyonplayercommandremove( "_encstr_BEDB0F331BF5B3CAB947ABE4ACAFDCB2EC", "_encstr_9DE608483AFB1D28C673" );
    self notifyonplayercommandremove( "_encstr_97DB0F594EC7A02D937B5B5D5739EF9883", "_encstr_88120D2E67472A1D50867B441B3037" );
    self allowfire( 1 );
    self allowads( 1 );
}

fadeoutin( var_0 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );

    if ( !isdefined( var_0 ) )
        var_0 = 1.0;

    gulagfadetoblack();
    wait( var_0 );
    gulagfadefromblack();
}

gulagfadetoblack( var_0 )
{
    _id_12522();

    if ( istrue( var_0 ) )
        set_relic_noluck();
}

gulagfadefromblack( var_0 )
{
    thread _id_12523( var_0 );
    set_relic_noks();
}

set_relic_noluck()
{
    var_0 = _encstr_B2E4252B3FAB9B1009F38F29237E449729C578A17B25C3F279A3502A7A02C66C77330DD01FE027::rotatetocurrentangles( self );

    foreach ( var_2 in var_0 )
        var_2 _id_12522();
}

set_relic_noks()
{
    var_0 = _encstr_B2E4252B3FAB9B1009F38F29237E449729C578A17B25C3F279A3502A7A02C66C77330DD01FE027::rotatetocurrentangles( self );

    foreach ( var_2 in var_0 )
    {
        if ( getdvarint( "_encstr_AA851886A628F9BA3D416E38D35BA938F05A156CD97061C8C23F", 0 ) == 1 )
            logstring( "_encstr_94022B639880AF8213C95ED734E36A5D8DC0DFC79118C98A074EE24F9EA172F4702817C728370C925B7D6A14D3" );

        var_2 thread _id_12523();
    }
}

patch_self_check( var_0 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );

    if ( !isdefined( var_0 ) )
        var_0 = 1.0;

    set_relic_noluck();
    wait( var_0 );
    set_relic_noks();
}

set_relic_punchbullets()
{
    if ( _id_125EB() )
        return 1;

    return 0;
}

gulagloadingtext()
{
    var_0 = scripts\mp\hud_util::createfontstring( "_encstr_AA1608C07786F13312D3", 1.5 );
    var_0 scripts\mp\hud_util::setpoint( "_encstr_B1C4073FFD25110DE3", "_encstr_B1C4073FFD25110DE3", 0, -100 );
    var_0.label = &"_encstr_ADF813D16286F527377FF1314F07DE81395ED44DCD";
    self.gulagloadingtext = var_0;
}

gulagloadingtextclear()
{
    if ( isdefined( self.gulagloadingtext ) )
        self.gulagloadingtext destroy();
}

_id_126C3( var_0, var_1 )
{
    self cancelmantle();
    self setorigin( var_0, 1 );
    self setplayerangles( var_1 );
}

initplayerarena( var_0, var_1, var_2 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    self notify( "_encstr_AA7F105360F7EBA3C1D9F8F82229254F7898" );
    _id_1251F();
    _encstr_823124376CE42DC11DCD5EB6E0CB3BB0ADAC3A2FE056CDBC314EAF83A536DAAB079BE2D9B9B1::initplayer();
    self allowprone( 0 );
    self allowcrouch( 0 );
    _id_126B3( 1 );
    _id_126B0( 0 );
    playertakeawayrock( var_0 );
    _id_12527( var_0 );
    scripts\mp\equipment::allow_equipment_slot( "_encstr_987F080E394BDAC2E45E", 0 );
    scripts\mp\equipment::allow_equipment_slot( "_encstr_B98F0AC7D5B99F4DDBA8353B", 0 );
    thread _id_125CC( var_0 );

    if ( istrue( var_1 ) )
    {
        _id_131AA( 0 );
        setplayervargulagarena( 1 );
        playergivearenaloadout( var_0, var_2 );

        if ( level.gulag.lethaldelay > 0 )
            thread watchlethaldelayplayer( var_0 );

        return;
    }

    _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::dmztut_endgamewithreward( "_encstr_8F91124F2D418AC74E30733F78CD87C31BC957C2", self, 0 );
    var_3 = set_relic_punchbullets();

    if ( !var_3 )
        thread fadeoutin();

    thread patch_self_check();
    wait 1;
    playergivearenaloadout( var_0, var_2 );
    thread _id_126C8( 3 );

    if ( getdvarint( "_encstr_94FB1DF3AA53388012D76DB3023C68F33F428B98126F70A86DC141AF2D23B8", 0 ) == 1 )
    {
        level.gulag.lethaldelay = 0;
        thread _id_1428F( var_0 );
    }

    if ( level.gulag.lethaldelay > 0 )
        thread watchlethaldelayplayer( var_0 );

    var_4 = getnextarenaspawn( var_0 );
    var_5 = getgroundposition( var_4.origin, 1 );
    var_6 = var_4.angles;

    if ( !isdefined( var_4.angles ) )
        var_6 = ( 0, 0, 0 );

    _id_126C3( var_5, var_6 );
    _id_131AA( 0 );
    setplayervargulagarena( 1 );
    self.health = self.maxhealth;
    _encstr_BD96220B5106E75AE8B7770D890AA70F2109F353DB5537C530DD0F0965F06D1BF8E11B7A::scriptablescurid( level.gulag._id_11F2D );

    if ( getdvarint( "_encstr_98CE1C4A267D69C2EB512B373920ADA3294B95478087A21DB0303B7F6038", 1 ) > 0 )
        self hudoutlineenableforclients( var_0.arenaplayers, "_encstr_BD9614CA9305F31C389B070EB750274BADA841E379D5" );

    if ( var_3 )
        gulagfadefromblack();

    wait 1;
    self allowprone( 1 );
    self allowcrouch( 1 );
    wait( level.gulag.impairedkill - 1 );
    wait 1;

    if ( getdvarint( "_encstr_98CE1C4A267D69C2EB512B373920ADA3294B95478087A21DB0303B7F6038", 1 ) > 0 && var_0.arenaplayers.size > 0 )
        self hudoutlinedisableforclients( var_0.arenaplayers );
}

_id_126B0( var_0 )
{
    if ( var_0 )
    {
        self allowmelee( 1 );
        self allowmovement( 1 );
        self enableusability();
        self enableoffhandweapons();
        self allowads( 1 );
        self allowfire( 1 );
    }
    else
    {
        self allowmelee( 0 );
        self allowmovement( 0 );
        self disableusability();
        self disableoffhandweapons();
        self allowads( 0 );
        self allowfire( 0 );
    }
}

getnextarenaspawn( var_0 )
{
    if ( !isdefined( var_0.arenaspawncounter ) )
        var_0.arenaspawncounter = 0;

    var_1 = undefined;

    if ( _id_14069( var_0 ) )
        var_1 = var_0.get_wave_spawn_total[var_0.arenaspawncounter];
    else
        var_1 = var_0.fightspawns[var_0.arenaspawncounter];

    var_0.arenaspawncounter++;
    var_0.arenaspawncounter = var_0.arenaspawncounter % var_0.fightspawns.size;
    return var_1;
}

_id_126C8( var_0 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    self.plotarmor = 1;
    scripts\engine\utility::_id_143C0( var_0, "_encstr_A3750609A5E61883", "_encstr_A31C0D813BDBD758CA3DB7A921EB58" );
    self.plotarmor = undefined;
}

gulagvictory( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    var_1 endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    var_1 notify( "_encstr_A1ED0A8F0388B66F5851E24A" );

    if ( !isdefined( var_5 ) )
        var_5 = 0;

    var_1 thread _id_1251F();
    var_1 _id_12527();
    var_1 thread _id_126C8( 5 );
    var_1.gulagloser = 0;

    if ( var_0.jailedplayers.size > 0 && getdvarint( "_encstr_A3161C208A227F89038FE46EB73FF3C3CE6338E002B1A72373D47BD065D7", 0 ) )
        var_1 hudoutlinedisableforclients( var_0.jailedplayers );

    if ( var_0.arenaplayers.size > 0 && getdvarint( "_encstr_98CE1C4A267D69C2EB512B373920ADA3294B95478087A21DB0303B7F6038", 1 ) > 0 )
        var_1 hudoutlinedisableforclients( var_0.arenaplayers );

    var_0.arenaplayers = scripts\engine\utility::array_remove( var_0.arenaplayers, var_1 );
    var_8 = _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::round_enemy_stuck_logic( var_1.team, var_1.squadindex );

    foreach ( var_10 in var_8 )
    {
        if ( !isdefined( var_10 ) || !isalive( var_10 ) )
            continue;

        if ( var_10 != var_1 )
        {
            var_10 thread scripts\mp\hud_message::showsplash( "_encstr_B364169839FAB3BAD858CEBED19516B6B5C23A56AFDBAED1", undefined, var_1 );
            _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::dmztut_endgamewithreward( "_encstr_889F130CE37A7B59EF7B889027E551993281FC83BD", var_10 );
        }
    }

    var_12 = "_encstr_A40101";

    if ( isdefined( var_4 ) )
        var_12 = var_4;

    if ( !isdefined( var_1._id_145BF ) )
        var_1 _id_126F3( 1 );

    if ( !istrue( var_3 ) && !istrue( var_5 ) && !istrue( var_7 ) )
        var_1 thread _id_13DCB( 3 );

    if ( var_2 )
    {
        if ( !istrue( var_3 ) )
        {
            if ( var_4 == "_encstr_945408D1B4B556B7BA3A" )
                _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::dmztut_endgamewithreward( "_encstr_A9F20E02D8A936F78E65313DF5D0E73B", var_1, 0 );
            else
                _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::dmztut_endgamewithreward( "_encstr_88D70E5413F2FF9A36827FFD3DFF017B", var_1, 0 );
        }

        var_0.jailedplayers = scripts\engine\utility::array_remove( var_0.jailedplayers, var_1 );
        updatematchqueuepositions( var_0 );
    }
    else
        _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::dmztut_endgamewithreward( "_encstr_B8EE0A842BD3D89F77E70990", var_1, 0 );

    var_1 playsoundtoplayer( "_encstr_89D719872B3CF99FBE4A459DD031B75808F86DAA59D040B0C63FE2", var_1 );
    var_13 = scripts\mp\music_and_dialog::reset_attack_next_available_time( "_encstr_AAD40D8993D7D957C62C9DD77796CD" );
    var_1 setplayermusicstate( var_13 );

    if ( istrue( level.gulag.onekillwin ) && ( istrue( var_0.isjailbreak ) || level.gulag.maxplayers > 2 ) )
        var_1 playerhide();

    var_1 _id_126B3( 1 );
    var_1 _id_126B0( 1 );
    var_1 _id_125BF( 0 );
    var_1 _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::updatebrscoreboardstat( "_encstr_A9500DA5DC94CA6EE00BEEB99673D9", 1 );
    var_1 scripts\mp\weapons::deleteplacedequipment();
    var_14 = _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::relic_nuketimer_gettimeformission() / 1000;
    var_15 = var_1 _id_125BE( 0, var_14 );
    var_16 = var_1 _id_1263E( var_15 );
    wait 2.0;

    if ( istrue( level.gulag.arenaflag ) )
        var_0.managevehiclehealthui.arenaflag thread calloutmarkerpingvo_canplaywithspamavoidance( 0, var_1 );

    var_1 clearclienttriggeraudiozone( 2 );
    var_1 gulagfadetoblack( 1 );
    wait 1;
    var_1 gulagwinnerrespawn( var_5, var_4, var_15, 1, var_16, undefined, var_6, var_3, var_7 );
}

_id_1263E( var_0 )
{
    var_1 = _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::_id_126B8( var_0.origin, var_0.height );
    self setallstreamloaddist( 0.0 );
    _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::_id_126B9( var_1 );
    return var_1;
}

set_respawn_points( var_0, var_1 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    self endon( "_encstr_A1ED0A8F0388B66F5851E24A" );
    self endon( "_encstr_A6760AD9571B85CE62F637A3" );
    self waittill( "_encstr_A3750609A5E61883", var_2 );

    if ( istrue( level.gulag.onekillwin ) )
        handleonekillwin( var_0, self, var_2, var_1 );

    thread set_respawn_loc_delayed( var_0 );
}

set_respawn_loc_delayed( var_0 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    self endon( "_encstr_9EAB1270D5E0DBB1BFF013B938F5F9BFBB31998F" );
    self notify( "_encstr_A6760AD9571B85CE62F637A3" );

    if ( istrue( self.gulagloser ) )
        return;

    self.gulagloser = 1;
    self._id_136DC = var_0._id_136DC;
    thread _id_1268E( 1 );
    var_0.jailedplayers = scripts\engine\utility::array_removeundefined( var_0.jailedplayers );

    if ( var_0.jailedplayers.size > 0 && getdvarint( "_encstr_A3161C208A227F89038FE46EB73FF3C3CE6338E002B1A72373D47BD065D7", 0 ) )
        self hudoutlinedisableforclients( var_0.jailedplayers );

    var_0.arenaplayers = scripts\engine\utility::array_removeundefined( var_0.arenaplayers );

    if ( var_0.arenaplayers.size > 0 && getdvarint( "_encstr_98CE1C4A267D69C2EB512B373920ADA3294B95478087A21DB0303B7F6038", 1 ) > 0 )
        self hudoutlinedisableforclients( var_0.arenaplayers );

    var_0.arenaplayers = scripts\engine\utility::array_remove( var_0.arenaplayers, self );

    if ( isdefined( self ) )
        var_1 = self.name;
    else
        var_1 = "_encstr_873A0CE15DDC8C95CC4BDC5646F1";

    var_2 = scripts\mp\music_and_dialog::reset_attack_next_available_time( "_encstr_BA250E1339EBD9578D163BEBC6EDCDCA" );
    self setplayermusicstate( var_2 );
    scripts\mp\weapons::deleteplacedequipment();
    _encstr_97571CC31EE30FBA499B665A8327B7E7F8F54C512FA93F150D207EF2F097::_id_11B15( self, "_encstr_A86A101FFB583FE7EBF912CB35BAF5EA6B20" );
    level thread _encstr_97571CC31EE30FBA499B665A8327B7E7F8F54C512FA93F150D207EF2F097::_id_14006();
    _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::dmztut_endgamewithreward( "_encstr_9B090B61DB3B37B8A914AF8F05", self, 0, 1 );
    _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::dmztutdropcash( "_encstr_B8C31401A7F30B7F70BBCF4F8590DF1C5D58100DFBB2", self.team, self, 0, 0 );

    if ( isalive( self ) )
    {
        thread _encstr_B2E4252B3FAB9B1009F38F29237E449729C578A17B25C3F279A3502A7A02C66C77330DD01FE027::_id_13DC2();
        self.plotarmor = 1;
        self freezecontrols( 1 );
    }

    wait 2.0;
    self clearclienttriggeraudiozone( 2 );

    if ( istrue( level.gulag.arenaflag ) )
        var_0.managevehiclehealthui.arenaflag thread calloutmarkerpingvo_canplaywithspamavoidance( 0, self );

    scripts\cp\vehicles\vehicle_compass_cp::_id_1203C( 2 );
    _encstr_890626F852FABB63A30BE831E0264973E59A7820FB57C7D0C312D83FC647500B0BA248E8766F3F91::destroyaward( self, "_encstr_88B7067D48EE7A92" );
    playerdestroyhud( var_0 );
    setplayervargulag( 0 );
    setplayervargulagarena( 0, 1 );
    _id_131AA( 0 );

    if ( isalive( self ) )
    {
        if ( !_encstr_AD64266E6CE44B1CD19B97B53897D9B0B62B1DBC389537F2139CBE7658D6AC8E2F3895DC17B3DC8D::unset_relic_aggressive_melee( "_encstr_828F0DA5C527080FB2E2A060DACB2B" ) )
            _encstr_B2E4252B3FAB9B1009F38F29237E449729C578A17B25C3F279A3502A7A02C66C77330DD01FE027::_id_11BE2( self, undefined, 1 );

        gulagfadetoblack();
        wait 1;

        if ( !_encstr_AD64266E6CE44B1CD19B97B53897D9B0B62B1DBC389537F2139CBE7658D6AC8E2F3895DC17B3DC8D::unset_relic_aggressive_melee( "_encstr_828F0DA5C527080FB2E2A060DACB2B" ) )
            _encstr_B2E4252B3FAB9B1009F38F29237E449729C578A17B25C3F279A3502A7A02C66C77330DD01FE027::_id_11BE2( self, undefined, 1 );

        if ( isalive( self ) )
        {
            var_3 = spawnstruct();
            var_3.origin = self.origin;
            var_3.angles = self.angles;
            var_3.attacker = self.lastattacker;
            self.health = 0;
            self notify( "_encstr_A3750609A5E61883" );
            self notify( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
            _encstr_B2E4252B3FAB9B1009F38F29237E449729C578A17B25C3F279A3502A7A02C66C77330DD01FE027::spawnspectator( var_3, 1, 1 );
            scripts\mp\playerlogic::removefromalivecount( 0, "_encstr_A86A101FFB583FE7EBF912CB35BAF5EA6B20" );
        }

        gulagfadefromblack();
    }

    self.plotarmor = undefined;
}

_id_1268E( var_0 )
{
    if ( istrue( level.usegulag ) )
    {
        if ( var_0 )
        {
            self._id_14439 = var_0;
            self setclientomnvar( "_encstr_87FD09D54BBECE5DD8163B", var_0 );
        }
        else
        {
            self._id_14439 = undefined;
            self setclientomnvar( "_encstr_87FD09D54BBECE5DD8163B", 0 );
        }

        _id_131A1( var_0 );
    }
}

_id_126AA()
{
    if ( istrue( level.usegulag ) && istrue( self._id_14439 ) && _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::rotationids( self.team, self.squadindex ) > 0 )
        _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::dmztut_endgamewithreward( "_encstr_8A630E50E7535A2797F3588710E8FBA2", self, 0, 1 );
}

_id_12AA8( var_0, var_1 )
{
    if ( istrue( var_1.gulagarena ) )
    {
        var_2 = var_1.arena;
        var_2.molotovs[var_2.molotovs.size] = var_0;
    }
}

_id_12AAA( var_0, var_1 )
{
    if ( istrue( var_1.gulagarena ) )
    {
        var_2 = var_1.arena;
        var_2._id_13B29[var_2._id_13B29.size] = var_0;
    }
}

handlesoloexclusionils( var_0 )
{
    foreach ( var_2 in var_0.molotovs )
    {
        if ( isdefined( var_2 ) )
            thread scripts\mp\equipment\molotov::_id_11CB5( var_2 );
    }

    var_0.molotovs = [];

    foreach ( var_5 in var_0._id_13B29 )
    {
        if ( isdefined( var_5 ) )
            var_5 thread scripts\mp\equipment\thermite::thermite_destroy();
    }

    var_0._id_13B29 = [];
}

set_relic_squadlink( var_0 )
{
    var_1 = isdefined( level.br_circle ) && isdefined( level.br_circle.safecircleent );

    if ( !var_1 )
        return 1;

    var_2 = _encstr_8A18233F26D6B373C5535613B3D5AABF583020D08BFDCE86F68B4649324ABAB809C65856C7::getsafecircleorigin();
    var_3 = _encstr_8A18233F26D6B373C5535613B3D5AABF583020D08BFDCE86F68B4649324ABAB809C65856C7::getsafecircleradius();
    var_4 = distance2d( var_0, var_2 );
    return var_4 < var_3;
}

set_relic_shieldsonly( var_0 )
{
    var_1 = isdefined( level.br_circle ) && isdefined( level.br_circle.dangercircleent );

    if ( !var_1 )
        return 1;

    var_2 = _encstr_8A18233F26D6B373C5535613B3D5AABF583020D08BFDCE86F68B4649324ABAB809C65856C7::getdangercircleorigin();
    var_3 = _encstr_8A18233F26D6B373C5535613B3D5AABF583020D08BFDCE86F68B4649324ABAB809C65856C7::getdangercircleradius();
    var_4 = distance2d( var_0, var_2 );
    return var_4 < var_3;
}

set_relic_rocket_kill_ammo( var_0, var_1 )
{
    if ( !_encstr_821221B201F8016365BFEEFFA1A05A4178A9EBB8DBE8C36EB69527CF4B96F7F680F3A6::ispointinbounds( var_0, 1 ) )
        return 0;

    if ( !isdefined( level.br_circle ) || !isdefined( level.br_circle.safecircleent ) || !isdefined( level.br_circle.dangercircleent ) )
        return 1;

    if ( scripts\mp\utility\game::round_vehicle_logic() == "_encstr_B6EE0959C2F3B0127F8ADB" )
    {
        if ( set_relic_shieldsonly( var_0 ) )
            return 1;
    }
    else
    {
        if ( set_relic_squadlink( var_0 ) )
            return 1;

        if ( !set_relic_shieldsonly( var_0 ) )
            return 0;
    }

    if ( isdefined( var_1 ) )
    {
        var_2 = _encstr_8A18233F26D6B373C5535613B3D5AABF583020D08BFDCE86F68B4649324ABAB809C65856C7::getmintimetillpointindangercircle( var_0 );

        if ( var_1 > var_2 )
            return 0;
    }

    var_3 = _encstr_8A18233F26D6B373C5535613B3D5AABF583020D08BFDCE86F68B4649324ABAB809C65856C7::getsafecircleorigin();
    var_4 = _encstr_8A18233F26D6B373C5535613B3D5AABF583020D08BFDCE86F68B4649324ABAB809C65856C7::getsafecircleradius();
    var_5 = _encstr_8A18233F26D6B373C5535613B3D5AABF583020D08BFDCE86F68B4649324ABAB809C65856C7::getdangercircleorigin();
    var_6 = _encstr_8A18233F26D6B373C5535613B3D5AABF583020D08BFDCE86F68B4649324ABAB809C65856C7::getdangercircleradius();
    var_7 = length( var_5 - var_3 );
    var_8 = vectornormalize( var_5 - var_3 );
    var_9 = level._id_12CA0;
    var_10 = var_3 + var_8 * var_7 * var_9;
    var_11 = var_4 + ( var_6 - var_4 ) * var_9;
    var_12 = distance2d( var_0, var_10 );
    return var_12 < var_11;
}

updateplayereliminatedomnvar( var_0, var_1 )
{
    if ( var_0 == self )
        return 0;

    if ( !isalive( var_0 ) || var_0 _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::updateinstantclassswapallowedinternal() || istrue( var_0.delay_enter_combat_after_investigating_grenade ) )
        return 0;

    if ( !set_relic_rocket_kill_ammo( var_0.origin, var_1 ) )
        return 0;

    return 1;
}

_id_12568( var_0, var_1, var_2 )
{
    var_3 = undefined;

    if ( istrue( level.onlinegame ) && self getprivatepartysize() )
    {
        var_4 = undefined;

        foreach ( var_6 in self getfireteammembers() )
        {
            if ( !updateplayereliminatedomnvar( var_6, var_1 ) )
                continue;

            var_4 = var_6;

            if ( var_6 isfireteamleader() )
                break;
        }

        if ( isdefined( var_4 ) && istrue( var_0 ) )
        {
            var_3 = var_4;
            var_4 = undefined;

            foreach ( var_6 in self getfireteammembers() )
            {
                if ( isdefined( var_3 ) && var_3 == var_6 )
                    continue;

                if ( !updateplayereliminatedomnvar( var_6, var_1 ) )
                    continue;

                var_4 = var_6;

                if ( var_6 isfireteamleader() )
                    break;
            }
        }

        if ( isdefined( var_4 ) )
            return var_4;
    }

    if ( isdefined( self.lastdeathpos ) )
    {
        var_10 = undefined;
        var_11 = undefined;
        var_12 = _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::rotationrefsbyseatandweapon( self.team, self.squadindex );

        foreach ( var_14 in var_12 )
        {
            if ( isdefined( var_3 ) && var_3 == var_14 )
                continue;

            if ( !updateplayereliminatedomnvar( var_14, var_1 ) )
                continue;

            if ( var_14 isparachuting() || var_14 isskydiving() )
                continue;

            var_15 = distance2dsquared( self.lastdeathpos, var_14.origin );

            if ( !isdefined( var_11 ) || var_15 < var_11 )
            {
                var_10 = var_14;
                var_11 = var_15;
            }
        }

        if ( isdefined( var_10 ) && istrue( var_0 ) && !isdefined( var_3 ) )
        {
            var_3 = var_10;
            var_10 = undefined;
            var_11 = undefined;

            foreach ( var_14 in var_12 )
            {
                if ( isdefined( var_3 ) && var_3 == var_14 )
                    continue;

                if ( !updateplayereliminatedomnvar( var_14, var_1 ) )
                    continue;

                if ( var_14 isparachuting() || var_14 isskydiving() )
                    continue;

                var_15 = distance2dsquared( self.lastdeathpos, var_14.origin );

                if ( !isdefined( var_11 ) || var_15 < var_11 )
                {
                    var_10 = var_14;
                    var_11 = var_15;
                }
            }
        }

        if ( isdefined( var_10 ) )
            return var_10;
    }

    var_10 = undefined;
    var_19 = scripts\engine\utility::array_randomize( _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::rotationrefsbyseatandweapon( self.team, self.squadindex ) );

    foreach ( var_21 in var_19 )
    {
        if ( isdefined( var_3 ) && var_3 == var_21 )
            continue;

        if ( !updateplayereliminatedomnvar( var_21, var_1 ) )
            continue;

        var_10 = var_21;

        if ( istrue( var_21 _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::updatedragonsbreath() ) )
            break;
    }

    if ( isdefined( var_10 ) )
        return var_10;
    else if ( !istrue( var_2 ) )
    {
        if ( scripts\mp\utility\game::round_vehicle_logic() == "_encstr_BE180432D63D" || scripts\mp\utility\game::round_vehicle_logic() == "_encstr_89E10946E1536E6DD6A2B0" || scripts\mp\utility\game::round_vehicle_logic() == "_encstr_AD1F058082CACF" )
        {
            var_23 = scripts\mp\utility\teams::getteamdata( self.team, "_encstr_97580AC41D811F767F3072CB" );

            if ( var_23 == 1 && !istrue( self.locationtriggersetpaused ) && !scripts\mp\outofbounds::ispointinoutofbounds( self.origin ) )
                return self;
        }
    }

    return undefined;
}

rocket_fuel_stability( var_0, var_1, var_2 )
{
    var_3 = ai_washitbyvehicle( var_0, var_1, var_2 );
    _encstr_890626F852FABB63A30BE831E0264973E59A7820FB57C7D0C312D83FC647500B0BA248E8766F3F91::detonatesound( var_0, 0, var_3 );
    return var_3;
}

ai_washitbyvehicle( var_0, var_1, var_2 )
{
    var_3 = 3.14159;
    var_4 = _encstr_8A18233F26D6B373C5535613B3D5AABF583020D08BFDCE86F68B4649324ABAB809C65856C7::getsafecircleorigin();
    var_5 = vectornormalize( var_0 - var_4 );
    var_6 = vectortoangles( var_5 );
    var_7 = randomfloatrange( getdvarfloat( "_encstr_AB151CB3069219D6CB8F1DCBC713AF9056911B49EDEC611F22474FD387DA", 10.0 ), getdvarfloat( "_encstr_9D151C6E1B4E7D98277D93959B382CDDB9AF4EC2B946AFB0CD9DF5ADB0E1", 90.0 ) );

    if ( scripts\mp\utility\game::round_vehicle_logic() == "_encstr_BE180432D63D" && scripts\mp\utility\game::round_vehicle_logic() == "_encstr_89E10946E1536E6DD6A2B0" && getdvarint( "_encstr_8FEC196ED84E7D465BF47D2756CDE0B0DD9BEB39B07323AF16CD76", 0 ) == 1 || scripts\mp\utility\game::round_vehicle_logic() == "_encstr_98A11039576B26C659AF4BE63B85E64B7BB9" )
        var_8 = vectornormalize( anglestoforward( var_6 + ( 0, scripts\engine\utility::ter_op( scripts\engine\utility::cointoss(), var_7, var_7 * -1 ), 0 ) ) );
    else
        var_8 = var_5;

    var_9 = var_0 + var_8 * var_1;

    if ( set_relic_rocket_kill_ammo( var_9, var_2 ) )
        return var_9;

    var_8 = var_8 * -1;
    var_9 = var_0 + var_8 * var_1;

    if ( set_relic_rocket_kill_ammo( var_9, var_2 ) )
        return var_9;

    var_8 = vectornormalize( var_4 - var_0 );
    var_9 = var_0 + var_8 * var_1;

    if ( set_relic_rocket_kill_ammo( var_9, var_2 ) )
        return var_9;

    var_10 = var_1;
    var_11 = distance2d( var_0, var_4 );
    var_12 = var_10 / var_11;

    if ( var_12 > var_3 )
        var_12 = var_3;

    var_13 = var_12 * 180 / var_3;
    var_9 = rotatepointaroundvector( ( 0, 0, 1 ), var_0 - var_4, var_13 ) + var_4;

    if ( set_relic_rocket_kill_ammo( var_9, var_2 ) )
        return var_9;

    var_9 = _encstr_8A18233F26D6B373C5535613B3D5AABF583020D08BFDCE86F68B4649324ABAB809C65856C7::getrandompointincircle( var_0, var_1 );

    if ( set_relic_rocket_kill_ammo( var_9, var_2 ) )
        return var_9;

    return undefined;
}

_id_12567()
{
    if ( _encstr_AD64266E6CE44B1CD19B97B53897D9B0B62B1DBC389537F2139CBE7658D6AC8E2F3895DC17B3DC8D::unset_relic_aggressive_melee( "_encstr_A619096B17830EF0AF5DA3" ) )
        return undefined;

    foreach ( var_5, var_1 in level.questinfo.quests )
    {
        foreach ( var_4, var_3 in var_1.instances )
        {
            if ( var_4 == self.team && !_encstr_A83527375FF36358943A0858E22728AFFAAFA1ABAB2A36DADA520ED34B55D05D71772933B3C6F4F0F3::upper_door_coll( var_3 ) )
            {
                switch ( var_3.category )
                {
                    case "_encstr_9FA40E97887B792BC793B56E059BA20E":
                        if ( isdefined( var_3.targetplayer ) )
                            return var_3.targetplayer.origin;

                        break;
                    case "_encstr_A9580BAA9033BC5BF1EDB9A788":
                        if ( isdefined( var_3._id_1393B ) && isdefined( var_3._id_1393B.domflag ) && isdefined( var_3._id_1393B.domflag.curorigin ) )
                            return var_3._id_1393B.domflag.curorigin;

                        break;
                    case "_encstr_B9E010C376D1B3055A5F0335A7F2DD986D8A":
                    case "_encstr_A919048D950E":
                    case "_encstr_A6460A8BD10F1B9FB81FBD92":
                        if ( isdefined( var_3._id_1393B.force_spawn_all_dead_players.origin ) && isdefined( var_3._id_1393B.force_spawn_all_dead_players ) )
                            return var_3._id_1393B.force_spawn_all_dead_players.origin;

                        break;
                    case "_encstr_88580E110E286E7531DE03297C9DC84A":
                    case "_encstr_A99B0920C2A92B213EAFFA":
                    case "_encstr_87DD07C37AF792A35A":
                    case "_encstr_8A600AA8FA9F7B3BAFC3F8D3":
                    case "_encstr_BD2D08878CAFB0B6C462":
                    case "_encstr_9D3908180599FED7D939":
                    case "_encstr_A4AB063C4CCCA59B":
                    case "_encstr_A47808C3266EA3C2B934":
                    case "_encstr_8F4508021BE399DF2812":
                    case "_encstr_A8B10B73E8F0E7142097071DAD":
                    case "_encstr_9E19042B0359":
                        break;
                    default:
                        break;
                }
            }
        }
    }

    return undefined;
}

_id_12566( var_0 )
{
    foreach ( var_2 in level.br_pickups.crates )
    {
        if ( !isdefined( var_2 ) || !isdefined( var_2.team ) || var_2.team != self.team )
            continue;

        if ( isdefined( var_2.playerscaptured ) && isdefined( var_2.playerscaptured[self getentitynumber()] ) )
            continue;

        if ( set_relic_rocket_kill_ammo( var_2.origin, var_0 ) )
            return var_2.origin;
    }
}

_id_125BE( var_0, var_1, var_2 )
{
    var_3 = undefined;
    var_4 = undefined;
    var_5 = var_2;
    var_6 = 1;

    if ( isdefined( self.setspawnpoint ) )
    {
        var_3 = self.setspawnpoint.playerspawnpos;
        var_4 = self.setspawnpoint.playerspawnangles;
    }

    var_7 = getdvarfloat( "_encstr_9EAF218F8706C95AA0C6BA477B886183D0434F5B3127B30479E9760BF099AECA36BB83", -1 );

    if ( !isdefined( var_3 ) && var_7 >= 0 && isdefined( self.lastdeathpos ) )
    {
        var_8 = rocket_fuel_stability( self.lastdeathpos, var_7, var_1 );

        if ( isdefined( var_8 ) )
        {
            var_3 = _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::modifyplayer_damage( var_8 );
            var_4 = registercarryobjectpickupcheck( var_3, self.lastdeathpos );
        }
    }

    var_7 = getdvarfloat( "_encstr_A3592030205840D39B80B8324399F12FB38DA2A3B9F89F5A5BBFC4CD48DCB9BBA1A4", 1000 );

    if ( !isdefined( var_3 ) && var_7 >= 0 )
    {
        var_9 = _id_12568( var_0, var_1 );

        if ( isdefined( var_9 ) )
        {
            var_10 = getdvarfloat( "_encstr_826B22575FAE61F2E068A9EAC1F8285A84ED5FB7DDD58ABAD8B05AB278404EF1DD1B1F1F", 5.0 ) * 1000;
            var_11 = getdvarfloat( "_encstr_A6A918C710434F32C3A8F1B285891A28E80867EF1898A69A2FBC", 30.0 ) * 1000;

            if ( ( getdvar( "_encstr_A10E10BABF1EB12D4B819F18E8488BAA02E5", "_encstr_A40101" ) == "_encstr_BE180432D63D" || getdvar( "_encstr_A10E10BABF1EB12D4B819F18E8488BAA02E5", "_encstr_A40101" ) == "_encstr_89E10946E1536E6DD6A2B0" || getdvar( "_encstr_A10E10BABF1EB12D4B819F18E8488BAA02E5", "_encstr_A40101" ) == "_encstr_AD1F058082CACF" || getdvar( "_encstr_A10E10BABF1EB12D4B819F18E8488BAA02E5", "_encstr_A40101" ) == "_encstr_9C8D0B4BABD087CAC90B93AA60" ) && isdefined( level.teamdata[self.team]["_encstr_9B0F12359FD7736811D0CFDF18CB042A2123FDEF"] ) && level.teamdata[self.team]["_encstr_9B0F12359FD7736811D0CFDF18CB042A2123FDEF"] + var_11 > gettime() + var_10 && distance2d( level.teamdata[self.team]["_encstr_AAC014FB8BFE0310307B76FE10B87CAA4805775F63A8"], var_9.origin ) < getdvarfloat( "_encstr_A3592030205840D39B80B8324399F12FB38DA2A3B9F89F5A5BBFC4CD48DCB9BBA1A4", 1000 ) * 1.25 )
            {
                var_3 = level.teamdata[self.team]["_encstr_AAC014FB8BFE0310307B76FE10B87CAA4805775F63A8"];
                var_4 = level.teamdata[self.team]["_encstr_812F14F9B11F5B7986C3E0E87A5BF9B12F56F4610DB7"];
            }
            else
            {
                var_3 = rocket_fuel_stability( var_9.origin, var_7, var_1 );

                if ( isdefined( var_3 ) )
                {
                    var_3 = _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::modifyplayer_damage( var_3 );
                    var_4 = registercarryobjectpickupcheck( var_3, var_9.origin );
                    level.teamdata[self.team]["_encstr_AAC014FB8BFE0310307B76FE10B87CAA4805775F63A8"] = var_3;
                    level.teamdata[self.team]["_encstr_812F14F9B11F5B7986C3E0E87A5BF9B12F56F4610DB7"] = var_4;
                    level.teamdata[self.team]["_encstr_9B0F12359FD7736811D0CFDF18CB042A2123FDEF"] = gettime();
                }
            }

            if ( isdefined( level._id_12CA9 ) && level._id_12CA9 >= 0 )
            {
                var_12 = getclosestpointonnavmesh( var_3 );
                var_13 = var_12 - var_3;

                if ( length2d( var_13 ) > level._id_12CA9 )
                {
                    var_13 = vectornormalize( var_13 );
                    var_13 = ( var_13[0] * level._id_12CA9, var_13[1] * level._id_12CA9, var_13[2] * level._id_12CA9 );
                    var_3 = var_12 + var_13;
                }
            }
        }
    }

    var_7 = getdvarfloat( "_encstr_88E01F37B14ED7314EBE3956CDC185DDB953B03C534BE6375AB7739E9933DC59A3", 3000 );

    if ( !isdefined( var_3 ) && var_7 >= 0 )
    {
        var_14 = _id_12567();

        if ( isdefined( var_14 ) )
        {
            var_3 = rocket_fuel_stability( var_14, var_7, var_1 );
            var_4 = registercarryobjectpickupcheck( var_3, var_14 );
        }
    }

    var_7 = getdvarfloat( "_encstr_AB1E1DD802DAE6F9FB417D492B2FC9E0F5C1F803A675C05BCB59B311CA77B3", 3000 );

    if ( !isdefined( var_3 ) && var_7 >= 0 )
    {
        var_15 = _id_12566( var_1 );

        if ( isdefined( var_15 ) )
        {
            var_3 = rocket_fuel_stability( var_15, var_7, var_1 );
            var_4 = registercarryobjectpickupcheck( var_3, var_15 );
        }
    }

    if ( !isdefined( var_3 ) )
    {
        if ( isdefined( level.br_circle ) && isdefined( level.br_circle.safecircleent ) )
        {
            if ( getdvarint( "_encstr_9BF128A643EBCEEDB2C190D81A86B980B7ED2E9DEB4F113B12EA783823EF7D5867A3B79531E3387BC352", 0 ) )
            {
                var_16 = getdvarfloat( "_encstr_89EE22D367307123965E8A02206E773258AF794EF3C985D7B013F15A484D27AF6097F5C4", 2.0 );
                var_3 = _encstr_8A18233F26D6B373C5535613B3D5AABF583020D08BFDCE86F68B4649324ABAB809C65856C7::helibankplunder( self, var_1, var_16 );
            }

            if ( !isdefined( var_3 ) )
            {
                var_17 = _encstr_8A18233F26D6B373C5535613B3D5AABF583020D08BFDCE86F68B4649324ABAB809C65856C7::getsafecircleorigin();
                var_18 = _encstr_8A18233F26D6B373C5535613B3D5AABF583020D08BFDCE86F68B4649324ABAB809C65856C7::getsafecircleradius();
                var_19 = getdvarfloat( "_encstr_93FA1BDC6CC9BEC44E7DD696B9A4596E07B0EE9B2985912DEA3705D8D1", 0.5 );
                var_20 = getdvarfloat( "_encstr_9B211B93EF1E69CD1611AD06A1BAD77710337BEE9E61FB2C858353C86B", 0.9 );
                var_21 = getdvarint( "_encstr_94CD1EE6D89CBE4C277DB6168749CA6E0785779B11E4F6C1A8EDD1C9B7ABB923", 1 );
                var_22 = getdvarint( "_encstr_A96E1F26C36B4E6D3241D0C84B422B833B69AC106BF37191936AC1C083ADD35BF3", 1 );
                var_3 = _encstr_8A18233F26D6B373C5535613B3D5AABF583020D08BFDCE86F68B4649324ABAB809C65856C7::risk_flagspawnshiftingpercent( var_17, var_18, var_20, var_20, var_21, var_22, 0, var_1 );
            }
        }
        else if ( isdefined( level.prematchspawnorigins ) )
        {
            if ( isdefined( level.teamdata[self.team]["_encstr_9F2D16FE54BAAFE92E77B020FF76E7D3F3BF70FEECD243B0"] ) && isdefined( level.teamdata[self.team]["_encstr_BC191C3F70D98F1AAFB3124FB8CDA22760283FB7A0F7C4D23DD51344819B"] ) && isdefined( level.checkpoint_objective_id ) && level.teamdata[self.team]["_encstr_BC191C3F70D98F1AAFB3124FB8CDA22760283FB7A0F7C4D23DD51344819B"] + level.checkpoint_objective_id * 1000 > gettime() )
                var_3 = level.teamdata[self.team]["_encstr_9F2D16FE54BAAFE92E77B020FF76E7D3F3BF70FEECD243B0"];
            else
            {
                var_23 = [];

                foreach ( var_25 in level.prematchspawnorigins )
                {
                    if ( distance2dsquared( var_25.origin, self.origin ) > var_7 )
                        var_23[var_23.size] = var_25;
                }

                if ( var_23.size == 0 )
                    var_23 = level.prematchspawnorigins;

                var_23 = scripts\engine\utility::array_randomize( var_23 );
                var_3 = var_23[0].origin;
                var_3 = var_3 + scripts\engine\math::random_vector_2d() * randomfloatrange( 100, 500 );
                level.teamdata[self.team]["_encstr_9F2D16FE54BAAFE92E77B020FF76E7D3F3BF70FEECD243B0"] = var_3;
                level.teamdata[self.team]["_encstr_BC191C3F70D98F1AAFB3124FB8CDA22760283FB7A0F7C4D23DD51344819B"] = gettime();
            }

            var_4 = ( 0, 0, 0 );

            if ( var_3[2] > 10000 & !isdefined( var_2 ) )
            {
                var_6 = 0;
                var_5 = _encstr_A32A236E6C934B3847B95EDAE079CE85B52BE8BC38569BCB2639FAD29B995A639BC5CE9B36::getinfilspawnoffset();
            }
        }
        else
        {
            var_3 = ( 0, 0, 0 );
            var_4 = ( 0, 0, 0 );
        }
    }

    if ( !isdefined( var_4 ) )
    {
        var_27 = _encstr_8A18233F26D6B373C5535613B3D5AABF583020D08BFDCE86F68B4649324ABAB809C65856C7::getsafecircleorigin();
        var_28 = vectortoyaw( var_27 - var_3 );
        var_4 = ( 0, var_28, 0 );
    }

    if ( var_6 )
    {
        if ( !isdefined( var_5 ) )
            var_5 = scripts\cp_mp\parachute::getc130height();

        if ( isdefined( level.br_circle ) )
        {
            var_29 = level.br_circle.circleindex;
            var_30 = remove_engineer_class();
            var_31 = isdefined( var_29 ) && var_29 >= var_30;

            if ( var_31 )
                var_5 = var_5 * getdvarfloat( "_encstr_885C24936E93A74E3531B2EBD06B479F08C01B3D755FE356179038D2A8673F9B47BE91BC1DC3", 0.55 );
        }

        if ( isdefined( level._id_12CA7 ) )
            var_5 = level._id_12CA7;

        var_32 = ( 0, 0, var_5 );
        var_3 = _encstr_97571CC31EE30FBA499B665A8327B7E7F8F54C512FA93F150D207EF2F097::resetcircuitbreakers( var_3, var_32 );
    }

    var_33 = spawnstruct();
    var_33.origin = var_3;
    var_33.angles = var_4;
    var_33.height = var_5;
    return var_33;
}

registercarryobjectpickupcheck( var_0, var_1 )
{
    if ( isdefined( var_0 ) && isdefined( var_1 ) )
    {
        var_2 = vectortoyaw( var_1 - var_0 );
        var_3 = ( 0, var_2, 0 );
        return var_3;
    }
}

gulagwinnerrespawn( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9 )
{
    var_10 = !istrue( var_0 );

    if ( !istrue( var_0 ) && !istrue( var_8 ) )
        scripts\cp\vehicles\vehicle_compass_cp::_id_1203C( 1 );

    if ( isdefined( var_1 ) )
        _encstr_890626F852FABB63A30BE831E0264973E59A7820FB57C7D0C312D83FC647500B0BA248E8766F3F91::destroyaward( self, var_1 );

    _id_1268E( 0 );
    setplayervargulag( 0 );
    setplayervargulagarena( 0 );

    if ( scripts\mp\utility\game::getgametype() == "_encstr_9507034B25" )
        playerdestroyhud( self.arena );

    _id_131AA( 0 );
    level notify( "_encstr_B27B138530D369A117A140284BAE5921E7C003F5BD" );
    self.vehicle_compass_friendlystatuschangedcallback = undefined;
    _encstr_97571CC31EE30FBA499B665A8327B7E7F8F54C512FA93F150D207EF2F097::scriptednode( self );
    playertakeawayrock( self.arena );
    set_showing_bomb_wire_pair_to_player( var_0 );

    if ( isdefined( level.gulag ) && istrue( level.gulag.planerespawn ) )
    {
        playerrespawngulagcleanup( var_0 );
        set_scriptable_states();
        playersetupac130();

        if ( isdefined( self.oobimmunity ) )
            scripts\mp\outofbounds::disableoobimmunity( self );

        return;
    }

    if ( !isdefined( var_2 ) )
        var_2 = _id_125BE();

    var_11 = var_2.origin;
    var_12 = var_2.angles;
    var_13 = var_11;

    if ( isdefined( var_4 ) )
        var_13 = var_4;

    set_scriptable_states();
    _id_126C3( var_13, var_12 );
    var_14 = spawn( "_encstr_93DC0DCD1B272D3847AF5BED23B2C6", var_13 );
    var_14 setmodel( "_encstr_8CB40B4BB398B1C0A81FDF6BEA" );
    var_14.angles = var_12;
    var_14 hide();
    var_14 showtoplayer( self );
    self playerlinktoabsolute( var_14, "_encstr_8CB40B4BB398B1C0A81FDF6BEA" );
    self playerhide();
    thread _id_12524( var_14 );
    waitframe();

    if ( isdefined( self.oobimmunity ) )
        scripts\mp\outofbounds::disableoobimmunity( self );

    playerrespawngulagcleanup( var_0 );

    if ( getdvarint( "_encstr_A89D1613A7F0B1A7DA587B71C3256FB2B027B6B7370B03A7", 1 ) == 0 )
        _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::_id_126ED();

    _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::_id_1252B();

    if ( isdefined( var_4 ) )
        var_14.origin = var_11;

    var_14 playsoundtoplayer( "_encstr_B6E90F214B17D778126B31F7262DE02EF7", self );
    wait 1.5;
    self unlink();
    self clearsoundsubmix( "_encstr_BC6A0FBF0BC943BA93805FCFF2BBD18511" );

    if ( _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::tutorial_playsound() )
        self clearsoundsubmix( "_encstr_B96F16333F6748F8822111AB157918807B9FB1B7B31A2FD0", 2 );
    else
        self clearsoundsubmix( "_encstr_82CE2DD59F5AADD95CF5DE715D3140D281074979CF92EBF0650AA3AE050D081BFA97CBF5DB9936A8AAA42BC32FC462", 2 );

    self clearclienttriggeraudiozone( 1 );
    self playershow( 1 );
    _id_125BF( 1 );
    var_15 = 0;

    if ( isdefined( level._id_121CC ) )
        var_15 = level._id_121CC;

    if ( !_encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::uniquelootitemid() )
    {
        if ( istrue( level._id_13678 ) )
            self [[ level.parachuterestoreweaponscb ]]();
        else
            thread scripts\cp_mp\parachute::startfreefall( var_15, 0, undefined, undefined, 1 );
    }

    if ( !istrue( var_3 ) )
        thread _id_13DCB( 7 );

    if ( istrue( var_5 ) )
        self setclientomnvar( "_encstr_B79616EBD887E22AA7BD3BD930B832D8B03FB898A9387F82", 0 );

    if ( scripts\mp\utility\game::getgametype() == "_encstr_9507034B25" )
        self setclientomnvar( "_encstr_8F3F1455998F9B292573F1881B7FF7B3CF2CD553FD0B", -1 );

    _id_12C7A();
    var_16 = scripts\mp\utility\perk::_hasperk( "_encstr_894D18C7F015EF68F3DAA9C857EBF37EE8AB5FF51F106DEE8768" );
    _encstr_BD96220B5106E75AE8B7770D890AA70F2109F353DB5537C530DD0F0965F06D1BF8E11B7A::searchcirclesize( var_16 );
    _encstr_A83527375FF36358943A0858E22728AFFAAFA1ABAB2A36DADA520ED34B55D05D71772933B3C6F4F0F3::_id_12072();
    _encstr_B61F245BEE4A700703870F83A39EC488FDC72392D28568903AFBF785EFE31F588CDAE0A9BAEB::_id_12072();
    _encstr_A13131936E937FCA3950366A30F7471728C51C217F99EFC53D7039B330457DEF41BD86B59803171ECBF0B39B989BB5BA391E1B::_id_12072();
    _encstr_B2032CDC3693B4E0E86EBCADC1BCCE0BDA59E8BCC1566E5E9839FA0BB13AF5B5F68C95EB9537C6161C2B719DE636::obj_hangar_juggs();
    _encstr_AD64266E6CE44B1CD19B97B53897D9B0B62B1DBC389537F2139CBE7658D6AC8E2F3895DC17B3DC8D::_id_12E05( "_encstr_A3491376BA3658B37596CDDCACE429B26E07C2DD9B", self );
    wait 0.5;

    if ( scripts\mp\utility\game::getgametype() == "_encstr_9507034B25" && !isdefined( self._id_145BF ) )
        gulagfadefromblack();

    waitframe();
    var_14 delete();
    _calloutmarkerping_isvehicleoccupiedbyenemy::move_structs( "_encstr_AD220628430DDBF1" );

    if ( istrue( level._id_133EF ) )
        _encstr_B6592F2E4EB34383FC4F0218AB4FB98BEA7725B3E2BA3F20D25379F0FF4191D3839F08BFFAB2C951BB63C018833E095FBA::toma_strike_munitionused( 1 );

    if ( _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::tutorial_playsound() )
        self notify( "_encstr_9C83133959E60E2CBB37EB3327DEB6FAEC573685EC" );

    self notify( "_encstr_888F1252495017B230A7F7D77718BD3706C08ADB" );

    if ( istrue( getdvar( "_encstr_A10E10BABF1EB12D4B819F18E8488BAA02E5", "_encstr_A40101" ) == "_encstr_B6EE0959C2F3B0127F8ADB" ) && !istrue( var_8 ) )
    {
        var_17 = "_encstr_8A652178FB9F3A03A4FFC81FB8A8F620B065C9867789C5A8ACC5A3C783C7E2AD4BCBA7";
        var_18 = undefined;
    }

    if ( istrue( getdvar( "_encstr_A10E10BABF1EB12D4B819F18E8488BAA02E5", "_encstr_A40101" ) == "_encstr_BE180432D63D" ) || istrue( getdvar( "_encstr_A10E10BABF1EB12D4B819F18E8488BAA02E5", "_encstr_A40101" ) == "_encstr_89E10946E1536E6DD6A2B0" ) || istrue( getdvar( "_encstr_A10E10BABF1EB12D4B819F18E8488BAA02E5", "_encstr_A40101" ) == "_encstr_9C8D0B4BABD087CAC90B93AA60" ) || istrue( getdvar( "_encstr_A10E10BABF1EB12D4B819F18E8488BAA02E5", "_encstr_A40101" ) == "_encstr_B26E07FBDB98427952" ) || istrue( getdvar( "_encstr_A10E10BABF1EB12D4B819F18E8488BAA02E5", "_encstr_A40101" ) == "_encstr_AD1F058082CACF" ) || istrue( getdvar( "_encstr_A10E10BABF1EB12D4B819F18E8488BAA02E5", "_encstr_A40101" ) == "_encstr_943608AF02ED7706E041" ) || istrue( getdvar( "_encstr_A10E10BABF1EB12D4B819F18E8488BAA02E5", "_encstr_A40101" ) == "_encstr_98A11039576B26C659AF4BE63B85E64B7BB9" ) )
    {
        var_17 = "_encstr_8A652178FB9F3A03A4FFC81FB8A8F620B065C9867789C5A8ACC5A3C783C7E2AD4BCBA7";
        var_18 = undefined;
    }
    else if ( istrue( var_7 ) )
    {
        var_17 = "_encstr_B3831CDA83702F3360572768FCAB693233537927C3914DEFB1A8E318C00B";
        var_18 = undefined;
    }
    else if ( istrue( var_0 ) || istrue( var_8 ) )
    {
        var_17 = "_encstr_AF0D18FE5239076BAC3F88510FF16067C2B16EF52F72F1708737";
        var_18 = var_6;
    }
    else
    {
        if ( istrue( isdefined( level.gulag ) && !istrue( level.gulag.shutdown ) ) && checkgulagusecount() )
            var_17 = "_encstr_8A652178FB9F3A03A4FFC81FB8A8F620B065C9867789C5A8ACC5A3C783C7E2AD4BCBA7";
        else
            var_17 = "_encstr_AB70199839FA3BBA63C29DF5DDA537DCCAE4F5935619561C36F6CB";

        var_18 = undefined;
    }

    if ( !istrue( var_9 ) )
        thread scripts\mp\hud_message::showsplash( var_17, undefined, var_18 );

    if ( istrue( self._id_145BF ) && isdefined( level.br_circle ) )
    {
        self._id_145BF = undefined;

        if ( istrue( self._id_12C9E ) )
        {
            playerrespawngulagcleanup( var_0 );
            set_scriptable_states();
            _calloutmarkerping_isvehicleoccupiedbyenemy::move_structs( "_encstr_AD220628430DDBF1" );

            if ( isdefined( self.oobimmunity ) )
                scripts\mp\outofbounds::disableoobimmunity( self );
        }

        _id_1268C();
    }

    if ( isdefined( level.gulag ) && istrue( level.gulag.shutdown ) && !istrue( self.gulagdone ) )
    {
        wait 2.0;
        playergulagdonesplash();
    }

    var_19 = "_encstr_A2500A039865CFC728B5151C";

    if ( isdefined( self.currentweapon ) )
        var_19 = self.currentweapon.basename;

    var_20 = "_encstr_A2500A039865CFC728B5151C";

    if ( isdefined( self.name ) )
        var_20 = self.name;

    logstring( "_encstr_8BC22C6739854D1695ABBD748E911A3C61E0175F2099BF3A2330C73EFBB586C631DA63A7A859F0620B534FA27AD1" + var_20 + "_encstr_88350FD71B5229B0986F80A85BFF480D6E" + var_19 );
}

_id_12524( var_0 )
{
    var_0 endon( "_encstr_A3750609A5E61883" );
    self waittill( "_encstr_8A820B4696CDB1ED3737AC1B3A" );

    if ( isdefined( var_0 ) )
        var_0 delete();
}

_id_125BF( var_0 )
{
    if ( var_0 )
    {
        self enableoffhandweapons();
        self enableusability();
    }
    else
    {
        self disableoffhandweapons();
        self disableusability();
    }
}

_id_13DCB( var_0 )
{
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    var_1 = _encstr_AD64266E6CE44B1CD19B97B53897D9B0B62B1DBC389537F2139CBE7658D6AC8E2F3895DC17B3DC8D::_id_12E05( "_encstr_971116A30373186C7BC0FA7B832A217FC8D9B37B0D31A709" );

    if ( istrue( var_1 ) )
        return;

    _id_13DCC();
}

_id_13DCC()
{
    wait 0.5;

    if ( istrue( self._id_145BF ) )
        thread scripts\mp\hud_message::showsplash( "_encstr_A6A417AD1AB158E5EB42A1AE1BA79E9856772D5FB92551A413" );
    else
        thread scripts\mp\hud_message::showsplash( "_encstr_A813105E020F99936592B069EBFC6D705FAA" );
}

playerrespawngulagcleanup( var_0 )
{
    self notify( "_encstr_A31C0D813BDBD758CA3DB7A921EB58" );
    scripts\mp\equipment\molotov::molotov_clear_burning();

    if ( getdvarint( "_encstr_B6C620E7EF1ED14288FED75B70F88F297E1927274DC56B07182D0DE58B70D9D3C689", 0 ) == 0 )
        self.shouldhumanspawntags = 0;

    self.health = self.maxhealth;
    scripts\mp\healthoverlay::onexitdeathsdoor( 1 );

    if ( !istrue( var_0 ) )
    {
        scripts\mp\utility\player::enableplayerforspawnlogic( 0 );
        self setclientomnvar( "_encstr_87FD09D54BBECE5DD8163B", 0 );
        _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::updatebrscoreboardstat( "_encstr_A9500DA5DC94CA6EE00BEEB99673D9", 0 );

        if ( isdefined( self.arena ) )
            removeloadingplayer( self.arena, self );

        self.arena = undefined;
    }
}

set_showing_bomb_wire_pair_to_player( var_0 )
{
    var_1 = getdvarint( "_encstr_B46113FB4F18591BAE76C29A5E0A5F8F604F6765FD", 1 ) != 0;
    var_2 = istrue( level.debug_safehouse_regroup_start ) && !istrue( level.debug_show2dvotext );
    var_3 = !istrue( var_0 );

    if ( var_1 && var_3 && !var_2 )
        return gulagwinnerremembergunandammo();

    var_4 = getdvarint( "_encstr_B34713B6D62BB7497287C0F09FB42003F27D2DBDAA", 1 ) != 0 && getdvarint( "_encstr_B69B199BB04D712BD338F6EBD09BCFC58D6813D170DFB64B2815EC", -1 ) > -1;

    if ( isdefined( level.deletescriptableinstanceaftertime ) || var_4 )
    {
        self.set_shouldrespawn = 1;
        return;
    }

    self.set_shouldrespawn = 0;
}

set_solution()
{
    if ( !istrue( level.usegulag ) && !_encstr_AD64266E6CE44B1CD19B97B53897D9B0B62B1DBC389537F2139CBE7658D6AC8E2F3895DC17B3DC8D::unset_relic_aggressive_melee( "_encstr_88C922F820F34779B7189DCD1902CD41D34B2F12E374AAC789F07B712BD323EFF3D24042" ) )
        return 0;

    var_0 = getdvarint( "_encstr_B46113FB4F18591BAE76C29A5E0A5F8F604F6765FD", 1 ) != 0;
    var_1 = !istrue( self.gulagloser );

    if ( var_0 && var_1 )
        return set_slow_healthregen();

    var_2 = getdvarint( "_encstr_B34713B6D62BB7497287C0F09FB42003F27D2DBDAA", 1 ) != 0 && getdvarint( "_encstr_B69B199BB04D712BD338F6EBD09BCFC58D6813D170DFB64B2815EC", -1 ) > -1;

    if ( isdefined( level.deletescriptableinstanceaftertime ) || var_2 )
        return set_spawn_scoring_params_for_level();

    return 0;
}

gulagwinnerremembergunandammo()
{
    self.br_gulagguncurrent = self getcurrentprimaryweapon();
    var_0 = self getweaponslistprimaries();
    var_0 = scripts\engine\utility::array_remove( var_0, getcompleteweaponname( "_encstr_A6BB11E88FA23FAA7BCCC6D996433B6249AD7B" ) );
    var_0 = scripts\engine\utility::array_remove( var_0, getcompleteweaponname( "_encstr_952020890F22313BDBBB0A732020BFF4489B3E0DC7B8C47B7536225AA88DCFA1F851" ) );
    var_0 = scripts\engine\utility::array_remove( var_0, getcompleteweaponname( "_encstr_B3C2244B471F30A3C03258539CBEE05212A7DDEB4F126140E38BE3E806A7789D8AFF43177FEB" ) );
    var_0 = scripts\engine\utility::array_remove( var_0, getcompleteweaponname( "_encstr_A90A2162A3BA579B794A72C7A87828C21A50A63ADF316283056BC16D6FF1D31DF12D48" ) );
    var_0 = scripts\engine\utility::array_remove( var_0, getcompleteweaponname( "_encstr_9B660D018F3841EE3A23DBEE3639F0" ) );
    self.br_gulagguns = [];
    self.br_gulagammo = [];

    foreach ( var_2 in var_0 )
    {
        var_3 = createheadicon( var_2 );

        if ( getsubstr( var_3, 0, 4 ) == "_encstr_AD830589BDDC51" )
            continue;

        self.br_gulagguns[self.br_gulagguns.size] = var_2;

        if ( getdvarint( "_encstr_A69C1A4A267D69C2EB512F6FA0E1BF11154D55479985021A51F81F7F", 0 ) == 1 )
        {
            self.br_gulagammo[var_3] = self getweaponammoclip( var_2 ) + self getweaponammostock( var_2 );
            continue;
        }

        self.br_gulagammo[var_3] = weaponclipsize( var_2 ) * 3;
    }

    var_5 = self getweaponslistoffhands();
    var_6 = "_encstr_987F080E394BDAC2E45E";
    self.br_gulagoffhands = [];

    foreach ( var_8 in var_5 )
    {
        var_9 = self getweaponammoclip( var_8 );

        if ( var_9 <= 0 )
        {
            scripts\mp\equipment::takeequipment( var_6 );
            var_6 = "_encstr_B98F0AC7D5B99F4DDBA8353B";
            continue;
        }

        var_6 = "_encstr_B98F0AC7D5B99F4DDBA8353B";
        self.br_gulagoffhands[self.br_gulagoffhands.size] = var_8;
        var_10 = createheadicon( var_8 );
        self.br_gulagammo[var_10] = weaponstartammo( var_8 );
    }
}

set_slow_healthregen()
{
    if ( isdefined( self.br_gulagguns ) && isdefined( self.br_gulagoffhands ) && isdefined( self.br_gulagammo ) )
    {
        var_0 = getdvarint( "_encstr_B14F1706E3159FCDB3C1331AEBA81AAAF3C6C8C79127BFF3E9", 1 ) == 1;

        if ( var_0 && self.br_gulagguns.size < 1 )
        {
            self.set_shouldrespawn = 1;
            set_spawn_scoring_params_for_level();
            return 0;
        }

        self takeallweapons();
        _encstr_88D5245E9613FBEB53533FF5BAD6047745CF934308BF634E225309500F27FBCFC3B3E560B3A7::br_ammo_player_clear();
        self.equipment["_encstr_987F080E394BDAC2E45E"] = undefined;
        self.equipment["_encstr_B98F0AC7D5B99F4DDBA8353B"] = undefined;
        self.equipment["_encstr_A1B507EB87CA015BB8"] = undefined;
        self.equipment["_encstr_BEB4068F1B5BA3AB"] = undefined;
        var_1 = 0;

        foreach ( var_3 in self.br_gulagguns )
        {
            var_4 = createheadicon( var_3 );
            scripts\cp_mp\utility\inventory_utility::_giveweapon( var_3 );
            self setweaponammostock( var_3, 0 );

            if ( !var_1 )
            {
                self assignweaponprimaryslot( var_4 );
                scripts\cp_mp\utility\inventory_utility::_switchtoweapon( var_3 );
                var_1 = 1;
            }

            scripts\mp\weapons::fixupplayerweapons( self, var_4 );
            thread _encstr_87D224DBF00DBC23536EFFA5875037C64BA833F3D08BF2A649D687B215E3B30ED7681EAA205F::giveweaponpickup( var_4 );
            var_5 = weaponclipsize( var_3 );
            var_6 = int( min( var_5, 25 ) );

            if ( isdefined( self.br_gulagammo[var_4] ) )
                var_6 = int( max( var_6, self.br_gulagammo[var_4] ) );

            var_7 = 0;

            if ( var_6 > var_5 )
            {
                var_7 = var_6 - var_5;
                var_6 = var_5;
            }

            self setweaponammoclip( var_3, var_6 );

            if ( var_7 > 0 )
            {
                var_8 = _encstr_88D5245E9613FBEB53533FF5BAD6047745CF934308BF634E225309500F27FBCFC3B3E560B3A7::br_ammo_type_for_weapon( var_3 );
                _encstr_88D5245E9613FBEB53533FF5BAD6047745CF934308BF634E225309500F27FBCFC3B3E560B3A7::br_ammo_give_type( self, var_8, var_7 );
            }
        }

        _encstr_88D5245E9613FBEB53533FF5BAD6047745CF934308BF634E225309500F27FBCFC3B3E560B3A7::br_ammo_update_weapons( self );

        if ( self.br_gulagguns.size < 2 )
            self giveweapon( getcompleteweaponname( "_encstr_9B660D018F3841EE3A23DBEE3639F0" ) );

        foreach ( var_11 in self.br_gulagoffhands )
        {
            var_12 = scripts\mp\equipment::getequipmentreffromweapon( var_11 );

            if ( isdefined( var_12 ) && isdefined( level.br_pickups.br_equipnametoscriptable[var_12] ) )
            {
                var_13 = level.br_pickups.br_equipnametoscriptable[var_12];
                _encstr_823124376CE42DC11DCD5EB6E0CB3BB0ADAC3A2FE056CDBC314EAF83A536DAAB079BE2D9B9B1::br_forcegivecustompickupitem( self, var_13, 1 );
                var_4 = createheadicon( var_11 );

                if ( isdefined( self.br_gulagammo[var_4] ) )
                {
                    var_14 = self.br_gulagammo[var_4];
                    self setweaponammoclip( var_11, var_14 );
                }
            }
        }

        if ( isdefined( self.br_gulagguncurrent ) )
            self switchtoweaponimmediate( self.br_gulagguncurrent );

        self.br_gulaggun = undefined;
        self.br_gulagammo = undefined;
        self.br_gulagoffhands = undefined;
        self.br_gulagguncurrent = undefined;
        return 1;
    }
    else if ( istrue( self.gulagloser ) )
        self.shouldhumanspawntags = 0;

    return 0;
}

set_spawn_scoring_params_for_level()
{
    if ( istrue( self.set_shouldrespawn ) )
    {
        var_0 = getdvarint( "_encstr_B69B199BB04D712BD338F6EBD09BCFC58D6813D170DFB64B2815EC", -1 );

        if ( var_0 > -1 )
            self.pers["_encstr_A2FB10AFE391259857B908783F59C26F5BEB"] = level.set_relic_thirdperson[var_0];
        else
            self.pers["_encstr_A2FB10AFE391259857B908783F59C26F5BEB"] = level.deletescriptableinstanceaftertime;

        self.class = "_encstr_87AC099DB05B59ADF619AC";
        self.prevweaponobj = undefined;
        var_1 = scripts\mp\class::loadout_getclassstruct();
        var_1 = scripts\mp\class::loadout_updateclass( var_1, "_encstr_87AC099DB05B59ADF619AC" );
        scripts\mp\class::preloadandqueueclassstruct( var_1, 1, 1 );
        scripts\mp\class::giveloadout( self.team, "_encstr_87AC099DB05B59ADF619AC", 0, 0 );
        self givestartammo( var_1.loadoutprimaryobject );
        self givestartammo( var_1.loadoutsecondaryobject );
        _encstr_97571CC31EE30FBA499B665A8327B7E7F8F54C512FA93F150D207EF2F097::scriptednode( self );
        _encstr_88D5245E9613FBEB53533FF5BAD6047745CF934308BF634E225309500F27FBCFC3B3E560B3A7::br_ammo_player_clear();
        _encstr_88D5245E9613FBEB53533FF5BAD6047745CF934308BF634E225309500F27FBCFC3B3E560B3A7::delay_add_to_chopper_boss_drone_target_array();
        _encstr_88D5245E9613FBEB53533FF5BAD6047745CF934308BF634E225309500F27FBCFC3B3E560B3A7::br_ammo_update_weapons( self );
        self notify( "_encstr_B8110CD867BD207793A2851FBBCA" );
        thread _encstr_97571CC31EE30FBA499B665A8327B7E7F8F54C512FA93F150D207EF2F097::defend_wave_2();

        if ( isdefined( level.obit_activation ) && level.obit_activation._id_129DA == 1 )
            _encstr_97571CC31EE30FBA499B665A8327B7E7F8F54C512FA93F150D207EF2F097::disablearmorykiosk();

        self.set_shouldrespawn = undefined;
        return 1;
    }

    return 0;
}

popnextmatch( var_0 )
{
    var_1 = var_0.matches[0];
    var_0.matches = scripts\engine\utility::array_remove_index( var_0.matches, 0 );
    return var_1;
}

checkgulagusecount()
{
    if ( level.gulag.maxuses >= 0 )
    {
        var_0 = self.gulaguses;

        if ( !isdefined( var_0 ) )
            var_0 = 0;

        if ( var_0 >= level.gulag.maxuses )
            return 0;
    }

    return 1;
}

trygulagspawn()
{
    if ( !istrue( self.br_infilstarted ) || !scripts\mp\flags::gameflag( "_encstr_989F0E38272BD6161DB143F532BDDC2B" ) )
        return 0;

    if ( istrue( self.gulag ) )
        return 0;

    if ( _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::hasrespawntoken() && !_encstr_823124376CE42DC11DCD5EB6E0CB3BB0ADAC3A2FE056CDBC314EAF83A536DAAB079BE2D9B9B1::_id_12CB6() )
    {
        thread playergulagautowin( "_encstr_A6390EA339F21DD5B1587635C10B77E6" );
        return 1;
    }

    if ( !_id_12517() )
        return 0;

    thread initplayerjail( 1 );
    return 1;
}

_id_12517()
{
    if ( !istrue( self.br_infilstarted ) || !scripts\mp\flags::gameflag( "_encstr_989F0E38272BD6161DB143F532BDDC2B" ) )
        return 0;

    if ( istrue( self.gulag ) )
        return 0;

    if ( !istrue( level.usegulag ) )
        return 0;

    if ( istrue( level.gulag.shutdown ) && !_id_125E6() )
        return 0;

    if ( getdvarint( "_encstr_9FFD1C7FA8FBE79A256896CDE957E2736310E7F74B902FE353961A8440CD", 0 ) )
        return 0;

    if ( istrue( self.gulagloser ) )
        return 0;

    if ( !checkgulagusecount() )
        return 0;

    return 1;
}

playergulaghud( var_0 )
{
    if ( isdefined( var_0.fightover ) && !var_0.fightover )
        _id_1267A( var_0 );

    if ( isdefined( var_0.fightover ) && !var_0.fightover && isdefined( var_0.time ) && var_0.time > 0 )
    {
        var_1 = var_0.time;

        if ( !istrue( var_0.overtime ) )
        {
            var_2 = respawn_scriptible_carriable_wait();
            var_1 = var_1 - var_2;
        }

        self setclientomnvar( "_encstr_8A571B43B4AFE0CE099FE3C99F528050294B097851FDD88D213BD3C3A7", gettime() + int( var_1 * 1000 ) );
    }
    else
        self setclientomnvar( "_encstr_8A571B43B4AFE0CE099FE3C99F528050294B097851FDD88D213BD3C3A7", 0 );
}

updatematchtimerhud( var_0, var_1 )
{
    _updatematchtimerhudinternal( var_0.arenaplayers, var_1 );
    _updatematchtimerhudinternal( var_0.jailedplayers, var_1 );
}

_updatematchtimerhudinternal( var_0, var_1 )
{
    foreach ( var_3 in var_0 )
    {
        if ( !isdefined( var_3 ) )
            continue;

        if ( var_1 > 0 )
        {
            var_3 setclientomnvar( "_encstr_8A571B43B4AFE0CE099FE3C99F528050294B097851FDD88D213BD3C3A7", gettime() + int( var_1 * 1000 ) );
            continue;
        }

        var_3 setclientomnvar( "_encstr_8A571B43B4AFE0CE099FE3C99F528050294B097851FDD88D213BD3C3A7", 0 );
    }
}

updatematchqueuepositions( var_0 )
{
    for ( var_1 = 2; var_1 <= level.gulag.maxplayers; var_1 = var_1 + 2 )
    {
        var_2 = [];

        foreach ( var_4 in var_0.jailedplayers )
        {
            if ( !isdefined( var_4 ) )
                continue;

            var_5 = 0;

            foreach ( var_12, var_7 in var_2 )
            {
                if ( var_7.size >= var_1 )
                    continue;

                var_8 = 0;

                foreach ( var_10 in var_7 )
                {
                    if ( var_10.team == var_4.team )
                    {
                        var_8 = 1;
                        break;
                    }
                }

                if ( !var_8 )
                {
                    var_5 = 1;
                    var_4.gulagposition = var_12 + 1;
                    var_2[var_12][var_2[var_12].size] = var_4;
                    break;
                }
            }

            if ( !var_5 )
            {
                var_4.gulagposition = var_2.size + 1;
                var_2[var_2.size] = [ var_4 ];
            }
        }

        var_0.matches = var_2;

        if ( var_2.size <= level.gulag.maxqueue )
            break;
    }

    _id_13FC1( var_0 );
}

playerwatchdisconnect( var_0 )
{
    self endon( "_encstr_A6760AD9571B85CE62F637A3" );
    self endon( "_encstr_A1ED0A8F0388B66F5851E24A" );
    self waittill( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );

    if ( isdefined( self ) && istrue( self.gulagarena ) )
        return;

    if ( isdefined( self ) )
    {
        if ( istrue( self.gulagarena ) )
            var_0.arenaplayers = scripts\engine\utility::array_remove( var_0.arenaplayers, self );
        else if ( istrue( self.jailed ) )
            var_0.jailedplayers = scripts\engine\utility::array_remove( var_0.jailedplayers, self );

        playerdestroyhud( var_0 );
    }
    else
    {
        var_0.jailedplayers = scripts\engine\utility::array_removeundefined( var_0.jailedplayers );
        var_0.arenaplayers = scripts\engine\utility::array_removeundefined( var_0.arenaplayers );
    }

    updatematchqueuepositions( var_0 );
}

playerdestroyhud( var_0 )
{
    self setclientomnvar( "_encstr_8A571B43B4AFE0CE099FE3C99F528050294B097851FDD88D213BD3C3A7", 0 );

    if ( isdefined( var_0 ) )
        _id_12526( var_0 );

    if ( isdefined( self.gulagjailbreakhud ) )
        self.gulagjailbreakhud destroy();

    self.set_relic_team_proximity = undefined;
}

setplayervargulag( var_0 )
{
    if ( isdefined( self.gulag ) && self.gulag == var_0 )
        return;

    self.gulag = var_0;
    level notify( "_encstr_B27B138530D369A117A140284BAE5921E7C003F5BD" );
}

setplayervargulagarena( var_0, var_1 )
{
    if ( isdefined( self.gulagarena ) && self.gulagarena == var_0 )
        return;

    if ( !istrue( var_1 ) )
        _id_131A1( var_0 );

    self.gulagarena = var_0;
    level notify( "_encstr_B27B138530D369A117A140284BAE5921E7C003F5BD" );
}

_id_131A1( var_0 )
{
    if ( istrue( var_0 ) )
        self.game_extrainfo = self.game_extrainfo | 256;
    else
        self.game_extrainfo = self.game_extrainfo & ~256;
}

_id_131AA( var_0 )
{
    if ( isdefined( self.jailed ) && self.jailed == var_0 )
        return;

    _id_131A2( var_0 );
    self.jailed = var_0;
    level notify( "_encstr_B27B138530D369A117A140284BAE5921E7C003F5BD" );
}

_id_131A2( var_0 )
{
    if ( var_0 )
        self.game_extrainfo = self.game_extrainfo | 128;
    else
        self.game_extrainfo = self.game_extrainfo & ~128;
}

_id_1319F( var_0 )
{
    if ( var_0.set_relic_oneclip > 7 )
        return;

    var_1 = 3;
    var_2 = 3;
    var_3 = int( pow( 2, var_1 ) ) - 1;
    var_4 = ( var_0.set_relic_oneclip & var_3 ) << var_2;
    var_5 = ~( var_3 << var_2 );
    var_6 = self.game_extrainfo;
    var_7 = var_6 & var_5;
    var_8 = var_7 + var_4;
    self.game_extrainfo = var_8;
}

startbetting( var_0, var_1 )
{
    if ( !level.gulag.betting )
        return undefined;

    var_2 = spawnstruct();
    var_2.fighters = var_1;
    var_2.bets = [];
    var_2.bettingopen = 1;
    var_2 thread show_betting_to_players( var_0 );
    return var_2;
}

show_betting_to_players( var_0 )
{
    self endon( "_encstr_8A2A0C65DD20D183BD9B5BB2E084" );

    for (;;)
    {
        var_1 = getbettingplayers( var_0, self );

        foreach ( var_3 in var_1 )
        {
            if ( isbot( var_3 ) )
                continue;

            if ( isdefined( self.bets[var_3.guid] ) )
                continue;

            thread showbettinghud( var_0, var_3 );
        }

        var_0 waittill( "_encstr_A4041593F053D01FCBD0191455F1C391D150E9AAF03BCD" );
    }
}

showbettinghud( var_0, var_1 )
{
    self endon( "_encstr_8A2A0C65DD20D183BD9B5BB2E084" );
    var_2 = spawnstruct();
    var_2.owner = var_1;
    self.bets[var_1.guid] = var_2;
    var_2._id_125F9 = 0;
    var_2._id_12652 = 1;
    var_3 = 0;
    var_4 = 50;
    var_2.hudavailable = var_1 scripts\mp\hud_util::createfontstring( "_encstr_AA1608C07786F13312D3", 1.2 );
    var_2.hudavailable scripts\mp\hud_util::setpoint( "_encstr_B91904CC0719", "_encstr_B91904CC0719", var_3, var_4 );
    var_2.hudavailable.label = &"_encstr_8C1B1B0859670787446787E78E0DCB9B130110A6499D4E2F7C7F8AFC35";
    var_2.hudavailable scripts\mp\hud::fontpulseinit();
    var_2.spawn_truck_techo = var_1 scripts\mp\hud_util::createfontstring( "_encstr_AA1608C07786F13312D3", 1.2 );
    var_2.spawn_truck_techo scripts\mp\hud_util::setpoint( "_encstr_B91904CC0719", "_encstr_B91904CC0719", var_3, var_4 - 15 );
    var_2.spawn_truck_techo.label = &"_encstr_93DA1B3582F5E8AAC4A0D1EB12A245A85293A3F2848A2ABEA126150A4A";
    var_2.spawn_truck_techo.alpha = 0.0;
    var_5 = -90;
    var_6 = 65;
    var_2.spawn_trap_room_ent = var_1 scripts\mp\hud_util::createfontstring( "_encstr_AA1608C07786F13312D3", 1.2 );
    var_2.spawn_trap_room_ent scripts\mp\hud_util::setpoint( "_encstr_B91904CC0719", "_encstr_B91904CC0719", var_5, var_6 );
    var_2.spawn_trap_room_ent.label = &"_encstr_B956232B47E1C5CF4953F5262D8FEB43FC38A837051831D93C56FE5337E1CFE5F9B9E861ED";
    var_2.spawn_trap_room_ent.alpha = 1.0;
    var_2.spawnboardroom_miniguns = var_1 scripts\mp\hud_util::createfontstring( "_encstr_AA1608C07786F13312D3", 1.25 );
    var_2.spawnboardroom_miniguns scripts\mp\hud_util::setpoint( "_encstr_B91904CC0719", "_encstr_B91904CC0719", var_5 - 20, var_6 + 12 );
    var_2.spawnboardroom_miniguns.label = &"_encstr_A8701E2C92D7B125509F2F17BBE8ED71A97D15E8CD7461FE99C31315C7B0D8B9";
    var_2.spawnboardroom_miniguns setvalue( randomint( 60 ) + 20 );
    var_2.spawnboardroom_miniguns.alpha = 1.0;
    var_2.spawnboardroomblueprintweapons = var_1 scripts\mp\hud_util::createfontstring( "_encstr_AA1608C07786F13312D3", 1.25 );
    var_2.spawnboardroomblueprintweapons scripts\mp\hud_util::setpoint( "_encstr_B91904CC0719", "_encstr_B91904CC0719", var_5 + 20, var_6 + 12 );
    var_2.spawnboardroomblueprintweapons.label = &"_encstr_8C721C746BDF8913911965DFFE2DB129D1380F77F4855BD1599229A129E4";
    var_2.spawnboardroomblueprintweapons setvalue( randomint( 10 ) + 1 );
    var_2.spawnboardroomblueprintweapons.alpha = 1.0;
    var_2.spawnchoppers = var_1 scripts\mp\hud_util::createfontstring( "_encstr_AA1608C07786F13312D3", 1.5 );
    var_2.spawnchoppers scripts\mp\hud_util::setpoint( "_encstr_B91904CC0719", "_encstr_B91904CC0719", var_5, var_6 + 25 );
    var_2.spawnchoppers.label = &"_encstr_A40101";

    if ( isdefined( self.fighters[var_2._id_125F9] ) )
        var_2.spawnchoppers setplayernamestring( self.fighters[var_2._id_125F9] );

    var_2.spawnchoppers.alpha = 1.0;
    var_2.spawn_techo_lmgs = var_1 scripts\mp\hud_util::createfontstring( "_encstr_AA1608C07786F13312D3", 1.5 );
    var_2.spawn_techo_lmgs scripts\mp\hud_util::setpoint( "_encstr_B91904CC0719", "_encstr_B91904CC0719", var_5, var_6 + 40 );
    var_2.spawn_techo_lmgs.label = &"_encstr_B2141D6D210987498358E8A70EC0B9912955873A07FF7A89F970958F1A3781";
    var_2.spawn_techo_lmgs.alpha = 0.0;
    var_2.spawn_techo_lmgs scripts\mp\hud::fontpulseinit();
    var_7 = 90;
    var_8 = 65;
    var_2.spawn_truck_group_on_proximity = var_1 scripts\mp\hud_util::createfontstring( "_encstr_AA1608C07786F13312D3", 1.2 );
    var_2.spawn_truck_group_on_proximity scripts\mp\hud_util::setpoint( "_encstr_B91904CC0719", "_encstr_B91904CC0719", var_7, var_8 );
    var_2.spawn_truck_group_on_proximity.label = &"_encstr_B89F2440112F5FDF0CDF3F2F46F50353AB5968FEE963C3BF84B0C33AED1D57AF5F5130F021E9";
    var_2.spawn_truck_group_on_proximity.alpha = 1.0;
    var_2.spawnboardroom_specialist = var_1 scripts\mp\hud_util::createfontstring( "_encstr_AA1608C07786F13312D3", 1.25 );
    var_2.spawnboardroom_specialist scripts\mp\hud_util::setpoint( "_encstr_B91904CC0719", "_encstr_B91904CC0719", var_7 - 20, var_8 + 12 );
    var_2.spawnboardroom_specialist.label = &"_encstr_A8701E2C92D7B125509F2F17BBE8ED71A97D15E8CD7461FE99C31315C7B0D8B9";
    var_2.spawnboardroom_specialist setvalue( randomint( 60 ) + 20 );
    var_2.spawnboardroom_specialist.alpha = 1.0;
    var_2.spawnbunkerloot = var_1 scripts\mp\hud_util::createfontstring( "_encstr_AA1608C07786F13312D3", 1.25 );
    var_2.spawnbunkerloot scripts\mp\hud_util::setpoint( "_encstr_B91904CC0719", "_encstr_B91904CC0719", var_7 + 20, var_8 + 12 );
    var_2.spawnbunkerloot.label = &"_encstr_8C721C746BDF8913911965DFFE2DB129D1380F77F4855BD1599229A129E4";
    var_2.spawnbunkerloot setvalue( randomint( 10 ) + 1 );
    var_2.spawnbunkerloot.alpha = 1.0;
    var_2.spawnclientdevtest = var_1 scripts\mp\hud_util::createfontstring( "_encstr_AA1608C07786F13312D3", 1.5 );
    var_2.spawnclientdevtest scripts\mp\hud_util::setpoint( "_encstr_B91904CC0719", "_encstr_B91904CC0719", var_7, var_8 + 25 );
    var_2.spawnclientdevtest.label = &"_encstr_A40101";

    if ( isdefined( self.fighters[var_2._id_12652] ) )
        var_2.spawnclientdevtest setplayernamestring( self.fighters[var_2._id_12652] );

    var_2.spawnclientdevtest.alpha = 1.0;
    var_2.spawn_techo_turret = var_1 scripts\mp\hud_util::createfontstring( "_encstr_AA1608C07786F13312D3", 1.5 );
    var_2.spawn_techo_turret scripts\mp\hud_util::setpoint( "_encstr_B91904CC0719", "_encstr_B91904CC0719", var_7, var_8 + 40 );
    var_2.spawn_techo_turret.label = &"_encstr_B2141D6D210987498358E8A70EC0B9912955873A07FF7A89F970958F1A3781";
    var_2.spawn_techo_turret.alpha = 0.0;
    var_2.spawn_techo_turret scripts\mp\hud::fontpulseinit();
    var_2.playerbeton = -1;
    var_2.amount = 0;
    updatebethud( var_2 );
    thread watchbetplaced( var_2 );
    thread watchbetclear( var_2 );
}

watchbetclear( var_0 )
{
    self endon( "_encstr_8A2A0C65DD20D183BD9B5BB2E084" );
    var_0.owner endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    var_1 = "_encstr_A384098DDF0BEE303D062B";
    thread notifyonplayercommandbetting( var_0.owner, var_1, "_encstr_8F4D09ACB9C1561B2D2C8D" );
    thread notifyonplayercommandbetting( var_0.owner, var_1, "_encstr_88410B02AB0E5F15AFB8A883DC" );

    for (;;)
    {
        var_0.owner waittill( var_1 );

        if ( var_0.playerbeton == -1 )
            continue;

        var_0.playerbeton = -1;
        var_0.amount = 0;
        updatebethud( var_0 );
    }
}

watchbetplaced( var_0 )
{
    self endon( "_encstr_8A2A0C65DD20D183BD9B5BB2E084" );
    var_0.owner endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    var_1 = "_encstr_8F430EA203E4D1D3B0517D9C899D53B8";
    var_2 = "_encstr_800F0F43E04380121B6EBFF7DED37A70AB";
    thread notifyonplayercommandbetting( var_0.owner, var_1, "_encstr_BA5F07B2CDD6F6B6AC" );
    thread notifyonplayercommandbetting( var_0.owner, var_2, "_encstr_BE4C0807B28050F0D18C" );
    thread notifyonplayercommandbetting( var_0.owner, var_2, "_encstr_AD0D0653443BF7B7" );

    for (;;)
    {
        var_3 = var_0.owner scripts\engine\utility::_id_143AD( var_1, var_2 );
        var_4 = -1;

        if ( var_3 == var_1 )
            var_4 = var_0._id_125F9;
        else if ( var_3 == var_2 )
            var_4 = var_0._id_12652;

        if ( var_0.playerbeton == var_4 )
            var_5 = var_0.amount + 1;
        else
            var_5 = 1;

        if ( var_5 > var_0.owner.plundercount )
        {
            betchangefail( var_0 );
            continue;
        }

        var_0.amount = var_5;
        var_0.playerbeton = var_4;
        updatebethud( var_0 );
    }
}

notifyonplayercommandbetting( var_0, var_1, var_2 )
{
    var_0 notifyonplayercommand( var_1, var_2 );
    self waittill( "_encstr_8A2A0C65DD20D183BD9B5BB2E084" );

    if ( isdefined( var_0 ) )
        var_0 notifyonplayercommandremove( var_1, var_2 );
}

betchangefail( var_0 )
{
    var_0.owner playlocalsound( "_encstr_B9A80F8927EB0E9636B6AE38D746B2B9F2" );
    var_0.hudavailable thread scripts\mp\hud::fontpulse( var_0.owner );
}

updatebethud( var_0 )
{
    var_1 = 100;
    var_0.hudavailable setvalue( ( var_0.owner.plundercount - var_0.amount ) * var_1 );

    if ( var_0.playerbeton == -1 )
    {
        var_0.spawn_trap_room_ent.label = &"_encstr_88DB21CDB71FD0FD24B9A7BFD97DB4A96B20C7ED16C3192FEDD9B7F3D95547F0DB4C9B";
        var_0.spawn_truck_group_on_proximity.label = &"_encstr_8F082291F9298FAF3B51B4B06A27B7E1048049FAB0F71126EFB0AF27074F9E35FCB8A9A9";
        var_0.spawn_truck_techo.alpha = 0.0;
        var_0.spawn_techo_lmgs setvalue( 0 );
        var_0.spawn_techo_turret setvalue( 0 );
        var_0.spawn_techo_lmgs.alpha = 0.0;
        var_0.spawn_techo_turret.alpha = 0.0;
    }
    else if ( var_0.playerbeton == var_0._id_125F9 )
    {
        var_0.spawn_trap_room_ent.label = &"_encstr_B956232B47E1C5CF4953F5262D8FEB43FC38A837051831D93C56FE5337E1CFE5F9B9E861ED";
        var_0.spawn_truck_group_on_proximity.label = &"_encstr_8F082291F9298FAF3B51B4B06A27B7E1048049FAB0F71126EFB0AF27074F9E35FCB8A9A9";
        var_0.spawn_truck_techo.alpha = 1.0;
        var_0.spawn_techo_lmgs setvalue( var_0.amount * var_1 );
        var_0.spawn_techo_lmgs.alpha = 1.0;
        var_0.spawn_techo_turret.alpha = 0.0;
    }
    else if ( var_0.playerbeton == var_0._id_12652 )
    {
        var_0.spawn_trap_room_ent.label = &"_encstr_88DB21CDB71FD0FD24B9A7BFD97DB4A96B20C7ED16C3192FEDD9B7F3D95547F0DB4C9B";
        var_0.spawn_truck_group_on_proximity.label = &"_encstr_B89F2440112F5FDF0CDF3F2F46F50353AB5968FEE963C3BF84B0C33AED1D57AF5F5130F021E9";
        var_0.spawn_truck_techo.alpha = 1.0;
        var_0.spawn_techo_turret setvalue( var_0.amount * var_1 );
        var_0.spawn_techo_turret.alpha = 1.0;
        var_0.spawn_techo_lmgs.alpha = 0.0;
    }
}

cleanupbethud( var_0, var_1 )
{
    var_0 notify( "_encstr_9C170E314505685039B3FD4B5B102588" );

    if ( isdefined( var_1 ) )
    {
        var_0 endon( "_encstr_9C170E314505685039B3FD4B5B102588" );
        wait( var_1 );
    }

    var_2 = [ var_0.spawn_trap_room_ent, var_0.spawn_truck_group_on_proximity, var_0.spawn_techo_lmgs, var_0.spawn_techo_turret, var_0.spawnchoppers, var_0.spawnclientdevtest, var_0.spawnboardroom_miniguns, var_0.spawnboardroomblueprintweapons, var_0.spawnboardroom_specialist, var_0.spawnbunkerloot, var_0.hudavailable, var_0.spawn_truck_techo ];

    foreach ( var_4 in var_2 )
    {
        if ( isdefined( var_4 ) )
            var_4 destroy();
    }
}

watchbetbutton( var_0, var_1, var_2, var_3 )
{
    self endon( "_encstr_8A2A0C65DD20D183BD9B5BB2E084" );

    for (;;)
    {
        var_1 waittill( var_2 );
        var_0 notify( "_encstr_A6D30A681FB38358D69105BA", var_3 );
    }
}

endbetting( var_0, var_1 )
{
    if ( !isdefined( var_1 ) || !istrue( var_1.bettingopen ) )
        return;

    var_1 notify( "_encstr_8A2A0C65DD20D183BD9B5BB2E084" );
    var_1.bettingopen = 0;

    foreach ( var_3 in var_1.bets )
    {
        var_4 = [ var_3.spawn_truck_techo, var_3.hudavailable, var_3.spawnboardroom_specialist, var_3.spawnboardroom_miniguns, var_3.spawnbunkerloot, var_3.spawnboardroomblueprintweapons, var_3.spawn_trap_room_ent, var_3.spawn_truck_group_on_proximity ];

        if ( var_3.playerbeton != -1 )
        {
            if ( var_3.playerbeton == var_3._id_125F9 )
            {
                var_4[var_4.size] = var_3.spawnclientdevtest;
                var_4[var_4.size] = var_3.spawn_truck_group_on_proximity;
                var_4[var_4.size] = var_3.spawn_techo_turret;
            }
            else if ( var_3.playerbeton == var_3._id_12652 )
            {
                var_4[var_4.size] = var_3.spawnchoppers;
                var_4[var_4.size] = var_3.spawn_trap_room_ent;
                var_4[var_4.size] = var_3.spawn_techo_lmgs;
            }
        }
        else
            cleanupbethud( var_3, 0.0 );

        foreach ( var_6 in var_4 )
        {
            if ( isdefined( var_6 ) )
                var_6 destroy();
        }
    }

    updateoutlines( var_0 );
}

payoutremainingbets( var_0, var_1 )
{
    if ( !isdefined( var_1 ) )
        return;

    var_2 = -1;

    if ( isdefined( var_0 ) )
        var_2 = var_0.fighterindex;

    foreach ( var_4 in var_1.bets )
    {
        if ( var_4.playerbeton != -1 && isdefined( var_4.owner ) && !istrue( var_4.paidout ) )
        {
            var_5 = var_4.playerbeton == var_2;
            _completebet( var_1, var_4, var_5 );
        }

        thread cleanupbethud( var_4, 2.5 );
    }
}

_completebet( var_0, var_1, var_2 )
{
    var_3 = ( 0, 1, 0 );
    var_4 = ( 1, 0, 0 );
    var_1.paidout = 1;

    if ( var_2 )
    {
        var_1.owner _encstr_A18624E0EFEA87BAA35A56BBFB0EBF36CA096B407105AFF796F09F4F7DAFB0DCE162357947B7::playersetplundercount( var_1.owner.plundercount + var_1.amount );

        if ( var_1.playerbeton == var_1._id_125F9 )
        {
            var_1.spawnchoppers.color = var_3;
            var_1.spawnchoppers.label = &"_encstr_BCCB1F6FF9F82005296DEFE165094C495B6DFF6E4D0BE8C0591791FB3C89AE908E";
            var_1.spawn_techo_lmgs.color = var_3;
            var_1.spawn_techo_lmgs.label = &"_encstr_A1161CA60AAF8E552605D1EB218A8AA294728ECB146A3DAAC9A87DBAA7E4";
            var_1.owner playlocalsound( "_encstr_AFC80F0BDA5BF6FA8D93C247ACFAD56E2B" );
            var_1.spawn_techo_lmgs thread scripts\mp\hud::fontpulse( var_1.owner );
        }
        else if ( var_1.playerbeton == var_1._id_12652 )
        {
            var_1.spawnclientdevtest.color = var_3;
            var_1.spawnclientdevtest.label = &"_encstr_BCCB1F6FF9F82005296DEFE165094C495B6DFF6E4D0BE8C0591791FB3C89AE908E";
            var_1.spawn_techo_turret.color = var_3;
            var_1.spawn_techo_turret.label = &"_encstr_A1161CA60AAF8E552605D1EB218A8AA294728ECB146A3DAAC9A87DBAA7E4";
            var_1.owner playlocalsound( "_encstr_AFC80F0BDA5BF6FA8D93C247ACFAD56E2B" );
            var_1.spawn_techo_turret thread scripts\mp\hud::fontpulse( var_1.owner );
        }
    }
    else
    {
        if ( isalive( var_1.owner ) )
        {
            var_5 = var_1.owner.plundercount - var_1.amount;
            var_5 = int( max( 0, var_5 ) );
            var_1.owner _encstr_A18624E0EFEA87BAA35A56BBFB0EBF36CA096B407105AFF796F09F4F7DAFB0DCE162357947B7::playersetplundercount( var_5 );
        }

        if ( var_1.playerbeton == var_1._id_125F9 )
        {
            var_1.spawnchoppers.color = var_4;
            var_1.spawnchoppers.label = &"_encstr_B1401E6091B9E1C3CCD090A958302B7503B36D085929A7B0A7A9B9E93893D8F1";
            var_1.spawn_techo_lmgs.color = var_4;
            var_1.spawn_techo_lmgs.label = &"_encstr_98F41D6171B1DDCF2925EF1EF2ADA141FC35A0CFCD7CB7DD752F97A1F797A4";
            var_1.spawn_techo_lmgs thread scripts\mp\hud::fontpulse( var_1.owner );
        }
        else if ( var_1.playerbeton == var_1._id_12652 )
        {
            var_1.spawnclientdevtest.color = var_4;
            var_1.spawnclientdevtest.label = &"_encstr_B1401E6091B9E1C3CCD090A958302B7503B36D085929A7B0A7A9B9E93893D8F1";
            var_1.spawn_techo_turret.color = var_4;
            var_1.spawn_techo_turret.label = &"_encstr_98F41D6171B1DDCF2925EF1EF2ADA141FC35A0CFCD7CB7DD752F97A1F797A4";
            var_1.spawn_techo_turret thread scripts\mp\hud::fontpulse( var_1.owner );
        }
    }

    var_6 = var_0.fighters[var_1.playerbeton];

    if ( isdefined( var_6 ) )
        var_6 hudoutlinedisableforclient( var_1.owner );
}

getbettingplayers( var_0, var_1 )
{
    var_2 = var_0.jailedplayers;

    if ( level.gulag.betting > 1 )
    {
        foreach ( var_4 in var_1.fighters )
            var_2[var_2.size] = var_4;
    }

    return var_2;
}

payoutbet( var_0, var_1, var_2 )
{
    if ( !isdefined( var_0 ) )
        return;

    foreach ( var_4 in var_0.bets )
    {
        if ( var_4.playerbeton == var_1.fighterindex && isdefined( var_4.owner ) && !istrue( var_4.paidout ) )
        {
            _completebet( var_0, var_4, var_2 );
            thread cleanupbethud( var_4, 2.5 );
        }
    }
}

rock_used( var_0 )
{
    var_1 = self.arena;
    var_0 scripts\engine\utility::waittill_notify_or_timeout( "_encstr_8AE90E7D08B8538A21DB77CF1155D2B3", 4 );
    wait 2;

    if ( isdefined( var_0 ) )
        var_0 delete();

    if ( istrue( level.usegulag ) && level.gulag._id_1407F )
        spawnrock( var_1 );
}

spawnrocks( var_0 )
{
    var_0.rocks = getentitylessscriptablearrayinradius( var_0.target, "_encstr_B8CE0BE43FC317DF690862BA48" );

    if ( var_0.rocks.size == 0 || !level.gulag._id_1407F )
    {
        for ( var_1 = 0; var_1 < var_0.rocks.size; var_1++ )
        {
            var_2 = var_0.rocks[var_1];
            var_2 setscriptablepartstate( "_encstr_983B0C72F570CDA725CE0BC251F2", "_encstr_9EDF0778AA2789E9F3" );
        }

        return;
    }

    var_3 = 20;

    if ( var_0.rocks.size < var_3 )
        var_3 = var_0.rocks.size;

    var_0.rocks = scripts\engine\utility::array_randomize( var_0.rocks );
    var_0.rockcounter = var_3;
    var_4 = getdvarint( "_encstr_B2E5102B3FAB808005311D2E9FAB409F2ACE", 1 ) == 0;

    for ( var_1 = 0; var_1 < var_0.rocks.size; var_1++ )
    {
        var_2 = var_0.rocks[var_1];
        var_2.arena = var_0;

        if ( var_1 >= var_3 || var_4 )
            var_2 setscriptablepartstate( "_encstr_983B0C72F570CDA725CE0BC251F2", "_encstr_9EDF0778AA2789E9F3" );
    }
}

rockused( var_0, var_1, var_2, var_3, var_4 )
{
    if ( !isdefined( var_0 ) || !isdefined( var_3 ) )
        return;

    var_5 = getcompleteweaponname( "_encstr_ABB108EEA8EA22DED72B" );

    if ( var_3 hasweapon( var_5 ) && var_3 getammocount( var_5 ) > 0 )
        return;

    var_0 setscriptablepartstate( "_encstr_983B0C72F570CDA725CE0BC251F2", "_encstr_9EDF0778AA2789E9F3" );
    var_3 thread _encstr_823124376CE42DC11DCD5EB6E0CB3BB0ADAC3A2FE056CDBC314EAF83A536DAAB079BE2D9B9B1::playerplaypickupanim();
    var_3 scripts\mp\equipment::giveequipment( "_encstr_9F620BBB936058F7A8A518563F", "_encstr_987F080E394BDAC2E45E" );
    var_3 playlocalsound( "_encstr_94360F8D33A1F280E667DF1F9226CF3FD7" );
}

spawnrock( var_0 )
{
    if ( istrue( var_0.shutdown ) || var_0.rocks.size == 0 )
        return;

    var_1 = var_0.rocks[var_0.rockcounter];
    var_1 setscriptablepartstate( "_encstr_983B0C72F570CDA725CE0BC251F2", "_encstr_BE8B08B3B4CD963163B2" );
    var_0.rockcounter++;

    if ( var_0.rockcounter >= var_0.rocks.size )
        var_0.rockcounter = 0;
}

playertakeawayrock( var_0 )
{
    var_1 = getcompleteweaponname( "_encstr_ABB108EEA8EA22DED72B" );

    if ( self hasweapon( var_1 ) )
    {
        self takeweapon( var_1 );
        self clearaccessory();

        if ( level.gulag._id_1407F )
            spawnrock( var_0 );
    }
}

_id_126F3( var_0 )
{
    var_1 = self;

    if ( !isdefined( level.pickup_truck_initdamage ) )
        return;

    if ( isdefined( level.br_circle.circleindex ) )
    {
        var_2 = level.br_circle.circleindex + 1;

        if ( var_2 > level.phase_five_combat )
            return;
    }

    var_3 = 0;

    if ( isdefined( level.vehicle.instances["_encstr_B7C80A23E9733716DA39060C"] ) )
        var_3 = var_3 + level.vehicle.instances["_encstr_B7C80A23E9733716DA39060C"].size;

    if ( isdefined( level.vehicle.instances["_encstr_82F407ABC5611796BB"] ) )
        var_3 = var_3 + level.vehicle.instances["_encstr_82F407ABC5611796BB"].size;

    if ( var_3 >= level.pickup_truck_initdamage )
        return;

    if ( istrue( var_1._id_145BF ) )
        return;

    var_4 = "_encstr_A2500A039865CFC728B5151C";

    if ( isdefined( var_1.currentweapon ) )
        var_4 = var_1.currentweapon.basename;

    var_5 = "_encstr_A2500A039865CFC728B5151C";

    if ( isdefined( var_1.name ) )
        var_5 = var_1.name;

    if ( level.ph_setfinalkillcamwinner > 0.0 && randomfloat( 1.0 ) < level.ph_setfinalkillcamwinner )
    {
        logstring( "_encstr_AF9C2E7A47906BC99A5720302FD7585B9AB74FFBA52ED589CA5A58AB1F1BF1A7130E71D7BB72B79176726038EF3462B9" + var_0 + "_encstr_88C00F303231F8F3C12052395A691A2A21" + var_5 + "_encstr_88350FD71B5229B0986F80A85BFF480D6E" + var_4 );
        var_1._id_12C9E = var_0;
        var_1._id_145BF = 1;
        return;
    }

    logstring( "_encstr_80F942EF1E47B95F0312533B3AFF20406597A103AEA6A8B59A5E8901824BCFAAAEFCB79F4D9DE2055722C162FE0790581746231DF5474AE75B7A1B19E31BDFF8AFCA0D79" + var_5 + "_encstr_88350FD71B5229B0986F80A85BFF480D6E" + var_4 );
    var_1._id_12C9E = undefined;
    var_1._id_145BF = undefined;
}

_id_1268C()
{
    thread gulagfadefromblack( 3.0 );

    if ( isdefined( level.pilot_tag ) )
        var_0 = [[ level.pilot_tag ]]();
    else
        var_0 = _encstr_8A18233F26D6B373C5535613B3D5AABF583020D08BFDCE86F68B4649324ABAB809C65856C7::risk_modifyflagstieronrespawn( 0.9, 0.95 );

    var_1 = level.br_circle.circleindex + 1;

    if ( !isdefined( level.br_level.default_class_chosen[var_1] ) )
        var_1 = level.br_circle.circleindex;

    var_2 = vectortoyaw( level.br_level.default_class_chosen[var_1] - var_0 );
    var_3 = spawnstruct();
    var_3.origin = ( var_0[0], var_0[1], 11500 );
    var_3.angles = ( 0, var_2, 0 );
    var_3.cannotbesuspended = 1;
    var_4 = spawnstruct();

    if ( isdefined( self._id_12C9F ) )
        var_5 = self._id_12C9F;
    else
    {
        var_5 = "_encstr_B7C80A23E9733716DA39060C";

        if ( randomfloat( 1.0 ) > level.ph_endgame )
            var_5 = "_encstr_82F407ABC5611796BB";
    }

    var_3.targetname = var_5;

    switch ( var_5 )
    {
        case "_encstr_82F407ABC5611796BB":
            var_3.modelname = "_encstr_8F1219081D7301A282063D4B340809940D7032089946DAC23EE7CB";
            var_3.vehicletype = "_encstr_A2EE06230846DDB3";
            var_6 = _calloutmarkerping_handleluinotify_mappingdeletemarker::create_mp_version_of_vehicle( var_3, var_4 );
            break;
        case "_encstr_B7C80A23E9733716DA39060C":
            var_3.modelname = "_encstr_931619ACCF122FE3BCFF1038DB3F799B1BF92DBFE5EB09E9EF4750";
            var_3.vehicletype = "_encstr_B6100F492A5891D462B369592FEA0880A4";
            var_6 = _calloutmarkerping_isvehicleoccupiedbyenemy::bot_gametype_set_role( var_3, var_4 );
            break;
        default:
            return;
    }

    thread scripts\cp_mp\vehicles\vehicle_occupancy::vehicle_occupancy_enter( var_6, "_encstr_8C660669BA83974D", self );
}

gettangentoncirclefrompoint( var_0, var_1, var_2 )
{
    var_3 = var_2[0] - var_0[0];
    var_4 = var_2[1] - var_0[1];
    var_5 = var_1;
    var_6 = var_3 * var_3;
    var_7 = var_4 * var_4;
    var_8 = var_5 * var_5;
    var_9 = var_6 + var_7 - var_8;
    var_10 = undefined;
    var_11 = 1;

    if ( var_9 > 0 )
    {
        var_12 = ( var_8 * var_3 - var_5 * var_4 * sqrt( var_6 + var_7 - var_8 ) ) / ( var_6 + var_7 );
        var_13 = ( var_8 * var_4 + var_5 * var_3 * sqrt( var_6 + var_7 - var_8 ) ) / ( var_6 + var_7 );
        var_10 = ( var_12, var_13, var_2[2] ) + ( var_0[0], var_0[1], 0 );
    }
    else
    {
        var_14 = vectornormalize( ( var_3, var_4, 0 ) );
        var_15 = var_0 + var_14 * var_1;
        var_10 = ( var_15[0], var_15[1], var_2[2] );
        var_11 = 0;
    }

    return [ var_10, var_11 ];
}

spawnac130()
{
    if ( !istrue( level.gulag.planerespawn ) )
        return;

    level waittill( "_encstr_AA7A1187B257680BD3E29819DBEBC343CB4D05" );

    if ( !istrue( level.br_infils_disabled ) )
        wait 10;

    var_0 = undefined;
    var_1 = undefined;

    if ( isdefined( level.br_ac130 ) )
        var_0 = level.br_ac130.startpt;
    else
    {
        var_2 = _encstr_821221B201F8016365BFEEFFA1A05A4178A9EBB8DBE8C36EB69527CF4B96F7F680F3A6::createtestc130path();
        var_0 = var_2.startpt;
    }

    if ( isdefined( level.br_circle ) && isdefined( level.br_circle.safecircleent ) )
        var_1 = level.br_circle.safecircleent.origin[2];
    else
        var_1 = level.br_level.br_circleradii[0];

    var_1 = var_1 - 100;
    [var_4, var_5] = gettangentoncirclefrompoint( level.br_level.br_mapcenter, var_1, var_0 );
    var_6 = 0;
    var_7 = 0;

    if ( var_5 )
    {
        var_6 = distance( var_0, var_4 );
        var_7 = var_6 / _encstr_821221B201F8016365BFEEFFA1A05A4178A9EBB8DBE8C36EB69527CF4B96F7F680F3A6::getc130speed();
    }

    var_8 = ( level.br_level.br_mapcenter[0], level.br_level.br_mapcenter[1], var_0[2] );
    level.gulag.ac130linker = spawn( "_encstr_93DC0DCD1B272D3847AF5BED23B2C6", var_8 );
    level.gulag.ac130linker setmodel( "_encstr_8CB40B4BB398B1C0A81FDF6BEA" );
    level.gulag.ac130linker.radius = var_1;
    level.gulag.ac130 = _encstr_821221B201F8016365BFEEFFA1A05A4178A9EBB8DBE8C36EB69527CF4B96F7F680F3A6::gunship_spawn( var_0, var_4, var_7, 0, ::ac130handlemovement );
    level.gulag.ac130 thread ac130setupanim();
    level.gulag.ac130.riders = [];

    if ( var_7 <= 0 )
    {
        var_9 = var_4 - level.br_level.br_mapcenter;
        var_10 = vectornormalize( ( var_9[0], var_9[1], 0 ) );
        var_11 = vectortoangles( var_10 );
        level.gulag.ac130 unlink();
        level.gulag.ac130.angles = ( 0, var_11[1] + 90, 0 );
        level.gulag.ac130.origin = var_4;
        level.gulag.ac130 thread ac130linkandspin();
    }
}

ac130setupanim()
{
    var_0 = spawnstruct();
    self.animstruct = var_0;
    var_0.movingc130 = self;
    _encstr_A32A236E6C934B3847B95EDAE079CE85B52BE8BC38569BCB2639FAD29B995A639BC5CE9B36::spawnplayerpositionparentent( var_0, self );
    _encstr_A32A236E6C934B3847B95EDAE079CE85B52BE8BC38569BCB2639FAD29B995A639BC5CE9B36::spawnplayerpositionent( var_0, "_encstr_A6AA09A3F10362E2F9B06A" );
    _encstr_A32A236E6C934B3847B95EDAE079CE85B52BE8BC38569BCB2639FAD29B995A639BC5CE9B36::playac130infilloopanims( var_0 );
}

ac130handlemovement( var_0, var_1 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_A3750609A5E61883" );
    self playloopsound( "_encstr_88E10C2639EB58B1266618F5B1C1" );

    if ( var_1 > 0 )
    {
        self moveto( var_0, var_1, 0, 0 );
        wait( var_1 );
    }

    thread ac130linkandspin();
}

ac130linkandspin()
{
    self notify( "_encstr_82AC11C93ED972F7305FDDDF17FA15A9301490" );
    self endon( "_encstr_82AC11C93ED972F7305FDDDF17FA15A9301490" );
    level.gulag.ac130linker endon( "_encstr_A3750609A5E61883" );
    var_0 = 6.28318;
    var_1 = _encstr_821221B201F8016365BFEEFFA1A05A4178A9EBB8DBE8C36EB69527CF4B96F7F680F3A6::getc130speed();
    var_2 = level.gulag.ac130linker.radius;
    var_3 = var_0 * var_2 / var_1;
    self linkto( level.gulag.ac130linker, "_encstr_8CB40B4BB398B1C0A81FDF6BEA" );

    if ( var_3 <= 0 )
        return;

    for (;;)
    {
        level.gulag.ac130linker rotateyaw( 360, var_3 );
        wait( var_3 );
    }
}

waittillallarenasshutdown()
{
    var_0 = level.gulag.arenas.size;

    if ( !istrue( level.gulag.multiarena ) )
        var_0 = 1;

    for (;;)
    {
        var_1 = 0;

        for ( var_2 = 0; var_2 < var_0; var_2++ )
        {
            var_3 = level.gulag.arenas[var_2];

            if ( !istrue( var_3.shutdown ) )
            {
                var_1 = 1;
                break;
            }
        }

        if ( !var_1 )
            return;

        waitframe();
    }
}

makeac130flyaway()
{
    if ( !istrue( level.gulag.planerespawn ) )
        return;

    var_0 = gettime();
    waittillallarenasshutdown();
    var_1 = gettime();
    wait( getdvarint( "_encstr_8BF1176F8695A190D6570DEE6F982B6710EBE816DFA387BCF1", 15 ) );
    waittillframeend;

    foreach ( var_3 in level.gulag.ac130.riders )
    {
        if ( isdefined( var_3 ) )
        {
            var_3.jumptype = "_encstr_951805708840B2";
            var_3 notify( "_encstr_AA160FA0678C30676294760A619AC3F3B8" );
        }
    }

    while ( level.gulag.ac130.riders.size > 0 )
        waitframe();

    var_5 = level.gulag.ac130.origin;
    var_6 = anglestoforward( level.gulag.ac130.angles );
    var_7 = level.br_level.br_circleradii[0] * 2;
    var_8 = var_5 + var_6 * var_7;
    var_8 = var_8 + var_6 * _encstr_821221B201F8016365BFEEFFA1A05A4178A9EBB8DBE8C36EB69527CF4B96F7F680F3A6::getc130speed();
    var_9 = distance( var_5, var_8 );
    var_10 = var_9 / _encstr_821221B201F8016365BFEEFFA1A05A4178A9EBB8DBE8C36EB69527CF4B96F7F680F3A6::getc130speed();
    level.gulag.ac130 notify( "_encstr_82AC11C93ED972F7305FDDDF17FA15A9301490" );
    level.gulag.ac130 unlink();
    level.gulag.ac130 moveto( var_8, var_10, 0, 0 );
    wait( var_10 );
    _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::cleanac130struct( level.gulag.ac130.animstruct );

    if ( isdefined( level.gulag.ac130 ) )
        level.gulag.ac130 delete();

    if ( isdefined( level.gulag.ac130linker ) )
        level.gulag.ac130linker delete();
}

transitioncircle( var_0, var_1 )
{
    if ( !istrue( level.gulag.planerespawn ) )
        return;

    if ( !isdefined( level.gulag.ac130 ) || !isdefined( level.gulag.ac130linker ) )
        return;

    var_2 = ( level.br_circle.safecircleent.origin[0], level.br_circle.safecircleent.origin[1], level.gulag.ac130linker.origin[2] );
    var_0 = var_0 - 100;

    if ( level.gulag.ac130linker.radius != var_0 )
    {
        var_3 = vectornormalize( level.gulag.ac130linker.origin - level.gulag.ac130.origin );
        var_4 = level.gulag.ac130.origin + var_3 * var_0;
        level.gulag.ac130 unlink();
        level.gulag.ac130linker.origin = var_4;
        level.gulag.ac130linker.radius = var_0;
        level.gulag.ac130linker dontinterpolate();
        level.gulag.ac130 thread ac130linkandspin();
    }

    level.gulag.ac130linker moveto( var_2, var_1 );
    wait( var_1 );
}

playersetupac130()
{
    self.infilanimindex = 1;
    self.isjumpmaster = 0;
    _encstr_A32A236E6C934B3847B95EDAE079CE85B52BE8BC38569BCB2639FAD29B995A639BC5CE9B36::playerlinktopositionent( level.gulag.ac130.animstruct );
    thread _encstr_A32A236E6C934B3847B95EDAE079CE85B52BE8BC38569BCB2639FAD29B995A639BC5CE9B36::playerplayinfilloopanim( level.gulag.ac130.animstruct );
    thread playerputinc130( level.gulag.ac130 );
    _encstr_A32A236E6C934B3847B95EDAE079CE85B52BE8BC38569BCB2639FAD29B995A639BC5CE9B36::playersetupcontrolsforinfil( 1 );
    thread playerac130cleanup();
    thread playerautodeployaftertime();
    thread playerspawnprotectionac130();
    level.gulag.ac130.riders[level.gulag.ac130.riders.size] = self;
}

playerputinc130( var_0 )
{
    self.angles = var_0.angles;
    thread listenjump( var_0 );
    thread _encstr_821221B201F8016365BFEEFFA1A05A4178A9EBB8DBE8C36EB69527CF4B96F7F680F3A6::listenkick( var_0, 0 );
    scripts\mp\utility\game::_id_131A3( self, 1 );
    self.br_infil_type = "_encstr_B491056F996A22";
    thread _encstr_821221B201F8016365BFEEFFA1A05A4178A9EBB8DBE8C36EB69527CF4B96F7F680F3A6::orbitcam( var_0 );
}

listenjump( var_0 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    self endon( "_encstr_8B860C3A21389F4F789F4B015FC2" );
    self endon( "_encstr_8B7D08BE1ACF92E53D69" );
    self.redeployenabled = 0;
    scripts\engine\utility::waittill_either( "_encstr_980C0F1B5183D887A41320D0A9BE131B4A", "_encstr_A6BE14C8A363FFB06BCBCD7B808227824A214A2A3F89" );
    self.jumptype = "_encstr_951805708840B2";
    thread _encstr_821221B201F8016365BFEEFFA1A05A4178A9EBB8DBE8C36EB69527CF4B96F7F680F3A6::leaveplane( var_0, 0, self getplayerangles(), 0 );
}

playerspawnprotectionac130()
{
    self endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    self.plotarmor = 1;
    _encstr_821221B201F8016365BFEEFFA1A05A4178A9EBB8DBE8C36EB69527CF4B96F7F680F3A6::setplayervarinrespawnc130( 1 );
    waittillplayerdoneskydivingac130( self );
    self.plotarmor = undefined;
    _encstr_821221B201F8016365BFEEFFA1A05A4178A9EBB8DBE8C36EB69527CF4B96F7F680F3A6::setplayervarinrespawnc130( 0 );
}

waittillplayerdoneskydivingac130( var_0 )
{
    var_0 endon( "_encstr_B8E0143BD01D5F7D40F3D907B561FF974758363F02A9" );
    thread _waittillplayerdoneskydivingac130timeout( var_0 );
    var_0 waittill( "_encstr_821910A115F894637890B33AFB509BCD50FB" );

    while ( !var_0 isparachuting() && !var_0 isonground() )
        waitframe();
}

_waittillplayerdoneskydivingac130timeout( var_0 )
{
    var_0 endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    var_0 scripts\engine\utility::_id_143BA( getdvarint( "_encstr_8BF1176F8695A190D6570DEE6F982B6710EBE816DFA387BCF1", 15 ), "_encstr_AA160FA0678C30676294760A619AC3F3B8", "_encstr_A6BE14C8A363FFB06BCBCD7B808227824A214A2A3F89" );
    wait 15;
    var_0 notify( "_encstr_B8E0143BD01D5F7D40F3D907B561FF974758363F02A9" );
}

playerautodeployaftertime()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_A3750609A5E61883" );
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    self endon( "_encstr_8B860C3A21389F4F789F4B015FC2" );
    self endon( "_encstr_8B7D08BE1ACF92E53D69" );
    wait( getdvarint( "_encstr_8BF1176F8695A190D6570DEE6F982B6710EBE816DFA387BCF1", 15 ) );
    self.jumptype = "_encstr_951805708840B2";
    self notify( "_encstr_AA160FA0678C30676294760A619AC3F3B8" );
}

playerac130cleanup()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    scripts\engine\utility::_id_143A7( "_encstr_8A820B4696CDB1ED3737AC1B3A", "_encstr_A3750609A5E61883", "_encstr_8B860C3A21389F4F789F4B015FC2", "_encstr_821910A115F894637890B33AFB509BCD50FB" );

    if ( !isdefined( level.gulag.ac130.riders ) )
        return;

    if ( isdefined( self ) )
        level.gulag.ac130.riders = scripts\engine\utility::array_remove( level.gulag.ac130.riders, self );
    else
        level.gulag.ac130.riders = scripts\engine\utility::array_removeundefined( level.gulag.ac130.riders );
}

playergulagautowin( var_0, var_1, var_2, var_3, var_4 )
{
    var_5 = self;
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    var_5 endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    var_5 notify( "_encstr_9CE80F273F2A5FC8A7A6AB83CD7F9083A2" );

    if ( istrue( var_5.respawningfromtoken ) )
        return;

    [var_7, var_8] = var_5 _id_125C7( var_1, var_2, var_4, undefined, var_0 );
    var_5.respawningfromtoken = 1;
    var_9 = var_5 _id_126E8();
    var_10 = _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::relic_nuketimer_gettimeformission() / 1000;
    var_11 = var_5 _id_125BE( 0, var_10 );
    var_12 = var_5 _id_1263E( var_11 );
    self.forcespawnorigin = var_12;
    var_13 = _encstr_AD64266E6CE44B1CD19B97B53897D9B0B62B1DBC389537F2139CBE7658D6AC8E2F3895DC17B3DC8D::_id_12E05( "_encstr_B389175910B322D92AD77F511E3F61E3AD9841D3C02756387C", var_1, var_2 );

    if ( !istrue( var_13 ) )
    {
        var_14 = 1.0;
        wait( var_14 );
    }

    if ( var_9 )
        var_5 scripts\mp\utility\lower_message::setlowermessageomnvar( 0 );

    var_15 = 1.0;
    var_5 gulagfadetoblack( 1 );
    wait( var_15 );
    var_5 scripts\mp\hud_message::heartbeat_sensor_pick_up_monitor();
    var_5 scripts\mp\playerlogic::spawnplayer( undefined, 0 );
    var_5 scripts\cp_mp\execution::_clearexecution();
    var_5 _encstr_823124376CE42DC11DCD5EB6E0CB3BB0ADAC3A2FE056CDBC314EAF83A536DAAB079BE2D9B9B1::initplayer();
    var_5 _encstr_B2E4252B3FAB9B1009F38F29237E449729C578A17B25C3F279A3502A7A02C66C77330DD01FE027::_id_1252A();
    var_5.respawningfromtoken = undefined;

    if ( !isdefined( var_1 ) && !istrue( var_3 ) )
        var_5 thread _id_13DCB( 4 );

    var_5.plotarmor = undefined;
    var_5.c130 = undefined;

    if ( !isdefined( var_5._id_145BF ) )
        var_5 _id_126F3( var_2 );

    var_5 gulagwinnerrespawn( 1, var_8, var_11, 1, var_12, undefined, var_7, var_4 );
}

_id_125C7( var_0, var_1, var_2, var_3, var_4 )
{
    var_5 = self;
    var_6 = var_5;
    var_7 = "_encstr_B67D0638F7A2B5E0";

    if ( isdefined( var_0 ) )
    {
        var_8 = istrue( var_5.delay_enter_combat_after_investigating_grenade ) && !isalive( var_5 ) && istrue( var_5._id_14439 );
        var_6 = var_0;
        var_7 = "_encstr_809110348850AFAD8FB023EA60EF253B49E5";

        if ( !istrue( var_3 ) )
        {
            if ( istrue( var_1 ) )
                var_9 = 6;
            else
                var_9 = 10;

            var_5 thread _id_13DCB( var_9 );
        }
    }

    if ( isdefined( var_0 ) || istrue( var_2 ) )
    {
        var_5 scripts\mp\playerlogic::addtoalivecount( var_4 );
        _encstr_97571CC31EE30FBA499B665A8327B7E7F8F54C512FA93F150D207EF2F097::_id_13F21( var_5, var_4 );
    }

    _encstr_890626F852FABB63A30BE831E0264973E59A7820FB57C7D0C312D83FC647500B0BA248E8766F3F91::destroyawardlaunchonly( var_5, var_7 );
    _encstr_890626F852FABB63A30BE831E0264973E59A7820FB57C7D0C312D83FC647500B0BA248E8766F3F91::devspectatetesthost( self, int( isdefined( var_0 ) ) );

    if ( istrue( var_6.hasrespawntoken ) )
        var_6 _encstr_823124376CE42DC11DCD5EB6E0CB3BB0ADAC3A2FE056CDBC314EAF83A536DAAB079BE2D9B9B1::removerespawntoken();

    return [ var_6, var_7 ];
}

_id_126E8()
{
    var_0 = self;
    var_1 = istrue( var_0._id_12876 );

    if ( var_1 )
    {
        var_0 scripts\mp\utility\lower_message::setlowermessageomnvar( 76 );

        while ( istrue( var_0._id_12876 ) )
            waitframe();
    }

    return var_1;
}

gulaginitloadouts()
{
    level.gulag.vehicle_compass_deregisterinstance = init_relic_punchbullets();
    init_relic_rocket_kill_ammo();
}

init_relic_punchbullets()
{
    var_0 = [];
    var_0["_encstr_872D11D1FF892130152B9EE3788CA51CCBFBCF"] = "_encstr_A6B3120F05CFBC15435ADB2FF1F723E338B88B13";
    var_0["_encstr_87C30FC410893345733089A330AB3E9362"] = "_encstr_9BED0AA307609154C76BDB23";
    var_0["_encstr_B44319C6DB5832DEAE3A289C965B2CC95E141DA32C36A1D65673A3"] = "_encstr_AABA05236DC831";
    var_0["_encstr_A9651AE2C897BBF598D1103A83303EBBC3A5DBEB917E43AD20FD4C62"] = "_encstr_AABA05236DC831";
    var_0["_encstr_B66C1363F658327BD53A419396B558E49786B0B5DB"] = "_encstr_AABA05236DC831";
    var_0["_encstr_8702161410EA292F7BB321E36172F3866033F7BCB96F09A9"] = "_encstr_AABA05236DC831";
    var_0["_encstr_A14E11D520C0AC320551FF3F67206AE4782B08"] = "_encstr_AABA05236DC831";
    var_0["_encstr_9D6F1B6C48D16B2D1B48D18AC817252389AEF1395DDBC7F6C968BA3218"] = "_encstr_AABA05236DC831";
    var_0["_encstr_BDDB1C6590701C82D5812FCF97F0DA54285B58A66B70A19AA35BFFEBD106"] = "_encstr_AABA05236DC831";
    var_0["_encstr_A2EA151BD081D44253851297663F0A9C2980C73F48F807"] = "_encstr_AABA05236DC831";
    var_0["_encstr_82B618ABEA2661705BBB2A415B6D7332AB2AD71F9D3880AE324D"] = "_encstr_AABA05236DC831";
    var_0["_encstr_879C11A537D2DA37230B19FA98E96581D0A55B"] = "_encstr_AABA05236DC831";
    var_0["_encstr_B3A418C6F61691DB5747A2175796C1D6B27347824E96B6854E5E"] = "_encstr_9F620BBB936058F7A8A518563F";
    var_0["_encstr_AA781A89AF4749179393F168BBACE1A08F460DEE3DE7904DBFAA4020"] = "_encstr_AABA05236DC831";
    var_0["_encstr_A31B12E09AEF5518032CF7A1326F20AA4393FB49"] = "_encstr_973508BF93EFFBC363B3";
    var_0["_encstr_BAE713C8CFE03C60079B6BE3E83B5FEC7AAAF917B3"] = "_encstr_AABA05236DC831";
    var_0["_encstr_A1E71363923EA180A70CDA33FC2BCB59229AD0B0DF"] = "_encstr_AABA05236DC831";
    var_0["_encstr_B9E71363DEC291F6ABD196961B63DCE8935616B6CC"] = "_encstr_AABA05236DC831";
    var_0["_encstr_B6920DDA60DB0FAFA33D538DD74913"] = "_encstr_B4841137EA83594EF5899CBECA1EA34E0B8DA3";
    var_0["_encstr_ABCB0DBA7BBB6FCFC35D303D7628F7"] = [ "_encstr_B99C0FF382C5B813BA035133B732658894" ];
    var_0["_encstr_A4450FEB472A87A2834C172243E0E538F8"] = "_encstr_A83C0BF7F4ABABC79045FE5807";
    var_0["_encstr_B2E611340FC91DE80B835BA377BA4DC32BC0A8"] = "_encstr_AABA05236DC831";
    return var_0;
}

init_relic_rocket_kill_ammo()
{
    level.set_relic_thirdperson = [];
    level.set_relic_trex = give_and_switch_to_secondary_weapon();

    if ( getdvar( "_encstr_BAB21EDB6F38793B8E56B29B586F772160CF41549FF87B07386BEAF3A3B3B367" ) != "_encstr_A40101" )
    {
        var_0 = strtok( getdvar( "_encstr_BAB21EDB6F38793B8E56B29B586F772160CF41549FF87B07386BEAF3A3B3B367" ), "_encstr_884C02C6" );
        var_1 = [];

        for ( var_2 = 0; var_2 < var_0.size; var_2++ )
            var_1[var_1.size] = int( var_0[var_1.size] );

        var_3 = var_1.size;

        for ( var_4 = 0; var_4 < var_3; var_4++ )
            level.set_relic_thirdperson[level.set_relic_thirdperson.size] = init_relic_oneclip( var_1[var_4] );
    }
    else
    {
        var_3 = tablelookupgetnumcols( level.set_relic_trex ) - 1;

        for ( var_4 = 0; var_4 < var_3; var_4++ )
            level.set_relic_thirdperson[level.set_relic_thirdperson.size] = init_relic_oneclip( var_4 );
    }
}

give_and_switch_to_secondary_weapon()
{
    var_0 = getdvarint( "_encstr_9F671CCABE9D3F3EEB6FA8858D871FF7611E4E50405F98CB4D9833432797", 0 );

    if ( var_0 )
    {
        if ( var_0 == 444 )
        {
            if ( randomint( 2 ) == 0 )
                return "_encstr_87FC1FB5835EC61BC2379B1D0B313695FA2693AF9DD563857646C4C84C8BD8CDD9";
            else
                return "_encstr_8BEC1FD6075EC6D80BDCB9472C98C656EB13C9EBECD51B2CEC32983246B81BE6B3";
        }
        else
            return "_encstr_9DAD178823CFB101C2127E85EE8A7939D7F3F8A1D74DA8D38A" + var_0 + "_encstr_B4A705622FCB1B";
    }

    var_1 = randomint( 1337 ) + 1;

    if ( var_1 == 1337 )
        return "_encstr_BE891DD9729EAFE80197C8E8C75AA0EBE19ECE480F9369B1EF969232A7633B";

    var_2 = randomint( 100 ) + 1;

    if ( var_2 > 90 )
        return "_encstr_9BE71CB05AD78859B67E83F9576B208F29DA6BD86A8855B99C23265303BB";
    else if ( var_2 > 65 )
        return "_encstr_880D1C823AEF90E05F836FBB9BFA8873593522FEBF35F016CA075E9FAB85";
    else if ( var_2 > 40 )
        return "_encstr_A6021C9B83B6F628318A33EB361AE03D69235D7747BBC9184FF290015AD6";
    else
        return "_encstr_9EF91CE8834D4F8D17EB269DD133481B09CA68F16A739979F7B1801EBB3B";

    return "_encstr_9EF91CE8834D4F8D17EB269DD133481B09CA68F16A739979F7B1801EBB3B";
}

init_relic_oneclip( var_0 )
{
    var_1["_encstr_872D11D1FF892130152B9EE3788CA51CCBFBCF"] = "_encstr_A6B3120F05CFBC15435ADB2FF1F723E338B88B13";
    var_1["_encstr_87C30FC410893345733089A330AB3E9362"] = tablelookup( level.set_relic_trex, 0, "_encstr_87C30FC410893345733089A330AB3E9362", var_0 + 1 );
    var_1["_encstr_B44319C6DB5832DEAE3A289C965B2CC95E141DA32C36A1D65673A3"] = tablelookup( level.set_relic_trex, 0, "_encstr_94651A11EA2624975393525AE1A05B428861639BB366B038A16273AB", var_0 + 1 );
    var_1["_encstr_A9651AE2C897BBF598D1103A83303EBBC3A5DBEB917E43AD20FD4C62"] = tablelookup( level.set_relic_trex, 0, "_encstr_A9651AE2C897BBF598D1103A83303EBBC3A5DBEB917E43AD20FD4C62", var_0 + 1 );
    var_1["_encstr_9B651AD8DE0B23B7EA4705E4B46B58E4CBA0E8D10B8DA15BB2E6A366"] = tablelookup( level.set_relic_trex, 0, "_encstr_9B651AD8DE0B23B7EA4705E4B46B58E4CBA0E8D10B8DA15BB2E6A366", var_0 + 1 );
    var_1["_encstr_AF651A79955A81A835EBB1B8877521E563B6EDFDEE9241D00DEB9882"] = tablelookup( level.set_relic_trex, 0, "_encstr_AF651A79955A81A835EBB1B8877521E563B6EDFDEE9241D00DEB9882", var_0 + 1 );
    var_1["_encstr_B3651A1BB70B32B7EA1DA0E4A5B51639E5823A47B0D80DB5AC37476A"] = tablelookup( level.set_relic_trex, 0, "_encstr_B3651A1BB70B32B7EA1DA0E4A5B51639E5823A47B0D80DB5AC37476A", var_0 + 1 );
    var_1["_encstr_B66C1363F658327BD53A419396B558E49786B0B5DB"] = tablelookup( level.set_relic_trex, 0, "_encstr_B66C1363F658327BD53A419396B558E49786B0B5DB", var_0 + 1 );
    var_1["_encstr_8702161410EA292F7BB321E36172F3866033F7BCB96F09A9"] = tablelookup( level.set_relic_trex, 0, "_encstr_8702161410EA292F7BB321E36172F3866033F7BCB96F09A9", var_0 + 1 );
    var_1["_encstr_A14E11D520C0AC320551FF3F67206AE4782B08"] = tablelookup( level.set_relic_trex, 0, "_encstr_A14E11D520C0AC320551FF3F67206AE4782B08", var_0 + 1 );
    var_1["_encstr_9D6F1B6C48D16B2D1B48D18AC817252389AEF1395DDBC7F6C968BA3218"] = tablelookup( level.set_relic_trex, 0, "_encstr_8BDB1C36ED85C8DEAEA34DCAC6DBE69185E4CB053A1D2C6C1A6BB2B98E89", var_0 + 1 );
    var_1["_encstr_BDDB1C6590701C82D5812FCF97F0DA54285B58A66B70A19AA35BFFEBD106"] = tablelookup( level.set_relic_trex, 0, "_encstr_BDDB1C6590701C82D5812FCF97F0DA54285B58A66B70A19AA35BFFEBD106", var_0 + 1 );
    var_1["_encstr_B9DB1C8DED2C32B7EA47A9B26CBDB932B0E42F28E88EB036A1D695734766"] = tablelookup( level.set_relic_trex, 0, "_encstr_B9DB1C8DED2C32B7EA47A9B26CBDB932B0E42F28E88EB036A1D695734766", var_0 + 1 );
    var_1["_encstr_A9DB1C7580600C92E5B11FDF8780CA44184BA8B65B60D1AAB3ABCFFBC115"] = tablelookup( level.set_relic_trex, 0, "_encstr_A9DB1C7580600C92E5B11FDF8780CA44184BA8B65B60D1AAB3ABCFFBC115", var_0 + 1 );
    var_1["_encstr_9BDB1C1A306F733D4019AB65CF6885BB870BC370FBBD1F7680039566C992"] = tablelookup( level.set_relic_trex, 0, "_encstr_9BDB1C1A306F733D4019AB65CF6885BB870BC370FBBD1F7680039566C992", var_0 + 1 );
    var_1["_encstr_A2EA151BD081D44253851297663F0A9C2980C73F48F807"] = tablelookup( level.set_relic_trex, 0, "_encstr_A2EA151BD081D44253851297663F0A9C2980C73F48F807", var_0 + 1 );
    var_1["_encstr_82B618ABEA2661705BBB2A415B6D7332AB2AD71F9D3880AE324D"] = tablelookup( level.set_relic_trex, 0, "_encstr_82B618ABEA2661705BBB2A415B6D7332AB2AD71F9D3880AE324D", var_0 + 1 );
    var_1["_encstr_879C11A537D2DA37230B19FA98E96581D0A55B"] = "_encstr_AABA05236DC831";
    var_1["_encstr_B3A418C6F61691DB5747A2175796C1D6B27347824E96B6854E5E"] = tablelookup( level.set_relic_trex, 0, "_encstr_B3A418C6F61691DB5747A2175796C1D6B27347824E96B6854E5E", var_0 + 1 );
    var_1["_encstr_AA781A89AF4749179393F168BBACE1A08F460DEE3DE7904DBFAA4020"] = tablelookup( level.set_relic_trex, 0, "_encstr_AA781A89AF4749179393F168BBACE1A08F460DEE3DE7904DBFAA4020", var_0 + 1 );
    var_1["_encstr_A31B12E09AEF5518032CF7A1326F20AA4393FB49"] = "_encstr_973508BF93EFFBC363B3";
    var_1["_encstr_BAE713C8CFE03C60079B6BE3E83B5FEC7AAAF917B3"] = "_encstr_AABA05236DC831";
    var_1["_encstr_A1E71363923EA180A70CDA33FC2BCB59229AD0B0DF"] = "_encstr_AABA05236DC831";
    var_1["_encstr_B9E71363DEC291F6ABD196961B63DCE8935616B6CC"] = "_encstr_AABA05236DC831";
    var_1["_encstr_B6920DDA60DB0FAFA33D538DD74913"] = "_encstr_AABA05236DC831";
    var_1["_encstr_ABCB0DBA7BBB6FCFC35D303D7628F7"] = [ tablelookup( level.set_relic_trex, 0, "_encstr_B4CB0D5CEF382F8785CB490213D2B6", var_0 + 1 ), tablelookup( level.set_relic_trex, 0, "_encstr_80CB0DC6B7168CBDEAE80A2BE4B546", var_0 + 1 ), tablelookup( level.set_relic_trex, 0, "_encstr_B2CB0DC410893345733089D2E8A7AA", var_0 + 1 ), tablelookup( level.set_relic_trex, 0, "_encstr_ABEA1259B57AA188158B7988934A0181429A427F", var_0 + 1 ), tablelookup( level.set_relic_trex, 0, "_encstr_AAEA12B1DBB046BDBAD1510FD14E85A09539DA19", var_0 + 1 ), tablelookup( level.set_relic_trex, 0, "_encstr_82EA128DF61632F6EA8E511ED1C91641AC4E6DCC", var_0 + 1 ) ];
    var_1["_encstr_A4450FEB472A87A2834C172243E0E538F8"] = "_encstr_A83C0BF7F4ABABC79045FE5807";
    var_1["_encstr_B4D10C68572DE2F2365763B5D9BD"] = var_0;
    return var_1;
}

playergivearenaloadout( var_0, var_1 )
{
    if ( getdvarint( "_encstr_B34713B6D62BB7497287C0F09FB42003F27D2DBDAA", 1 ) == 0 )
        return;

    self.pers["_encstr_A2FB10AFE391259857B908783F59C26F5BEB"] = level.set_relic_thirdperson[var_1];
    gethightestpriotiryactiveburnstate( var_1 );
    self.class = "_encstr_87AC099DB05B59ADF619AC";
    self.prevweaponobj = undefined;
    var_2 = scripts\mp\class::loadout_getclassstruct();
    var_2 = scripts\mp\class::loadout_updateclass( var_2, "_encstr_87AC099DB05B59ADF619AC" );
    scripts\mp\class::preloadandqueueclassstruct( var_2, 1, 1 );
    scripts\mp\class::giveloadout( self.team, "_encstr_87AC099DB05B59ADF619AC", 0, 0 );
    self givestartammo( var_2.loadoutprimaryobject );

    if ( isdefined( var_2.loadoutsecondaryobject ) )
        self givestartammo( var_2.loadoutsecondaryobject );

    self.set_relic_team_proximity = level.set_relic_thirdperson[var_1]["_encstr_B4D10C68572DE2F2365763B5D9BD"];
    _id_12687( var_0, "_encstr_A3670BBA7BBB6FCFC35D3237F4", self.set_relic_team_proximity );
}

gethightestpriotiryactiveburnstate( var_0 )
{
    if ( getdvarint( "_encstr_BE8413D6B64BD72912275828936780FF525F58540F", 0 ) )
    {
        switch ( var_0 )
        {
            case 0:
                var_1 = "_encstr_80FE0D5ABB70D71C4B7D322B1B1ADE";
                break;
            case 1:
                var_1 = "_encstr_8A900D2DEEE0EB83A5AF6CE0C238B0";
                break;
            case 2:
                var_1 = "_encstr_80FE0D5ABB70D71C4B7D322B1B1ADE";
                break;
            case 3:
                var_1 = "_encstr_8A900D2DEEE0EB83A5AF6CE0C238B0";
                break;
            case 4:
                var_1 = "_encstr_80FE0D5ABB70D71C4B7D322B1B1ADE";
                break;
            case 5:
                var_1 = "_encstr_8A900D2DEEE0EB83A5AF6CE0C238B0";
                break;
            case 6:
                var_1 = "_encstr_80FE0D5ABB70D71C4B7D322B1B1ADE";
                break;
            case 7:
                var_1 = "_encstr_8A900D2DEEE0EB83A5AF6CE0C238B0";
                break;
            case 8:
                var_1 = "_encstr_80FE0D5ABB70D71C4B7D322B1B1ADE";
                break;
            case 9:
            default:
                var_1 = "_encstr_8A900D2DEEE0EB83A5AF6CE0C238B0";
        }

        self.pers["_encstr_A2FB10AFE391259857B908783F59C26F5BEB"]["_encstr_87C30FC410893345733089A330AB3E9362"] = var_1;
        self.pers["_encstr_A2FB10AFE391259857B908783F59C26F5BEB"]["_encstr_B44319C6DB5832DEAE3A289C965B2CC95E141DA32C36A1D65673A3"] = "_encstr_AABA05236DC831";
        self.pers["_encstr_A2FB10AFE391259857B908783F59C26F5BEB"]["_encstr_A9651AE2C897BBF598D1103A83303EBBC3A5DBEB917E43AD20FD4C62"] = "_encstr_AABA05236DC831";
        self.pers["_encstr_A2FB10AFE391259857B908783F59C26F5BEB"]["_encstr_9B651AD8DE0B23B7EA4705E4B46B58E4CBA0E8D10B8DA15BB2E6A366"] = "_encstr_AABA05236DC831";
        self.pers["_encstr_A2FB10AFE391259857B908783F59C26F5BEB"]["_encstr_AF651A79955A81A835EBB1B8877521E563B6EDFDEE9241D00DEB9882"] = "_encstr_AABA05236DC831";
        self.pers["_encstr_A2FB10AFE391259857B908783F59C26F5BEB"]["_encstr_B3651A1BB70B32B7EA1DA0E4A5B51639E5823A47B0D80DB5AC37476A"] = "_encstr_AABA05236DC831";
        self.pers["_encstr_A2FB10AFE391259857B908783F59C26F5BEB"]["_encstr_A14E11D520C0AC320551FF3F67206AE4782B08"] = "_encstr_AABA05236DC831";
        self.pers["_encstr_A2FB10AFE391259857B908783F59C26F5BEB"]["_encstr_9D6F1B6C48D16B2D1B48D18AC817252389AEF1395DDBC7F6C968BA3218"] = "_encstr_AABA05236DC831";
        self.pers["_encstr_A2FB10AFE391259857B908783F59C26F5BEB"]["_encstr_BDDB1C6590701C82D5812FCF97F0DA54285B58A66B70A19AA35BFFEBD106"] = "_encstr_AABA05236DC831";
        self.pers["_encstr_A2FB10AFE391259857B908783F59C26F5BEB"]["_encstr_B9DB1C8DED2C32B7EA47A9B26CBDB932B0E42F28E88EB036A1D695734766"] = "_encstr_AABA05236DC831";
        self.pers["_encstr_A2FB10AFE391259857B908783F59C26F5BEB"]["_encstr_A9DB1C7580600C92E5B11FDF8780CA44184BA8B65B60D1AAB3ABCFFBC115"] = "_encstr_AABA05236DC831";
        self.pers["_encstr_A2FB10AFE391259857B908783F59C26F5BEB"]["_encstr_9BDB1C1A306F733D4019AB65CF6885BB870BC370FBBD1F7680039566C992"] = "_encstr_AABA05236DC831";
        self.pers["_encstr_A2FB10AFE391259857B908783F59C26F5BEB"]["_encstr_ABCB0DBA7BBB6FCFC35D303D7628F7"] = [ "_encstr_B99C0FF382C5B813BA035133B732658894" ];
    }
}

getloadoutindex()
{
    if ( getdvarint( "_encstr_B34713B6D62BB7497287C0F09FB42003F27D2DBDAA", 1 ) == 0 )
        return;

    var_0 = getdvarint( "_encstr_A2791AA383FE9F617347B2B7F924E750891F6B9188EEBA6A266059F7", -1 );

    if ( var_0 > -1 && var_0 < level.set_relic_thirdperson.size )
        return var_0;

    if ( getdvar( "_encstr_BAB21EDB6F38793B8E56B29B586F772160CF41549FF87B07386BEAF3A3B3B367" ) != "_encstr_A40101" )
    {
        if ( !isdefined( level.set_relic_team_proximity ) || level.set_relic_team_proximity >= level.set_relic_thirdperson.size )
            level.set_relic_team_proximity = 0;

        var_1 = level.set_relic_team_proximity;
        level.set_relic_team_proximity = level.set_relic_team_proximity + 1;
    }
    else
        var_1 = randomint( level.set_relic_thirdperson.size );

    return var_1;
}

_id_1428F( var_0 )
{
    var_0 endon( "_encstr_B6CC0B06B0BA136BC960264763" );
    var_0 endon( "_encstr_89240B8DD351988869D6475D69" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    var_1 = level.gulag.timelimit;
    level.gulag.timelimit = 180;
    iprintln( "_encstr_9C8D2C6CA8318BCDFBA8069BD80D844BE806C9EC3398DB46DF801AD378133D1769FB5E3076C967DFA740F2AA58C5" );
    wait 3.0;
    iprintln( "_encstr_891F1459B227B4992DD8B0D15AF6E602CD3A164E8E24" );

    for ( var_2 = 0; var_2 < level.set_relic_thirdperson.size; var_2++ )
    {
        iprintln( "_encstr_9BC20A26F65832DBAB47D110" + var_2 );
        playergivearenaloadout( var_0, var_2 );
        wait 5.0;
        scripts\cp_mp\utility\inventory_utility::_switchtoweapon( self.secondaryweapon );
        wait 4.0;
    }

    playergivearenaloadout( var_0, 0 );
    level.gulag.timelimit = var_1;
    iprintln( "_encstr_B9B71349811697AF708729248B18F5FAB57842E2E1" );
}

_id_1323A( var_0 )
{
    var_1 = getdvarint( "_encstr_A6FF16FF7B8AE93EC3F13199197BE1C067EF4553E434F0FE", 50 );
    var_0.managevehiclehealthui = spawnstruct();
    var_2 = getgroundposition( var_0.center, 1 );
    var_0.managevehiclehealthui.trigger = spawn( "_encstr_9E6B0FE8274B9DD92BC9D7278591B4D5E6", var_2, 0, int( var_1 ), int( level.defend_wave_3 ) );
    var_3 = _encstr_9E7F211898C28383CB8760E558BF27EB18E74BB010797A7D47017210081F958AA85B5F::setupobjective( var_0.managevehiclehealthui.trigger, "_encstr_9BA4080D39CFFB5AB7C1", undefined, 1 );
    var_3.onuse = ::arenaflag_onuse;
    var_3.onbeginuse = ::arenaflag_onusebegin;
    var_3.onenduse = ::arenaflag_onuseend;
    var_3.onuseupdate = ::arenaflag_onuseupdate;
    var_3.oncontested = ::arenaflag_oncontested;
    var_3.isarena = 1;
    var_3 scripts\mp\gameobjects::pinobjiconontriggertouch();
    var_3.id = "_encstr_8FD9082F7548D1BB9A8F";
    var_3 scripts\mp\gameobjects::setcapturebehavior( "_encstr_9FFC0B7398FBCB2A27FD974DE5" );
    var_3.scriptable delete();
    var_3.ignorestomp = 1;
    var_3 scripts\mp\gameobjects::requestid( 0, 1, undefined, 0, 0 );
    var_3.visibilitymanuallycontrolled = 1;
    var_3 calloutmarkerping_watchwhenobjectivedeleted( 0 );
    var_3 calloutmarkerping_watchwhenobjectivestartsprogress( var_0, 0 );
    var_3.arena = var_0;
    var_0.managevehiclehealthui.arenaflag = var_3;
}

mark_remaining_as_died_poorly( var_0 )
{
    wait 1.0;

    if ( isdefined( var_0 ) && isdefined( var_0.managevehiclehealthui ) && isdefined( var_0.managevehiclehealthui.arenaflag ) && isdefined( var_0.managevehiclehealthui.arenaflag.flagmodel ) )
        return;
}

calloutmarkerping_watchwhenobjectivedeleted( var_0 )
{
    if ( var_0 )
    {
        scripts\mp\gameobjects::allowuse( "_encstr_BC19047780DA" );
        self.trigger scripts\engine\utility::trigger_on();
    }
    else
    {
        scripts\mp\gameobjects::allowuse( "_encstr_AABA05236DC831" );
        self.trigger scripts\engine\utility::trigger_off();
        scripts\mp\gameobjects::resetcaptureprogress();
    }
}

calloutmarkerping_watchwhenobjectivestartsprogress( var_0, var_1, var_2, var_3 )
{
    self notify( "_encstr_9798158B831A78581E454981A1F3A0ADC11727036B32B5" );

    if ( var_1 )
    {
        var_4 = "_encstr_B6B118EE58F207B7B4DC47EB1BC28347AE93B2B956D5D14E0BD8";

        if ( istrue( var_2 ) )
            var_4 = level.squadspawndebug;

        thread calloutmarkerping_squadleaderbeaconshouldcreate( var_0 );
        thread scripts\mp\gameobjects::setobjectivestatusicons( var_4 );
        thread scripts\mp\gameobjects::setownerteam( "_encstr_9BA4080D39CFFB5AB7C1" );
        thread _encstr_9E7F211898C28383CB8760E558BF27EB18E74BB010797A7D47017210081F958AA85B5F::updateflagstate( "_encstr_9BC505B4461BB2", 0, "_encstr_AABA05236DC831" );
        self.flagmodel show();
        thread calloutmarkerpingvo_createcalloutbattlechatter( var_0, 1 );

        if ( !istrue( var_2 ) )
        {
            _id_13193( var_0, 1 );
            return;
        }
    }
    else
        thread calloutmarkerpingvo_calculatesounddebouncelength( var_0, var_2, var_3 );
}

calloutmarkerpingvo_calculatesounddebouncelength( var_0, var_1, var_2 )
{
    self endon( "_encstr_9798158B831A78581E454981A1F3A0ADC11727036B32B5" );

    if ( !istrue( var_2 ) )
    {
        objective_setpinned( self.objidnum, 0 );
        wait 1;
    }

    thread calloutmarkerpingvo_createcalloutbattlechatter( var_0, 0 );
    thread calloutmarkerping_squadleaderbeaconplayerfirstlanded( var_2 );
    thread _encstr_9E7F211898C28383CB8760E558BF27EB18E74BB010797A7D47017210081F958AA85B5F::updateflagstate( "_encstr_9819045FD029", 0, "_encstr_AABA05236DC831" );
    self.flagmodel hide( 1 );

    if ( !istrue( var_1 ) )
    {
        _id_13193( var_0, 0 );
        _id_13194( var_0, 0 );
    }
}

calloutmarkerpingvo_canplaywithspamavoidance( var_0, var_1 )
{
    var_1 endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );

    if ( var_0 )
    {
        var_1 setclientomnvar( "_encstr_B91417AE4BF57B9D594E3AB46BB2EB1D5AB6AC9CFA9BA1B7DD", 1 );
        objective_addclienttomask( self.objidnum, var_1 );
    }
    else
    {
        objective_unpinforclient( self.objidnum, var_1 );
        wait 1;
        var_1 setclientomnvar( "_encstr_B91417AE4BF57B9D594E3AB46BB2EB1D5AB6AC9CFA9BA1B7DD", 0 );
        objective_removeclientfrommask( self.objidnum, var_1 );
    }

    thread calloutmarkerpingvo_debouncegarbagecollector( var_0, var_1 );
}

calloutmarkerping_watchplayerdeathordisconnect( var_0, var_1 )
{
    thread calloutmarkerping_watchwhenobjectivestartsprogress( var_0, 1, 1 );
    wait( var_1 );
    thread calloutmarkerping_watchwhenobjectivestartsprogress( var_0, 0, 1, 1 );
}

calloutmarkerping_squadleaderbeaconshouldcreate( var_0 )
{
    objective_removeallfrommask( self.objidnum );

    foreach ( var_2 in var_0.jailedplayers )
        objective_addclienttomask( self.objidnum, var_2 );

    foreach ( var_2 in var_0.arenaplayers )
        objective_addclienttomask( self.objidnum, var_2 );

    objective_showtoplayersinmask( self.objidnum );
}

calloutmarkerping_squadleaderbeaconplayerfirstlanded( var_0 )
{
    objective_setshowprogress( self.objidnum, 0 );
    objective_removeallfrommask( self.objidnum );
    objective_showtoplayersinmask( self.objidnum );
}

calloutmarkerpingvo_createcalloutbattlechatter( var_0, var_1 )
{
    if ( var_1 )
    {
        if ( var_0.jailedplayers.size > 0 )
            self.flagmodel hudoutlineenableforclients( var_0.jailedplayers, "_encstr_8CA117D5B5F9D271D008578B40C9355B8143514D9E7B2A8759" );

        if ( var_0.arenaplayers.size > 0 )
            self.flagmodel hudoutlineenableforclients( var_0.arenaplayers, "_encstr_8CA117D5B5F9D271D008578B40C9355B8143514D9E7B2A8759" );
    }
    else
    {
        if ( var_0.jailedplayers.size > 0 )
            self.flagmodel hudoutlinedisableforclients( var_0.jailedplayers );

        if ( var_0.arenaplayers.size > 0 )
            self.flagmodel hudoutlinedisableforclients( var_0.arenaplayers );
    }
}

calloutmarkerpingvo_debouncegarbagecollector( var_0, var_1 )
{
    if ( var_0 )
        self.flagmodel hudoutlineenableforclient( var_1, "_encstr_8CA117D5B5F9D271D008578B40C9355B8143514D9E7B2A8759" );
    else
        self.flagmodel hudoutlinedisableforclient( var_1 );
}

arenaflag_onusebegin( var_0 )
{
    var_1 = getdvarint( "_encstr_B9151C6E1B27FA989CEB33B1FA338D58D9AF6C5883A3D539957D475AB6CA", 3.0 );
    var_0.iscapturing = 1;
    var_2 = scripts\mp\gameobjects::getownerteam();

    if ( var_2 == "_encstr_9BA4080D39CFFB5AB7C1" )
        var_0 setclientomnvar( "_encstr_8038139574D9F7694A8F08A8A78E415FE3DB079DCF", 1 );

    self.neutralizing = istrue( level.flagneutralization ) && var_2 != "_encstr_9BA4080D39CFFB5AB7C1";

    if ( !istrue( self.neutralized ) )
        self.didstatusnotify = 0;

    var_3 = var_1;
    scripts\mp\gameobjects::setusetime( var_3 );

    if ( istrue( level.capturedecay ) )
        thread scripts\mp\gameobjects::useobjectdecay( var_0.team );

    if ( var_3 > 0 )
    {
        foreach ( var_5 in self.arena.arenaplayers )
        {
            if ( var_5 != var_0 && var_5.team != var_0.team )
            {
                self.prevownerteam = var_5.team;
                break;
            }
        }

        _encstr_9E7F211898C28383CB8760E558BF27EB18E74BB010797A7D47017210081F958AA85B5F::updateflagcapturestate( var_0.team );
        scripts\mp\gameobjects::setobjectivestatusicons( "_encstr_A40710BBB02F07B7D2E6D1BE8E165B2D73CE", "_encstr_9302101F7763CF80699D83FE0547A88BAAC7" );
    }
}

arenaflag_onuseupdate( var_0, var_1, var_2, var_3 )
{
    var_4 = scripts\mp\gameobjects::getownerteam();

    if ( var_1 > 0.05 && var_2 && !self.didstatusnotify )
        self.didstatusnotify = 1;
}

arenaflag_onuseend( var_0, var_1, var_2 )
{
    self.didstatusnotify = 0;

    if ( var_2 )
        scripts\mp\objidpoolmanager::objective_show_progress( self.objidnum, 0 );

    if ( isplayer( var_1 ) )
    {
        var_1.iscapturing = 0;
        var_1 setclientomnvar( "_encstr_8038139574D9F7694A8F08A8A78E415FE3DB079DCF", 0 );
        var_1.ui_dom_securing = undefined;
    }

    var_3 = scripts\mp\gameobjects::getownerteam();

    if ( var_3 == "_encstr_9BA4080D39CFFB5AB7C1" )
    {
        scripts\mp\gameobjects::setobjectivestatusicons( "_encstr_B6B118EE58F207B7B4DC47EB1BC28347AE93B2B956D5D14E0BD8" );
        thread _encstr_9E7F211898C28383CB8760E558BF27EB18E74BB010797A7D47017210081F958AA85B5F::updateflagstate( "_encstr_9BC505B4461BB2", 0 );
    }
    else
    {
        scripts\mp\gameobjects::setobjectivestatusicons( "_encstr_944B10F7CF52BBADA31823A97083A7A7E825", "_encstr_B69A11DBA05BBA1FB0A0E4D7CE59AB43BBD062" );
        thread _encstr_9E7F211898C28383CB8760E558BF27EB18E74BB010797A7D47017210081F958AA85B5F::updateflagstate( var_3, 0 );
    }

    if ( !var_2 )
        self.neutralized = 0;
}

calloutmarkerping_watchwhenmissioncompletes( var_0, var_1 )
{
    scripts\mp\gameobjects::setownerteam( var_0 );
    self notify( "_encstr_9EEB08EFAF2B15984A67", var_1 );
    self notify( "_encstr_973508BF93EFFBC363B3", var_1 );
    scripts\mp\gameobjects::setobjectivestatusicons( "_encstr_9DE3132797E138B81B68C36FCB2D77234DF5E475E0", "_encstr_B69A11DBA05BBA1FB0A0E4D7CE59AB43BBD062" );
    self.neutralized = 0;
    thread _encstr_9E7F211898C28383CB8760E558BF27EB18E74BB010797A7D47017210081F958AA85B5F::updateflagstate( var_0, 0, var_0 );

    if ( self.touchlist[var_0].size == 0 && isdefined( self.oldtouchlist ) )
        self.touchlist = self.oldtouchlist;

    foreach ( var_3 in self.arena.arenaplayers )
    {
        if ( var_3 != var_1 && var_3.team != var_0 && isdefined( self.assisttouchlist[var_3.team] ) )
        {
            self.assisttouchlist[var_3.team] = [];
            break;
        }
    }
}

arenaflag_onuse( var_0 )
{
    var_1 = var_0.team;
    self.capturetime = gettime();
    self.neutralized = 0;
    calloutmarkerping_watchwhenmissioncompletes( var_1, var_0 );

    if ( !self.neutralized )
    {
        foreach ( var_3 in self.arena.arenaplayers )
        {
            if ( isalive( var_3 ) && var_3.team != var_1 )
                var_3 thread set_respawn_loc_delayed( self.arena );
        }

        thread handleendarena( self.arena );
        self.firstcapture = 0;
    }
}

arenaflag_oncontested()
{
    scripts\mp\gameobjects::setobjectivestatusicons( "_encstr_873B13BB58F20EBDD273E8F5367B37E82BB9472BC8" );
    scripts\mp\objidpoolmanager::objective_set_progress_team( self.objidnum, undefined );
    thread _encstr_9E7F211898C28383CB8760E558BF27EB18E74BB010797A7D47017210081F958AA85B5F::updateflagstate( "_encstr_BD5C0ACEA59A91D903BB4878", 0 );
}

registercontrolledcallback( var_0, var_1 )
{
    var_2 = 0;
    var_3 = 0;
    var_4 = "_encstr_A40101";

    switch ( var_0 )
    {
        case "_encstr_9FDA0DD34D92303F05406BB7CD5927":
            [var_2, var_3, var_4] = [ 0, 8, "_encstr_A9B6165D96BE1339BEECD5C685B3AFE036855EB2E4CDEB13" ];
            var_1 = var_1 + 1;
            break;
        case "_encstr_93DA0DC163162FB227A09CAC73B013":
            [var_2, var_3, var_4] = [ 8, 8, "_encstr_A9B6165D96BE1339BEECD5C685B3AFE036855EB2E4CDEB13" ];
            var_1 = var_1 + 1;
            break;
        case "_encstr_98700CBBD87BE827E382C1F1B983":
            [var_2, var_3, var_4] = [ 16, 8, "_encstr_A9B6165D96BE1339BEECD5C685B3AFE036855EB2E4CDEB13" ];
            var_1 = var_1 + 1;
            break;
        case "_encstr_9C700CA8E1F937972D91AA22C8C3":
            [var_2, var_3, var_4] = [ 24, 8, "_encstr_A9B6165D96BE1339BEECD5C685B3AFE036855EB2E4CDEB13" ];
            var_1 = var_1 + 1;
            break;
        case "_encstr_A3670BBA7BBB6FCFC35D3237F4":
            [var_2, var_3, var_4] = [ 0, 8, "_encstr_A27C116389686B63D6A7838B1A2F877883046E" ];
            var_1 = var_1 + 1;
            break;
        case "_encstr_8B430E83D858BC56C9425916364743C0":
            [var_2, var_3, var_4] = [ 8, 8, "_encstr_A27C116389686B63D6A7838B1A2F877883046E" ];
            break;
        case "_encstr_AF430EF0514FB97DCEB4550E98333887":
            [var_2, var_3, var_4] = [ 16, 8, "_encstr_A27C116389686B63D6A7838B1A2F877883046E" ];
            break;
        default:
            break;
    }

    return [ var_2, var_3, var_4, var_1 ];
}

_id_121B3( var_0, var_1, var_2, var_3, var_4 )
{
    var_5 = int( pow( 2, var_4 ) ) - 1;
    var_6 = ( var_2 & var_5 ) << var_3;
    var_7 = ~( var_5 << var_3 );
    var_8 = var_0._id_11FCF[var_1];
    var_9 = var_8 & var_7;
    var_10 = var_9 + var_6;
    var_0._id_11FCF[var_1] = var_10;
}

_id_13125( var_0, var_1, var_2 )
{
    [var_4, var_5, var_6, var_2] = registercontrolledcallback( var_1, var_2 );

    if ( var_6 == "_encstr_A40101" )
        return;

    _id_121B3( var_0, var_6, var_2, var_4, var_5 );
}

_id_13127( var_0, var_1, var_2 )
{
    var_3 = -1;

    if ( isdefined( var_2 ) )
        var_3 = var_2 getentitynumber();

    _id_13125( var_0, var_1, var_3 );
}

_id_13126( var_0, var_1, var_2 )
{
    var_3 = 0;

    if ( isdefined( var_2 ) )
        var_3 = var_2.health;

    _id_13125( var_0, var_1, var_3 );
}

_id_13FC1( var_0 )
{
    var_0._id_11FCF["_encstr_A9B6165D96BE1339BEECD5C685B3AFE036855EB2E4CDEB13"] = 0;

    for ( var_1 = 0; var_1 < level.gulag.maxplayers; var_1++ )
    {
        var_2 = var_0.arenaplayers[var_1];
        _id_13127( var_0, "_encstr_B77C0CE0C6582FCA935039569B16" + var_1, var_2 );
    }

    var_3 = var_0.matches[0];

    if ( !isdefined( var_3 ) )
        var_3 = [];

    _id_13127( var_0, "_encstr_98700CBBD87BE827E382C1F1B983", var_3[0] );
    _id_13127( var_0, "_encstr_9C700CA8E1F937972D91AA22C8C3", var_3[1] );
    var_4 = scripts\engine\utility::array_combine( var_0.jailedplayers, var_0.arenaplayers );

    foreach ( var_2 in var_4 )
    {
        var_2 setclientomnvar( "_encstr_A9B6165D96BE1339BEECD5C685B3AFE036855EB2E4CDEB13", var_0._id_11FCF["_encstr_A9B6165D96BE1339BEECD5C685B3AFE036855EB2E4CDEB13"] );

        foreach ( var_11, var_7 in var_0.matches )
        {
            if ( isdefined( var_7[0] ) && var_2 == var_7[0] || isdefined( var_7[1] ) && var_2 == var_7[1] )
            {
                var_8 = !updatelootleadermarks( var_0, var_2 );
                var_9 = var_11 + 1;
                var_10 = var_8 + ( var_9 << 1 );
                var_2 setclientomnvar( "_encstr_B1721BE543690E533049FB729174AF8240337D7D97B895AFC303324A18", var_10 );
                break;
            }
        }
    }
}

_id_1267A( var_0 )
{
    self setclientomnvar( "_encstr_A27C116389686B63D6A7838B1A2F877883046E", var_0._id_11FCF["_encstr_A27C116389686B63D6A7838B1A2F877883046E"] );
}

_id_13FC0( var_0 )
{
    _id_12C6B( var_0 );

    for ( var_1 = 0; var_1 < level.gulag.maxplayers; var_1++ )
    {
        var_2 = var_0.arenaplayers[var_1];
        _id_13126( var_0, "_encstr_9B120DB2ADB9E2C28323226F6273F9" + var_1, var_2 );
    }

    foreach ( var_2 in var_0.jailedplayers )
        var_2 _id_1267A( var_0 );

    foreach ( var_2 in var_0.arenaplayers )
        var_2 _id_1266D( var_0 );
}

_id_12C6B( var_0 )
{
    var_0._id_11FCF["_encstr_A27C116389686B63D6A7838B1A2F877883046E"] = 0;
}

_id_1266D( var_0 )
{
    if ( !isdefined( self.set_relic_team_proximity ) )
        self setclientomnvar( "_encstr_A27C116389686B63D6A7838B1A2F877883046E", var_0._id_11FCF["_encstr_A27C116389686B63D6A7838B1A2F877883046E"] );
    else
        _id_12687( var_0, "_encstr_A3670BBA7BBB6FCFC35D3237F4", self.set_relic_team_proximity );
}

_id_12687( var_0, var_1, var_2 )
{
    [var_4, var_5, var_6, var_2] = registercontrolledcallback( var_1, var_2 );

    if ( var_6 == "_encstr_A40101" )
        return;

    _id_1260F( var_0, var_6, var_2, var_4, var_5 );
}

_id_1260F( var_0, var_1, var_2, var_3, var_4 )
{
    var_5 = int( pow( 2, var_4 ) ) - 1;
    var_6 = ( var_2 & var_5 ) << var_3;
    var_7 = ~( var_5 << var_3 );
    var_8 = var_0._id_11FCF[var_1];
    var_9 = var_8 & var_7;
    var_10 = var_9 + var_6;
    self setclientomnvar( var_1, var_10 );
}

_id_14009( var_0 )
{
    _id_13FC1( var_0 );
    _id_13FC0( var_0 );
}

_id_12526( var_0 )
{
    var_1 = getarraykeys( var_0._id_11FCF );

    foreach ( var_3 in var_1 )
        self setclientomnvar( var_3, 0 );

    self setclientomnvar( "_encstr_8BD112337F2968508D727BD05D75E11DA2F79B85", 0 );
    self setclientomnvar( "_encstr_B91417AE4BF57B9D594E3AB46BB2EB1D5AB6AC9CFA9BA1B7DD", 0 );
}

_id_13194( var_0, var_1 )
{
    foreach ( var_3 in var_0.arenaplayers )
        var_3 setclientomnvar( "_encstr_8BD112337F2968508D727BD05D75E11DA2F79B85", var_1 );

    foreach ( var_3 in var_0.jailedplayers )
        var_3 setclientomnvar( "_encstr_8BD112337F2968508D727BD05D75E11DA2F79B85", var_1 );
}

_id_13193( var_0, var_1 )
{
    foreach ( var_3 in var_0.arenaplayers )
        var_3 setclientomnvar( "_encstr_B91417AE4BF57B9D594E3AB46BB2EB1D5AB6AC9CFA9BA1B7DD", var_1 );

    foreach ( var_3 in var_0.jailedplayers )
        var_3 setclientomnvar( "_encstr_B91417AE4BF57B9D594E3AB46BB2EB1D5AB6AC9CFA9BA1B7DD", var_1 );
}

_id_125CC( var_0 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    self endon( "_encstr_A1ED0A8F0388B66F5851E24A" );
    var_1 = "_encstr_8B430E83D858BC56C9425916364743C0";

    if ( var_0.arenaplayers[0] != self )
        var_1 = "_encstr_AF430EF0514FB97DCEB4550E98333887";

    for (;;)
    {
        _id_13FC0( var_0 );

        if ( self.health <= 0 )
            return;

        scripts\engine\utility::_id_143AA( "_encstr_B8BE07320B5B16ECAC", "_encstr_AACA134BA89BBB8A5FDEB72F4DD542520198EFE718", "_encstr_ADD1116A8F7B9F23D741D98515838A100B0D2A", "_encstr_8BB507A15985365923", "_encstr_B62110386F59580B61DF9F93DB2943C8FE44", "_encstr_B4B00A67B0DA83B49C969B5B", "_encstr_9B6F0FDC8316DDE62B8CF507C616CB599C" );
    }
}

_id_1263C()
{
    if ( level.gulag.trial_target_civilian_killed_func && !isbot( self ) )
    {
        var_0 = relic_amped_pick_new_victim();
        self stopcinematicforplayer( var_0 );
    }
}

_id_12617()
{
    if ( level.gulag.trial_target_civilian_killed_func && !isbot( self ) )
    {
        self setclientomnvar( "_encstr_A64819A340B70312BF8A6378BF56A00B9D06F94041E66B01E113EF", 1 );
        var_0 = scripts\mp\music_and_dialog::reset_attack_next_available_time( "_encstr_88870FCAA3406FAB98C36F4FCB5033F3F0" );
        self setplayermusicstate( var_0 );

        if ( _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::tutorial_playsound() )
            self setsoundsubmix( "_encstr_B96F16333F6748F8822111AB157918807B9FB1B7B31A2FD0", 0.5 );
        else
            self setsoundsubmix( "_encstr_82CE2DD59F5AADD95CF5DE715D3140D281074979CF92EBF0650AA3AE050D081BFA97CBF5DB9936A8AAA42BC32FC462", 0.5 );

        var_1 = relic_amped_pick_new_victim();
        self playcinematicforplayerlooping( var_1 );
        self._id_12742 = 1;
    }
    else
        gulagloadingtext();
}

_id_12694()
{
    self setclientomnvar( "_encstr_A64819A340B70312BF8A6378BF56A00B9D06F94041E66B01E113EF", 2 );
}

_id_126EA( var_0 )
{
    if ( level.gulag.trial_target_civilian_killed_func && !isbot( self ) && !self calloutmarkerping_getactive() )
    {
        self freezecontrols( 1 );
        allplayers_setfov( var_0 );
        self freezecontrols( 0 );
        self setclientomnvar( "_encstr_A64819A340B70312BF8A6378BF56A00B9D06F94041E66B01E113EF", 5 );
        self skydive_cutparachuteon();
        self._id_12742 = undefined;
    }
}

allplayers_setfov( var_0 )
{
    self endon( "_encstr_81300EBE08504BE9A6CFBFC3215DA3BD" );
    var_1 = relic_amped_paused();

    while ( gettime() - var_0 < var_1 && !self crouchbuttonpressed() && !self usebuttonpressed() && !self jumpbuttonpressed() )
        waitframe();
}

_id_12521( var_0, var_1 )
{
    if ( var_0 == "_encstr_81300EBE08504BE9A6CFBFC3215DA3BD" )
        self notify( "_encstr_81300EBE08504BE9A6CFBFC3215DA3BD" );
}

_id_125EB()
{
    if ( scripts\mp\utility\game::getgametype() != "_encstr_9507034B25" )
        return 0;

    var_0 = self weaponswitchbuttonpressed( "_encstr_A64819A340B70312BF8A6378BF56A00B9D06F94041E66B01E113EF" );

    if ( var_0 != 0 && var_0 != 6 )
        return 1;

    return 0;
}

_id_125EA()
{
    var_0 = self weaponswitchbuttonpressed( "_encstr_A64819A340B70312BF8A6378BF56A00B9D06F94041E66B01E113EF" );
    return var_0 == 7;
}

_id_12522()
{
    self setclientomnvar( "_encstr_A64819A340B70312BF8A6378BF56A00B9D06F94041E66B01E113EF", 7 );
}

_id_12523( var_0 )
{
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    self endon( "_encstr_A3F21F83D2D7525F6E6778F209533903CFB0AFB309C7217FA5BF28C3BE553DA5AD" );

    if ( _id_125EB() )
    {
        if ( isdefined( var_0 ) )
            wait( var_0 );

        if ( getdvarint( "_encstr_AA851886A628F9BA3D416E38D35BA938F05A156CD97061C8C23F", 0 ) == 1 )
        {
            logstring( "_encstr_8F141DA8167F0162E3C138532A0608552369026B9B06E80659C39893F492F4" );
            logstring( "_encstr_A48D0C89B9ADBE0AD80BF2CA2701" + self.name + "_encstr_9DD21D7EDB382F4A5EDFD3F7958AC147A8A162F5F1CBE793B5BBB3DF710AFE" + self weaponswitchbuttonpressed( "_encstr_A64819A340B70312BF8A6378BF56A00B9D06F94041E66B01E113EF", 0 ) );
        }

        self setclientomnvar( "_encstr_A64819A340B70312BF8A6378BF56A00B9D06F94041E66B01E113EF", 6 );
        wait 1;
        self setclientomnvar( "_encstr_A64819A340B70312BF8A6378BF56A00B9D06F94041E66B01E113EF", 0 );
    }
}

relic_amped_pick_new_victim()
{
    if ( level.mapname == "_encstr_95AC0D21E8E77355713A28D8D25511" || istrue( level.gulag.untrack_enemy ) )
        return "_encstr_9CD617D683AFDDE9BED29B630BE646D73B57B1583BD7B10D66";
    else if ( scripts\cp_mp\utility\game_utility::turretdisabled() )
    {
        if ( scripts\cp_mp\utility\game_utility::turretlightsonstate() )
            return "_encstr_A4BA1793B213D29CD1D07D385BEB3BD53685CEAF96734739B7";
        else
            return "_encstr_B93A14B35031E9A361BB41471D69AAAF3EA84BD380C8";
    }
    else if ( istrue( level.gulag._id_11F19 ) )
        return "_encstr_A82B1890FB29C9E8B3752DA6434FD1A34D724879023D51835FCA";
    else
        return "_encstr_A9711729D0DF297735E218587A012F434B69A48851F3D3955D";
}

relic_amped_paused()
{
    if ( level.mapname == "_encstr_95AC0D21E8E77355713A28D8D25511" )
        return 35000;
    else if ( istrue( level.gulag._id_11F19 ) )
        return 35000;
    else
        return 17000;
}

_id_1322E( var_0, var_1 )
{
    if ( !level.gulag._id_14069 )
        return;

    if ( !isdefined( var_1.target ) )
        return;

    var_2 = getentarray( var_1.target, "_encstr_B8CE0BE43FC317DF690862BA48" );

    if ( var_2.size > 1 )
        level.gulag._id_14069 = 0;
    else
    {
        var_1.door = getent( var_1.target, "_encstr_B8CE0BE43FC317DF690862BA48" );

        if ( isdefined( var_1.door ) )
        {
            var_1.door.closed = 1;
            var_3 = getent( var_1.door.target, "_encstr_B8CE0BE43FC317DF690862BA48" );
            var_3 delete();
            var_4 = anglestoforward( var_1.door.angles );
            var_1.door.heli_rpg_enemy_run_away = var_1.door.origin;
            var_1.door._id_1212B = var_1.door.origin + var_4 * 60;
        }
    }
}

_id_14069( var_0 )
{
    return level.gulag._id_14069 && var_0.get_wave_spawn_total.size > 0;
}

_id_12C7A()
{
    var_0 = self;
    var_0.fastcrouchspeedmod = 0;
    var_0 scripts\mp\weapons::updatemovespeedscale();
}

#using_animtree("_encstr_93DC0DCD1B272D3847AF5BED23B2C6");

#using_animtree("_encstr_A40101");

#using_animtree("_encstr_A40101");

#using_animtree("_encstr_A40101");

#using_animtree("_encstr_A40101");

#using_animtree("_encstr_A40101");

_id_1251A( var_0, var_1 )
{
    if ( !level.gulag.getaccessorylogicbyindex )
        return;

    self endon( "_encstr_A2A21B388DC297593986A1B0A59390E45685D6DBAEE80D8D592CDCBA1C" );
    var_2 = var_1.chair;
    self playerhide();
    self showtoplayer( self );
    var_3 = spawn( "_encstr_BEFE0C06A30BE829D321D0703A2A", var_2.origin, 0, 0, self );
    var_3.angles = var_2.angles;
    var_3 useanimtree( #animtree );
    var_3 hide();
    var_3 showtoplayer( self );
    self._id_12651 = var_3;
    var_4 = spawn( "_encstr_93DC0DCD1B272D3847AF5BED23B2C6", var_2.origin );
    var_4.angles = var_2.angles;
    var_4 setmodel( "_encstr_872C1451E79BC1B116BA19B2C88DA70F31B78F5C2A86" );
    var_4 useanimtree( #animtree );
    var_4 hide();
    var_4 showtoplayer( self );
    self.straps = var_4;
    self setorigin( var_2.origin );
    self playerlinktoabsolute( var_3, "_encstr_BA010BA012DFB703A379A39542" );
    _id_1251C( 1 );
    thread _id_1251D( var_3, var_4 );
    self playanimscriptsceneevent( "_encstr_BD850F6F3758D7F0B377D3691BD1C79D8F", "_encstr_97D51B8F5D68670767C84AD2F0557113C3CD110BF893FBC1E748C29BA3" );
    var_3 animscripted( "_encstr_897606B1A1B0D227", var_2.origin, var_2.angles, %_encstr_B4B525C74482E1A1D3F9E953326F6C295ECA635BE3ADC8754753421EFFBF1E283622D9AF80D538 );
    var_3 scriptmodelplayanim( "_encstr_B4B525C74482E1A1D3F9E953326F6C295ECA635BE3ADC8754753421EFFBF1E283622D9AF80D538" );
    var_4 animscripted( "_encstr_897606B1A1B0D227", var_2.origin, var_2.angles, %_encstr_A81B2803109337518AC65FE3BC3727110EFA27D1E7607B3B413C985797816F90A7C0D0DF1F2B9B3F09E6 );
    var_4 scriptmodelplayanim( "_encstr_A81B2803109337518AC65FE3BC3727110EFA27D1E7607B3B413C985797816F90A7C0D0DF1F2B9B3F09E6" );
    var_3 waittillmatch( "_encstr_897606B1A1B0D227", "_encstr_B41804CA7391" );
    thread _id_1251E();
    self playerlinkto( var_3, "_encstr_BA010BA012DFB703A379A39542", 0, 30, 30, 45, 60, 0 );
    var_3 hide();
    var_3 showtoplayer( self );
    _id_12600( var_3, var_4, var_2 );
    self playanimscriptsceneevent( "_encstr_BD850F6F3758D7F0B377D3691BD1C79D8F", "_encstr_A2221AF77BF0CE0730C92AA290FEAF4678336973F790531FC58232FB" );
    var_3 animscripted( "_encstr_897606B1A1B0D227", var_2.origin, var_2.angles, %_encstr_ABE3246E2393FAD607FAD95DC685767D319CAC2CB67BD5A3FADD3DBE91F559E14BD17D38B139 );
    var_3 scriptmodelplayanim( "_encstr_ABE3246E2393FAD607FAD95DC685767D319CAC2CB67BD5A3FADD3DBE91F559E14BD17D38B139" );
    var_4 animscripted( "_encstr_897606B1A1B0D227", var_2.origin, var_2.angles, %_encstr_88832726A5733E35E036943543B7B0A7B3D8FFC1AF174395C77460A6A2AFF0485A60F17B73E25B4AAA );
    var_4 scriptmodelplayanim( "_encstr_88832726A5733E35E036943543B7B0A7B3D8FFC1AF174395C77460A6A2AFF0485A60F17B73E25B4AAA" );
    var_3 waittillmatch( "_encstr_897606B1A1B0D227", "_encstr_B41804CA7391" );
    thread _id_1251B( var_3, var_4 );
}

#using_animtree("_encstr_A40101");

#using_animtree("_encstr_A40101");

_id_12600( var_0, var_1, var_2 )
{
    self endon( "_encstr_A2A21B388DC297593986A1B0A59390E45685D6DBAEE80D8D592CDCBA1C" );
    self endon( "_encstr_B66E0E1B8658B4930939950BB6BD5DE8" );

    for (;;)
    {
        self playanimscriptsceneevent( "_encstr_BD850F6F3758D7F0B377D3691BD1C79D8F", "_encstr_8A5E1A49A7FC77C76FF668E1E3DA699D8077D9585F1D6B208C8708B8" );
        var_0 animscripted( "_encstr_897606B1A1B0D227", var_2.origin, var_2.angles, %_encstr_9D32245E8C23062BEA0938A0D246E7DECB22EDDFEB2F0B51199328E90F91B99027C878CF74F3 );
        var_0 scriptmodelplayanim( "_encstr_9D32245E8C23062BEA0938A0D246E7DECB22EDDFEB2F0B51199328E90F91B99027C878CF74F3" );
        var_1 animscripted( "_encstr_897606B1A1B0D227", var_2.origin, var_2.angles, %_encstr_81F8272E59CB3F08C999D04742B367BF182092D104B893433737224776F92B6F7D7B39F0087D11E152 );
        var_1 scriptmodelplayanim( "_encstr_81F8272E59CB3F08C999D04742B367BF182092D104B893433737224776F92B6F7D7B39F0087D11E152" );
        var_0 waittillmatch( "_encstr_897606B1A1B0D227", "_encstr_B41804CA7391" );
    }
}

_id_1251E()
{
    self endon( "_encstr_A2A21B388DC297593986A1B0A59390E45685D6DBAEE80D8D592CDCBA1C" );
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    wait 1;

    for (;;)
    {
        if ( isdefined( self ) )
        {
            var_0 = self getnormalizedmovement();

            if ( self usebuttonpressed() || self jumpbuttonpressed() || var_0[0] > 0.5 || var_0[1] > 0.5 )
                break;
        }

        waitframe();
    }

    self playerlinktoabsolute( self._id_12651, "_encstr_BA010BA012DFB703A379A39542" );
    self._id_12651 hide();
    self._id_12651 showtoplayer( self );
    self.straps hide();
    self.straps showtoplayer( self );
    self notify( "_encstr_B66E0E1B8658B4930939950BB6BD5DE8" );
}

_id_1251F()
{
    _id_1251B( self._id_12651, self.straps );
}

_id_1251B( var_0, var_1 )
{
    if ( !level.gulag.getaccessorylogicbyindex )
        return;

    if ( !isdefined( self._id_12651 ) )
        return;

    if ( isdefined( self ) )
    {
        self unlink();
        self stopanimscriptsceneevent();
        self playershow( 1 );
        _id_1251C( 0 );
        self._id_12651 = undefined;
        self.straps = undefined;
        self notify( "_encstr_A2A21B388DC297593986A1B0A59390E45685D6DBAEE80D8D592CDCBA1C" );
    }

    var_0 delete();
    var_1 delete();
}

_id_1251D( var_0, var_1 )
{
    self endon( "_encstr_A2A21B388DC297593986A1B0A59390E45685D6DBAEE80D8D592CDCBA1C" );
    self waittill( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    thread _id_1251B( var_0, var_1 );
}

_id_1251C( var_0 )
{
    if ( var_0 )
        self disableweapons();
    else
        self enableweapons();

    var_1 = !var_0;
    self allowmelee( var_1 );
    self allowfire( var_1 );
}

reset_minigun_shot_count( var_0 )
{
    if ( isdefined( var_0.getactiveforteam ) )
    {
        var_0.getactiveforteam++;
        var_0.getactiveforteam = var_0.getactiveforteam % var_0.getactiveteamcount.size;
    }
    else
        var_0.getactiveforteam = 0;

    var_1 = var_0.getactiveteamcount[var_0.getactiveforteam];
    return var_1;
}

_id_1327F()
{
    if ( !istrue( level.gulag._id_142FB ) )
        return;

    level.gulag.hud_y_offset = [];
    var_0 = 0;
    level.gulag.hud_y_offset[var_0] = spawnstruct();
    level.gulag.hud_y_offset[var_0].brclampdamagealtmodegg = "_encstr_AF14220463B6D3CA8BB163EABA97C7C788478F87711B3B17A1480AC11BD1BE1B233D020F";
    level.gulag.hud_y_offset[var_0].aliases = [ 10, 20, 30, 40 ];
    level.gulag.hud_y_offset[var_0].ks_circledelaytime = [ 1, 1, 1, 0 ];
    var_0++;
    level.gulag.hud_y_offset[var_0] = spawnstruct();
    level.gulag.hud_y_offset[var_0].brclampdamagealtmodegg = "_encstr_AF14220463B6D3CA8BB163EABA97C7C788478F87711B3B17A1480AC11BD1BE1B233D020F";
    level.gulag.hud_y_offset[var_0].aliases = [ 90, 100, 110 ];
    level.gulag.hud_y_offset[var_0].ks_circledelaytime = [ 1, 1, 0 ];
    var_0++;
    level.gulag.hud_y_offset[var_0] = spawnstruct();
    level.gulag.hud_y_offset[var_0].brclampdamagealtmodegg = "_encstr_AA1F1F79E8A7E8C6D277F5C3EAD984E83C068196D6CEC0708B4BCFEB8F025828F7";
    level.gulag.hud_y_offset[var_0].aliases = [ 10 ];
    level.gulag.hud_y_offset[var_0].ks_circledelaytime = [ 0 ];
    var_0++;
    level.gulag.hud_y_offset[var_0] = spawnstruct();
    level.gulag.hud_y_offset[var_0].brclampdamagealtmodegg = "_encstr_AA1F1F79E8A7E8C6D277F5C3EAD984E83C068196D6CEC0708B4BCFEB8F025828F7";
    level.gulag.hud_y_offset[var_0].aliases = [ 20 ];
    level.gulag.hud_y_offset[var_0].ks_circledelaytime = [ 0 ];
    var_0++;
    level.gulag.hud_y_offset[var_0] = spawnstruct();
    level.gulag.hud_y_offset[var_0].brclampdamagealtmodegg = "_encstr_AA1F1F79E8A7E8C6D277F5C3EAD984E83C068196D6CEC0708B4BCFEB8F025828F7";
    level.gulag.hud_y_offset[var_0].aliases = [ 30 ];
    level.gulag.hud_y_offset[var_0].ks_circledelaytime = [ 0 ];
    var_0++;
    level.gulag.hud_y_offset[var_0] = spawnstruct();
    level.gulag.hud_y_offset[var_0].brclampdamagealtmodegg = "_encstr_AA1F1F79E8A7E8C6D277F5C3EAD984E83C068196D6CEC0708B4BCFEB8F025828F7";
    level.gulag.hud_y_offset[var_0].aliases = [ 40 ];
    level.gulag.hud_y_offset[var_0].ks_circledelaytime = [ 0 ];
    var_0++;
    level.gulag.hud_y_offset[var_0] = spawnstruct();
    level.gulag.hud_y_offset[var_0].brclampdamagealtmodegg = "_encstr_9C431C604809DE78813F9A711767E70BB96A0F5988DF9FD8AE4963F80FA1";
    level.gulag.hud_y_offset[var_0].aliases = [ 10 ];
    level.gulag.hud_y_offset[var_0].ks_circledelaytime = [ 0 ];
    var_0++;
    level.gulag.hud_y_offset[var_0] = spawnstruct();
    level.gulag.hud_y_offset[var_0].brclampdamagealtmodegg = "_encstr_9C431C604809DE78813F9A711767E70BB96A0F5988DF9FD8AE4963F80FA1";
    level.gulag.hud_y_offset[var_0].aliases = [ 20, 30, 40, 50, 60, 20, 70, 80, 90, 80, 20, 30, 100, 110 ];
    level.gulag.hud_y_offset[var_0].ks_circledelaytime = [ 0.5, 1.0, 1.5, 0.7, 0.3, 1.0, 0.4, 0.8, 1.0, 0.5, 1.0, 1.5, 2.0, 0 ];
    var_0++;
    level.gulag.hud_y_offset = scripts\engine\utility::array_randomize( level.gulag.hud_y_offset );
}

_id_13882( var_0 )
{
    if ( !istrue( level.gulag._id_142FB ) || var_0._id_12D93.size == 0 )
        return;

    var_0._id_142FA = spawn( "_encstr_93DC0DCD1B272D3847AF5BED23B2C6", var_0.origin );
    var_0._id_142FA setmodel( "_encstr_8CB40B4BB398B1C0A81FDF6BEA" );
    var_1 = randomint( level.gulag.hud_y_offset.size );
    var_2 = randomint( var_0._id_12D93.size );

    for (;;)
    {
        _id_14407();

        while ( var_0.jailedplayers.size == 0 )
            waitframe();

        var_5 = var_0._id_12D93[var_2];
        var_6 = level.gulag.hud_y_offset[var_1];
        var_0._id_142FA.origin = var_5.origin;
        var_0._id_142FA dontinterpolate();
        waitframe();

        for ( var_7 = 0; var_7 < var_6.aliases.size; var_7++ )
        {
            var_8 = var_6.brclampdamagealtmodegg + var_6.aliases[var_7];
            var_0._id_142FA playsoundonmovingent( var_8 );
            var_9 = lookupsoundlength( var_8, 1 ) / 1000.0;
            var_10 = var_6.ks_circledelaytime[var_7] + var_9;
            wait( var_10 );
        }

        var_2 = randomint( var_0._id_12D93.size );
        var_1++;

        if ( var_1 >= level.gulag.hud_y_offset.size )
            var_1 = 0;
    }
}

_id_14407()
{
    var_0 = getdvarint( "_encstr_986F178BA05D613BE308C7EDB9A9E7B98D28D20208AFA54F18", 90 );
    var_1 = getdvarint( "_encstr_B16F177616EB7789B2C788AB13F9613F13BDE3F66FD1CBD190", 180 );
    var_2 = randomfloatrange( var_0, var_1 );
    wait( var_2 );
}
