// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

init()
{
    level._effect["_encstr_B85B09D0A51D7D1BAC333A"] = loadfx( "_encstr_B69B23CB98596D2F70AEF5A7C619A3079B30C64320F139534818F7E4C840970B47B8EAFAD8" );
    level._effect["_encstr_BA670AC05A1B6850E4DF6141"] = loadfx( "_encstr_8B1D249DCC87BC6CF6275679DC8DC9B295E6CB6733F0AFC4B1B7BD8CBE0D4BE8EB395A3B1A3A" );
    level._effect["_encstr_82580C0AF0018F47267EB0CA1F8A"] = loadfx( "_encstr_9E5926CECC3C798D7B392B97DC6C39CAB2E6976799C37DAD5963ACAC7DC463F6BD917D9B07395897" );
    level._effect["_encstr_B2DD14D9E2DBBE20D1642B178587B8F62F8B30219ABB"] = loadfx( "_encstr_BC61366733C3CBD2BB1CBCDD592C1CE5AF965BC1851BE8BC998DCA9B43976733E1EBC8D2E6DA59D64CCA93FAADCA8D562BD7BB5916E07BCD" );
    scripts\cp_mp\utility\script_utility::registersharedfunc( "_encstr_A2F40B7F9B329A401770EDA6BF", "_encstr_A6DA1852E156DBBBDBED937F500BB51F8C41FDC9CF70780348A3", scripts\mp\equipment\flash_grenade::calculateinterruptdelay );
    scripts\cp_mp\utility\script_utility::registersharedfunc( "_encstr_A2F40B7F9B329A401770EDA6BF", "_encstr_82631D4FB808AB9B376E843DD86BE264B1B8F39FD8E3C4C2710F887FBDFD0A", scripts\mp\equipment\concussion_grenade::calculateinterruptdelay );
    scripts\cp_mp\utility\script_utility::registersharedfunc( "_encstr_A2F40B7F9B329A401770EDA6BF", "_encstr_9FC616BC71DF3CC50372B8A06B5AB9D5FF14372BEE6FCD27", scripts\mp\equipment\gas_grenade::gas_getblurinterruptdelayms );
    scripts\cp_mp\utility\script_utility::registersharedfunc( "_encstr_A2F40B7F9B329A401770EDA6BF", "_encstr_808F1CB0C20A31B73389D8C549B39BEBB21BE0D82B6F5B283FA9C44576BF", scripts\mp\laststand::getshellshockinterruptdelayms );
}

shellshockondamage( var_0, var_1 )
{
    if ( isdefined( self.flashendtime ) && gettime() < self.flashendtime )
        return;

    if ( var_0 == "_encstr_A45C0E4B9FDF3165A3B93C4491BFA4A9" || var_0 == "_encstr_A11B0CBD04C9B790F653EBCF4915" || var_0 == "_encstr_9E0B13A801F1A16F27C52E196DED47FA817110C1A1" || var_0 == "_encstr_81670F602F2B4957763C758D38D1FF6C3B" || var_0 == "_encstr_BA3916099077D7673B375A25D3CB8C29EF394169385E873C" )
    {
        if ( var_1 > 10 )
        {
            if ( isdefined( self.shellshockreduction ) && self.shellshockreduction )
                scripts\cp_mp\utility\shellshock_utility::_shellshock( "_encstr_BD3B1091EF3A7BF0074749C02EE7A0387273", "_encstr_B8BE07320B5B16ECAC", self.shellshockreduction );
            else
                scripts\cp_mp\utility\shellshock_utility::_shellshock( "_encstr_BD3B1091EF3A7BF0074749C02EE7A0387273", "_encstr_B8BE07320B5B16ECAC", 0.5 );
        }
    }
}

endondeath()
{
    self waittill( "_encstr_A3750609A5E61883" );
    waittillframeend;
    self notify( "_encstr_B7F90C0A289181C7427F2C571D89" );
}

grenade_earthquake( var_0, var_1 )
{
    self notify( "_encstr_953413BC52C50851CF95F77FAE0531CBD9A3F7F092" );
    self endon( "_encstr_953413BC52C50851CF95F77FAE0531CBD9A3F7F092" );
    thread endondeath();
    self endon( "_encstr_B7F90C0A289181C7427F2C571D89" );
    var_2 = undefined;

    if ( !isdefined( var_1 ) || var_1 )
        self waittill( "_encstr_AB0808DFB97F822F1899", var_2 );
    else
        var_2 = self.origin;

    grenade_earthquakeatposition_internal( var_2, var_0 );
}

grenade_earthquakeatposition( var_0, var_1 )
{
    grenade_earthquakeatposition_internal( var_0, var_1 );
}

grenade_earthquakeatposition_internal( var_0, var_1 )
{
    if ( !isdefined( var_1 ) )
        var_1 = 1;

    playrumbleonposition( "_encstr_B6D30F3B39CACDC24659EBE4EAAD263695", var_0 );
    var_2 = 0.45 * var_1;
    var_3 = 0.7;
    var_4 = 800;
    earthquake( var_2, var_3, var_0, var_4 );
    _screenshakeonposition( var_0, 600 );
}

bloodeffect( var_0 )
{
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );

    if ( !scripts\mp\utility\player::isreallyalive( self ) )
        return;

    var_1 = vectornormalize( anglestoforward( self.angles ) );
    var_2 = vectornormalize( anglestoright( self.angles ) );
    var_3 = vectornormalize( var_0 - self.origin );
    var_4 = vectordot( var_3, var_1 );
    var_5 = vectordot( var_3, var_2 );

    if ( var_4 > 0 && var_4 > 0.5 )
        return;

    if ( abs( var_4 ) < 0.866 )
    {
        var_6 = level._effect["_encstr_B85B09D0A51D7D1BAC333A"];

        if ( var_5 > 0 )
            var_6 = level._effect["_encstr_BA670AC05A1B6850E4DF6141"];

        var_7 = [ "_encstr_A3750609A5E61883", "_encstr_B8BE07320B5B16ECAC" ];
        thread play_fx_with_entity( var_6, var_7, 7.0 );
    }
    else
    {

    }
}

bloodmeleeeffect( var_0, var_1 )
{
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    var_2 = _id_14096( var_0 );

    if ( isdefined( var_2 ) )
        thread attraction_sr_range_hud( var_2 );
    else
    {
        var_3 = [ "_encstr_A3750609A5E61883" ];
        thread play_fx_with_entity( level._effect["_encstr_82580C0AF0018F47267EB0CA1F8A"], var_3, 1.5 );

        if ( var_0.basename == "_encstr_AF6F15EAC009A1C7C1C8146179A8BF37FFB84301883123" )
        {
            var_4 = var_1 getcorpseentity();

            if ( isdefined( var_4 ) )
            {
                var_5 = [ "_encstr_82190BA2777052776E5311CBD8", "_encstr_A9190B4D7DEE39A537D1D7B12B", "_encstr_87DA078B11C012A35F" ];
                var_6 = [ "_encstr_B7500A35F5B53756B2AFC9B4", "_encstr_B9500ADADFD8262B6F97522D" ];
                var_7 = self geteye();
                var_8 = var_4 gettagorigin( "_encstr_87DA078B11C012A35F" );
                var_9 = var_4 gettagorigin( "_encstr_B7500A35F5B53756B2AFC9B4" );

                if ( distancesquared( var_8, var_7 ) < distancesquared( var_9, var_7 ) )
                    playfxontag( level._effect["_encstr_B2DD14D9E2DBBE20D1642B178587B8F62F8B30219ABB"], var_4, var_5[randomintrange( 0, var_5.size )] );
                else
                    playfxontag( level._effect["_encstr_B2DD14D9E2DBBE20D1642B178587B8F62F8B30219ABB"], var_4, var_6[randomintrange( 0, var_6.size )] );
            }
        }
    }
}

_id_14096( var_0 )
{
    if ( !isdefined( var_0 ) || !isdefined( var_0.receiver ) )
        return undefined;

    if ( var_0 hasattachment( "_encstr_93100D3289288DCB6C6A991250BE07" ) )
        return "_encstr_88EE0C891B7BED328C2C915AC995";
    else if ( var_0 hasattachment( "_encstr_95F9083289288DCB6C6A" ) || scripts\engine\utility::string_starts_with( var_0.receiver, "_encstr_A8BA095BCAF5B9DDDB27C8" ) )
        return "_encstr_95F9083289288DCB7C6E";
    else if ( var_0 hasattachment( "_encstr_82A10E02A890973733C91F2A89F0FDA3" ) || scripts\engine\utility::string_starts_with( var_0.receiver, "_encstr_AFC8086BCAD7B60BB14B" ) )
        return "_encstr_894C0DE51010F7C9BD99C5607DDB33";
    else if ( var_0 hasattachment( "_encstr_AD7C0D31B17B7B19663CAFCDE80B4C" ) )
        return "_encstr_B23B0C9A61E0CF59557169638799";
    else
        return undefined;
}

attraction_sr_range_hud( var_0 )
{
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    self setscriptablepartstate( "_encstr_B3380B27B818FDCA2591756D8D", var_0 );
    wait 0.05;
    self setscriptablepartstate( "_encstr_B3380B27B818FDCA2591756D8D", "_encstr_9BA4080D39CFFB5AB7C1" );
}

play_fx_with_entity( var_0, var_1, var_2 )
{
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    var_3 = spawnfxforclient( var_0, self geteye(), self );
    triggerfx( var_3 );
    var_3 setfxkilldefondelete();
    scripts\engine\utility::waittill_any_in_array_or_timeout( var_1, var_2 );
    var_3 delete();
}

c4_earthquake()
{
    thread endondeath();
    self endon( "_encstr_B7F90C0A289181C7427F2C571D89" );
    self waittill( "_encstr_AB0808DFB97F822F1899", var_0 );
    playrumbleonposition( "_encstr_B6D30F3B39CACDC24659EBE4EAAD263695", var_0 );
    earthquake( 0.4, 0.75, var_0, 512 );
    var_1 = scripts\common\utility::playersinsphere( var_0, 512 );

    foreach ( var_3 in var_1 )
    {
        if ( var_3 scripts\mp\utility\player::isusingremote() )
            continue;

        var_3 setclientomnvar( "_encstr_982A0DAED2EBA15DC8AFE64316D62B", 1 );
    }
}

artillery_earthquake( var_0, var_1, var_2, var_3, var_4 )
{
    playrumbleonposition( "_encstr_9DD11130F34C18E9EA7F26ABD92313408263E8", var_0 );

    if ( !isdefined( var_1 ) )
        var_1 = 0.7;

    if ( !isdefined( var_2 ) )
        var_2 = 0.5;

    if ( !isdefined( var_3 ) )
        var_3 = 800;

    earthquake( var_1, var_2, var_0, var_3 );
    _screenshakeonposition( var_0, var_3, var_4 );
}

stealthairstrike_earthquake( var_0 )
{
    playrumbleonposition( "_encstr_B6D30F3B39CACDC24659EBE4EAAD263695", var_0 );
    earthquake( 1.0, 0.6, var_0, 2000 );
    var_1 = scripts\common\utility::playersinsphere( var_0, 1000 );

    foreach ( var_3 in var_1 )
    {
        if ( var_3 scripts\mp\utility\player::isusingremote() )
            continue;

        var_3 setclientomnvar( "_encstr_982A0DAED2EBA15DC8AFE64316D62B", 1 );
    }
}

airstrike_earthquake( var_0 )
{
    playrumbleonposition( "_encstr_9DD11130F34C18E9EA7F26ABD92313408263E8", var_0 );
    earthquake( 0.5, 0.65, var_0, 1000 );
    _screenshakeonposition( var_0, 900 );
}

pulsegrenade_earthquake( var_0 )
{
    self notify( "_encstr_AACB18137858AB8A6FDEB76D4FC1427F8130838B2857E5B26F7D" );
    self endon( "_encstr_AACB18137858AB8A6FDEB76D4FC1427F8130838B2857E5B26F7D" );
    thread endondeath();
    self endon( "_encstr_B7F90C0A289181C7427F2C571D89" );
    var_1 = undefined;

    if ( !isdefined( var_0 ) || var_0 )
        self waittill( "_encstr_AB0808DFB97F822F1899", var_1 );
    else
        var_1 = self.origin;

    playrumbleonposition( "_encstr_B6D30F3B39CACDC24659EBE4EAAD263695", var_1 );
    earthquake( 0.3, 0.35, var_1, 800 );
    var_2 = scripts\common\utility::playersinsphere( var_1, 300 );

    foreach ( var_4 in var_2 )
    {
        if ( var_4 scripts\mp\utility\player::isusingremote() )
            continue;

        var_4 setclientomnvar( "_encstr_982A0DAED2EBA15DC8AFE64316D62B", 1 );
    }
}

engineerdrone_earthquake( var_0 )
{
    self notify( "_encstr_AACB18137858AB8A6FDEB76D4FC1427F8130838B2857E5B26F7D" );
    self endon( "_encstr_AACB18137858AB8A6FDEB76D4FC1427F8130838B2857E5B26F7D" );
    thread endondeath();
    self endon( "_encstr_B7F90C0A289181C7427F2C571D89" );
    var_1 = undefined;

    if ( !isdefined( var_0 ) || var_0 )
        self waittill( "_encstr_AB0808DFB97F822F1899", var_1 );
    else
        var_1 = self.origin;

    playrumbleonposition( "_encstr_B6D30F3B39CACDC24659EBE4EAAD263695", var_1 );
    earthquake( 0.3, 0.35, var_1, 800 );
    var_2 = scripts\common\utility::playersinsphere( var_1, 300 );

    foreach ( var_4 in var_2 )
    {
        if ( var_4 scripts\mp\utility\player::isusingremote() )
            continue;

        var_4 setclientomnvar( "_encstr_982A0DAED2EBA15DC8AFE64316D62B", 1 );
    }
}

_screenshakeonposition( var_0, var_1, var_2 )
{
    var_3 = scripts\common\utility::playersinsphere( var_0, var_1 );

    foreach ( var_5 in var_3 )
    {
        if ( isdefined( var_2 ) )
        {
            if ( isarray( var_2 ) )
            {
                if ( scripts\engine\utility::array_contains( var_2, var_5 ) )
                    continue;
            }
            else if ( var_5 == var_2 )
                continue;
        }

        if ( var_5 scripts\mp\utility\player::isusingremote() )
            continue;

        var_5 setclientomnvar( "_encstr_982A0DAED2EBA15DC8AFE64316D62B", 1 );
    }
}
