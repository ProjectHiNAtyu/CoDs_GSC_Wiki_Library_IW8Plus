// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

init()
{
    level._effect["_encstr_8B2C19406B88063F72C5E1791D5A7F09EAF7E070932D99FDF96FE3"] = loadfx( "_encstr_B65335A3B54B8619D06289CE033A5F3AA9DBC34323734EDA38D0FE5599627682FB1743BF9388B289D818359DD0C8ADBBC0A79F2B6D4CCB" );
    level._effect["_encstr_97441BA30A8BC838043489932FAD10ADDBF1B968227F9D619B029B9344"] = loadfx( "_encstr_9DA1368B24E9EE49CBEA4FB3D0A83F72ABCD92851F33269A5378A3F37090E6CA39489A7BF1D75AD19BA0B7DB89D1A402FF7DA9B3E6D3D214" );
    level._effect["_encstr_94F41B9DCC87AFB65AD8D86BF637B3564ED7CDD6EDB5597D1DC9B096D8"] = loadfx( "_encstr_AD1834AB96EBF20357A2F9AAFB97D90B788F173939B9923D73112A5DB5E0FB8DF148E83F5929DADF4358ADFA680FD9FBD1EBFD317958" );
    level._effect["_encstr_94CD20EC991EBE6D96B136D6F6B9CEAC277D675A8DE896B5BEAC1EC1367BCD4BB7B9"] = loadfx( "_encstr_8F7834CB61930EECBBB197B23D9A377FB1B923F269EBD6E23873A2B43B72BBDB6396BBEB7050FB1C7079D18DB718404B810823D29890" );
    game["_encstr_B8DA073D799798C7C7"]["_encstr_BD4913FA085885FB6D31B76F6B9962F5F0B0B70703"] = "_encstr_A6861457B51BA32B3F8FD0B1EF51A0F9C2DDC0548FE3";
    var_0 = spawnstruct();
    var_0._id_138FD = "_encstr_9DDF0B1FB7F4D8F817688F8793";
    var_0.parachute_get_path = getdvarfloat( "_encstr_B7B72850FA526F9913B050549DCBA3F9FAC11818A26D53700BAF6DCE4FA3EBADE7699870DB46A94837DE", 45 );
    var_0.parachuteoverheadwarningprematchtimeoutms = getdvarfloat( "_encstr_B77828E6369CEBC49314B7775927ABC16EEBADA5B1C65BB7B9B3ACE4AFE0B4CDCED75ACD3AB29C672C8D", 2.0 );
    var_0.spotlight_model = getdvarint( "_encstr_81ED24E2AE4277AA90BFEF53302BABCB12770F9C2C5C707873C9C170E3254F8FDA5731F19DF3", 2500 );
    var_0.parachuteoverheadwarningheight = getdvarfloat( "_encstr_A1952B229168A7D2D6495F071BFEEBC0387E5C2CE8302DDA20CF7F1B0728D31C282D95B72688FD438FF157777D", 1.8 );
    var_0.parachutedeploydelay = getdvarfloat( "_encstr_9EFB2D18B21A37C15BC8281CD5736B310219A040DA359BB8D3E72596977B10C72B63D0B8B30A4791971A3F8D89B7F8", 1.8 );
    var_0.asm_playfacialanim_mp = ::asm_playfacialanim_mp;
    var_0._id_12A35 = ::_id_12A35;
    var_0._id_1449E = ::_id_1449E;
    var_0.isdeathshieldskippingenabled = ::isdeathshieldskippingenabled;
    _keypadscriptableused_bunkeralt::_id_12AF4( var_0 );
}

asm_playfacialanim_mp()
{
    self._id_1265D = 0;
    self._id_11E08 = 2;
    self.player._id_1282D = 1;
    level thread _encstr_9E81231898C28383CB8760E558BF27EB18E74BB010797A7D4A032187800594B088064FFB1B::dmztut_endgamewithreward( "_encstr_BD4913FA085885FB6D31B76F6B9962F5F0B0B70703", self.player );
    self.player scripts\mp\utility\perk::giveperk( "_encstr_B9FE151A83CF7E72792BC5D85FBB632B045BEBE0AF06AA" );
    self.player scripts\mp\utility\perk::giveperk( "_encstr_9E29141ED83FC163EE7A60CB218203D88F7B2D16218F" );
    self.player scripts\mp\utility\perk::giveperk( "_encstr_A14F1612C3E0AB520F61634F1FA49AF3D088CFDF38287EBA" );
    self.player scripts\mp\utility\perk::giveperk( "_encstr_B1AC14370756C62D581B1D97FA5CD5A5366DB9EEB007" );
    self.player scripts\mp\utility\perk::giveperk( "_encstr_976D1292779B62317163BB9781EBE48A71029F4A" );
    self.player scripts\mp\utility\perk::giveperk( "_encstr_A3BE15437B034F5BD6310C70E113D3F0305DA471793B65" );
    _id_1353C();
    self.player playlocalsound( "_encstr_882C2358EAA77848739FF5F3E3D987582404A35193C549724A43D1FB87B2DCA0DA11EB88BA" );
    _keypadscriptableused_bunkeralt::_id_12425( self.player, "_encstr_B4C427734D114DE8AF228A1710B38AF3C5AA6339E1E2576280EF80B25F2B22312747F58105CBABC8EB" );
}

_id_1449E()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_A3750609A5E61883" );
    self endon( "_encstr_AD730DFB8BF71830A3175F730B9BEF" );
    var_0 = 0;

    while ( gettime() < self.mp_layover_patch )
    {
        var_1 = gettime();

        if ( var_1 - var_0 >= self._id_12E2D.parachuteoverheadwarningprematchtimeoutms * 1000 )
        {
            thread _id_13ED8();
            thread _id_13341();
            var_0 = gettime();
        }

        waitframe();
    }
}

isdeathshieldskippingenabled()
{
    self notify( "_encstr_A2631A66843A1758B51BB8C8CFCC3153B26BD36C1E73EBE69E37B8A8" );
    self endon( "_encstr_A2631A66843A1758B51BB8C8CFCC3153B26BD36C1E73EBE69E37B8A8" );
    self.player scripts\mp\utility\perk::removeperk( "_encstr_B9FE151A83CF7E72792BC5D85FBB632B045BEBE0AF06AA" );
    self.player scripts\mp\utility\perk::removeperk( "_encstr_9E29141ED83FC163EE7A60CB218203D88F7B2D16218F" );
    self.player scripts\mp\utility\perk::removeperk( "_encstr_A14F1612C3E0AB520F61634F1FA49AF3D088CFDF38287EBA" );
    self.player scripts\mp\utility\perk::removeperk( "_encstr_B1AC14370756C62D581B1D97FA5CD5A5366DB9EEB007" );
    self.player scripts\mp\utility\perk::removeperk( "_encstr_976D1292779B62317163BB9781EBE48A71029F4A" );
    self.player scripts\mp\utility\perk::removeperk( "_encstr_A3BE15437B034F5BD6310C70E113D3F0305DA471793B65" );
    self.player._id_1282D = 0;
    self.player lerpfovbypreset( "_encstr_98791151FD0F98353BC396335BF7E630A554C7" );
    lb_dmg_factor_tail_rotor();

    if ( isalive( self.player ) )
        self.player playlocalsound( "_encstr_8F6A25AD83F5C17BDD2B9C5DE07D19CA2C8DA396EC16A32B7DD65A1BD8B5F6CDCE564EF507C6C9" );
}

_id_12A35()
{
    open_starting_safehouse_door( self._id_12E2D.parachute_get_path );
    self.player playlocalsound( "_encstr_959C25D61CEB1CDE77569C5D83BEC9B285C63AD23B588E56D75BD2B136B6EDCDCEB2E4BE1C63C9" );
    self.player lerpfovbypreset( "_encstr_AA880E02A0D02AB113F2AFD9EF4565E0" );
}

_id_11FF1( var_0 )
{
    if ( isdefined( var_0.attacker._id_1282D ) )
    {
        if ( var_0.attacker._id_1282D )
        {
            playfx( scripts\engine\utility::getfx( "_encstr_94CD20EC991EBE6D96B136D6F6B9CEAC277D675A8DE896B5BEAC1EC1367BCD4BB7B9" ), var_0.victim.origin );
            var_1 = easepower( "_encstr_B1F01A28D2C5085A2B41F67B8D0348377772BD4BF7A285CF5910C3C3", var_0.victim.origin );
            var_1 setscriptablepartstate( "_encstr_A219046FD17A", "_encstr_AB3B1BB7C7A2516B1FED912912C7101B8A1B0B33874AAD383C449EEBB7" );
            var_0.attacker playlocalsound( "_encstr_B18127E56971922F2C3183FBBB10138CF819697D9F101FDF55886902E0D1B34540851FFD5D21E2937E" );
            var_2 = var_0.attacker _keypadscriptableused_bunkeralt::_id_1249C( "_encstr_9DDF0B1FB7F4D8F817688F8793" );
            var_2._id_1265D++;

            if ( var_2._id_1265D % 3 == 0 )
            {
                var_3 = clamp( var_2._id_11E08 + 1, 2, 2 );
                var_2._id_11E08 = var_3;
            }

            var_4 = ( var_2._id_11E08 - 1 ) * 75;
            var_2.player thread scripts\mp\rank::giverankxp( "_encstr_B3F620D1BBE7AE38D5EA59B32FBC1079F3E2C8D87267E6316CC951A907A658303FFB", var_4, var_0.objweapon );
            var_2.player thread scripts\mp\rank::scoreeventpopup( "_encstr_B3F620D1BBE7AE38D5EA59B32FBC1079F3E2C8D87267E6316CC951A907A658303FFB" );
        }
    }
}

open_starting_safehouse_door( var_0 )
{
    self.mp_layover_patch = gettime() + var_0 * 1000;
    self.player thread _keypadscriptableused_bunkeralt::_id_13F7E( undefined, 3, 2 );
}

_id_1353C()
{
    playfxontag( scripts\engine\utility::getfx( "_encstr_94F41B9DCC87AFB65AD8D86BF637B3564ED7CDD6EDB5597D1DC9B096D8" ), self.player, "_encstr_BAEC0968474B3BE3CA7F05" );
    stopfxontagforclients( scripts\engine\utility::getfx( "_encstr_94F41B9DCC87AFB65AD8D86BF637B3564ED7CDD6EDB5597D1DC9B096D8" ), self.player, "_encstr_BAEC0968474B3BE3CA7F05", self.player );
}

lb_dmg_factor_tail_rotor()
{
    stopfxontag( scripts\engine\utility::getfx( "_encstr_94F41B9DCC87AFB65AD8D86BF637B3564ED7CDD6EDB5597D1DC9B096D8" ), self.player, "_encstr_BAEC0968474B3BE3CA7F05" );
    self.player playlocalsound( "_encstr_8F6A25AD83F5C17BDD2B9C5DE07D19CA2C8DA396EC16A32B7DD65A1BD8B5F6CDCE564EF507C6C9" );
}

_id_13341()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self.player endon( "_encstr_A6E614B38DC8F8752D01ECFBDE91CAF9A8691297C8DF" );
    self.player thread _id_12BD0();
    self.player scripts\mp\utility\perk::giveperk( "_encstr_A2AD12B907591BD2C2363ABCFA1DC95836B62BC9" );
    wait( self._id_12E2D.parachutedeploydelay );
    self.player scripts\mp\utility\perk::removeperk( "_encstr_A2AD12B907591BD2C2363ABCFA1DC95836B62BC9" );
    self.player notify( "_encstr_A6E614B38DC8F8752D01ECFBDE91CAF9A8691297C8DF" );
}

_id_12BD0()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_A6E614B38DC8F8752D01ECFBDE91CAF9A8691297C8DF" );
    scripts\engine\utility::_id_143A6( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3", "_encstr_B2170C4AD884CDC823B9DB9D9F42", "_encstr_8CD0124A97D7F07BAD07C8C342FAA010C490DD5B" );
    scripts\mp\utility\perk::removeperk( "_encstr_A2AD12B907591BD2C2363ABCFA1DC95836B62BC9" );
    self notify( "_encstr_A6E614B38DC8F8752D01ECFBDE91CAF9A8691297C8DF" );
}

_id_13ED8()
{
    var_0 = self.player;
    var_1 = self.player.origin;
    var_2 = self.player.angles;
    var_3 = init_hacking_consoles_internal( var_0, var_1 );
    var_4 = physics_createcontents( [ "_encstr_9E9C1638865EB95A6CE68DDEE64795B98E6EAF9BF6B1968C", "_encstr_941116D7F47B0FC88317C8B07BCC017DD35AD8D44D52D773", "_encstr_A18816F8C3E1EFFCFF5A92BF8363BBF55BCBD9C3538DF74D", "_encstr_B7F9145B18AB8AF721FE235718AB8F95E96811E39843", "_encstr_9DD6156A78B803FAD687D7EF95056246B86329B453E0D5", "_encstr_B7D018B89C4B13AC473342305523920D607E50E3571038A69138" ] );
    var_5 = scripts\common\utility::playersinsphere( var_1, self._id_12E2D.spotlight_model );
    var_6 = prematchinitblueprintloadouts( var_1, self._id_12E2D.spotlight_model );

    if ( var_6.size )
        var_5 = scripts\engine\utility::array_combine( var_5, var_6 );

    self._id_12ED0 = var_5;

    if ( var_5.size > 0 )
        var_7 = scripts\engine\utility::ter_op( self.player.team == "_encstr_BA840579D3F7F6", "_encstr_BC850785638DA59537", "_encstr_BA840579D3F7F6" );

    foreach ( var_9 in var_5 )
    {
        if ( !scripts\mp\utility\player::isreallyalive( var_9 ) || !scripts\cp_mp\utility\player_utility::playersareenemies( var_0, var_9 ) )
            continue;

        thread c4vehiclemultkill( var_9, var_0, var_3 );
        thread c4_placing_bc( var_9, var_0 );
    }

    triggerportableradarping( var_1, var_0, self._id_12E2D.spotlight_model, 500, "_encstr_82371C37C1ACB14B0BC6D1BCBECD9BB01C6EA1F63A7D96B6DAAB73A5A35E" );
}

c4_placing_bc( var_0, var_1 )
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self.player endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );

    if ( isdefined( var_0 ) && isdefined( var_1 ) )
        var_2 = playfxontagforclients( scripts\engine\utility::getfx( "_encstr_97441BA30A8BC838043489932FAD10ADDBF1B968227F9D619B029B9344" ), var_0, "_encstr_BAEC0968474B3BE3CA7F05", var_1 );

    wait( self._id_12E2D.parachuteoverheadwarningheight / 1.8 );

    if ( isdefined( var_0 ) && isdefined( var_1 ) )
        stopfxontagforclients( scripts\engine\utility::getfx( "_encstr_97441BA30A8BC838043489932FAD10ADDBF1B968227F9D619B029B9344" ), var_0, "_encstr_BAEC0968474B3BE3CA7F05", var_1 );
}

c4vehiclemultkill( var_0, var_1, var_2 )
{
    var_3 = var_0 getentitynumber();
    var_2.targets[var_3] = var_0;
    var_2.endtimes[var_3] = gettime() + self._id_12E2D.parachuteoverheadwarningheight * 1000.0;
    var_2.outlineids[var_3] = scripts\mp\utility\outline::outlineenableforplayer( var_0, var_1, "_encstr_BC7E148F68A844FAEF37E71F76E7531E5108570BC043", "_encstr_BE8F0A2BB8D596386BB273A3" );

    if ( isplayer( var_0 ) || isbot( var_0 ) )
    {

    }

    var_2 thread _id_13FB1();
    var_0.lastsnapshotgrenadetime = gettime();
    var_1 scripts\mp\damage::combatrecordtacticalstat( "_encstr_A95317955C5DD20EBE9BDC85079B1A7BE8EB7627599B581959" );
    var_1 scripts\mp\utility\stats::incpersstat( "_encstr_B1910D77400B780309C5753118D382", 1 );
}

init_hacking_consoles_internal( var_0, var_1 )
{
    var_2 = undefined;

    if ( 1 )
    {
        var_2 = spawnstruct();
        var_2.owner = var_0;
        var_2.position = var_1;
        var_2.isalive = 1;
        var_2.targets = [];
        var_2.endtimes = [];
        var_2.outlineids = [];
    }

    return var_2;
}

_id_13FB1()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self endon( "_encstr_A3750609A5E61883" );
    self endon( "_encstr_AD730DFB8BF71830A3175F730B9BEF" );

    if ( !istrue( self.isalive ) )
        return;

    self notify( "_encstr_B73107339BBC5E6B95" );
    self endon( "_encstr_B73107339BBC5E6B95" );
    thread _id_13430();

    while ( self.targets.size > 0 )
    {
        foreach ( var_5, var_1 in self.targets )
        {
            var_1 = self.targets[var_5];
            var_2 = self.endtimes[var_5];
            var_3 = self.outlineids[var_5];

            if ( !scripts\mp\utility\player::isreallyalive( var_1 ) || gettime() >= var_2 )
            {
                scripts\mp\utility\outline::outlinedisable( var_3, var_1 );
                var_4 = isplayer( var_1 );

                if ( isdefined( var_1 ) && var_4 )
                    var_1 scripts\mp\utility\outline::_hudoutlineviewmodeldisable();

                self.targets[var_5] = undefined;
                self.endtimes[var_5] = undefined;
                self.outlineids[var_5] = undefined;
            }
        }

        waitframe();
    }

    thread _id_13431();
}

_id_13430()
{
    self endon( "_encstr_A3750609A5E61883" );
    self endon( "_encstr_B73107339BBC5E6B95" );
    self endon( "_encstr_AD730DFB8BF71830A3175F730B9BEF" );
    _id_1342F();
    thread _id_13431();
}

_id_1342F()
{
    self endon( "_encstr_AD730DFB8BF71830A3175F730B9BEF" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );

    for (;;)
        waitframe();
}

_id_13431()
{
    self notify( "_encstr_A3750609A5E61883" );
    self.isalive = 0;

    foreach ( var_3, var_1 in self.targets )
    {
        var_1 = self.targets[var_3];
        var_2 = self.outlineids[var_3];
        scripts\mp\utility\outline::outlinedisable( var_2, var_1 );

        if ( isdefined( var_1 ) && ( isplayer( var_1 ) || isbot( var_1 ) ) )
            var_1 scripts\mp\utility\outline::_hudoutlineviewmodeldisable();
    }
}

prematchinitblueprintloadouts( var_0, var_1 )
{
    var_2 = prematchinitloadouts( var_0, var_1 );
    var_3 = [];
    var_4 = var_1 * var_1;

    foreach ( var_6 in var_2 )
    {
        var_7 = distancesquared( var_6.origin, var_0 );

        if ( var_7 < var_4 )
            var_3[var_3.size] = var_6;
    }

    return var_3;
}

prematchinitloadouts( var_0, var_1 )
{
    var_2 = physics_createcontents( [ "_encstr_B874166814E073EA0FAE63B79B8107BB5BD25F7F1821CF8A" ] );
    var_3 = ( var_1, var_1, var_1 );
    var_4 = var_0 - var_3;
    var_5 = var_0 + var_3;
    var_6 = physics_aabbbroadphasequery( var_4, var_5, var_2, [] );
    return var_6;
}

isplatepouch()
{
    _encstr_AB2720B21B5371B3DC50DE80D8EE7F7A42AF1BB3E8E5DEF0DB7E31686D3DED274F3A::_id_12B21( ::isplacementplayerobstructed );
    level thread isplayerbrsquadleader();
}

isplayerbrsquadleader()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );

    while ( !isdefined( level.player ) )
        waitframe();
}

isplacementplayerobstructed( var_0, var_1 )
{
    var_2 = "_encstr_A40101";

    switch ( var_0 )
    {
        case "_encstr_9D081D4A611D1ABF09A02B6FF96071E2E98995C5DC4BB3F7B3A83797889B20":
            level.player _keypadscriptableused_bunkeralt::_id_1393A( "_encstr_9DDF0B1FB7F4D8F817688F8793" );
            break;
        case "_encstr_8C071E276B89B1BE9BE00BEE37EBD6A536C6B6DB9B76B227AF38B77756E4D50E":
            var_3 = level.player.origin + anglestoforward( level.player.angles ) * 300 + ( 0, 0, 25 );
            easepower( "_encstr_9EB92150381C2747E3367313F326C8F57FA9AA4F82E21518894231C49BBD2F68D1F2E6", var_3 );
            break;
        case "_encstr_B9A826C9D64C8DF57696CEB2D747B285DAAD161D59EB5BD2B136DA7BB9EC959CFAC1DBBB59E4EAE0":
            var_4 = scripts\mp\utility\teams::getteamdata( level.player.team, "_encstr_8875080E3685E52B93B9" );
            var_4 = scripts\engine\utility::array_remove( var_4, level.player );
            var_4[randomintrange( 0, var_4.size )] _keypadscriptableused_bunkeralt::_id_1393A( "_encstr_9DDF0B1FB7F4D8F817688F8793" );
            break;
        case "_encstr_8A2A2372DB101D77BC387B72C685FB17309B27E34BC8A5675030627A0BF0BB4D081B8265D1":
            var_5 = scripts\engine\utility::ter_op( level.player.team == "_encstr_BA840579D3F7F6", "_encstr_BC850785638DA59537", "_encstr_BA840579D3F7F6" );
            var_4 = scripts\mp\utility\teams::getteamdata( var_5, "_encstr_8875080E3685E52B93B9" );
            var_4[randomintrange( 0, var_4.size )] _keypadscriptableused_bunkeralt::_id_1393A( "_encstr_9DDF0B1FB7F4D8F817688F8793" );
            break;
    }
}
