// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

teamplunderexfiltimer()
{
    if ( isdefined( level.deposit_from_compromised_convoy_delayed ) )
        return;

    level.disable_oob_immunity_on_riders = 1;
    level.deposit_from_compromised_convoy_delayed = spawnstruct();
    level.deposit_from_compromised_convoy_delayed._id_12010 = undefined;
    level.deposit_from_compromised_convoy_delayed._id_12011 = undefined;
    level.deposit_from_compromised_convoy_delayed._id_1201E = undefined;
    level.deposit_from_compromised_convoy_delayed._id_1363D = [];
    level.deposit_from_compromised_convoy_delayed.bisdeaf = [ "_encstr_AF141201EED3E7CAEF60A26A58DBC9A3EB588AAA", "_encstr_8FFF21B0B147BD9CFA5973CA5BE5AF1BDDBE98E47D3BAC935B8573BE856639A58D58B9", "_encstr_98CB0755CFC5882307" ];
    level.deposit_from_compromised_convoy_delayed ambush_lmg_guy();
    allammoboxes();
    allassassin_getsortedteams();
    all_players_within_distance2d_and_below_height();
    scripts\cp_mp\vehicles\cargo_truck_mg::init_battlechatter();
}

ambush_lmg_guy()
{
    foreach ( var_1 in level.deposit_from_compromised_convoy_delayed.bisdeaf )
    {
        _id_12B0B( var_1, ::binoculars_watchracelaststand );
        _id_12B0C( var_1, ::binoculars_watchracetake );
        _id_12B0D( var_1, ::binocularsinited );
    }
}

all_players_within_distance2d_and_below_height()
{
    anim.grenadetimers["_encstr_A35C129D20CF1CA07AFF5775EDE57855CFB99023"] = randomintrange( 0, 20000 );
}

allammoboxes()
{
    var_0 = [ [ "_encstr_B84D129D28A0AFFBB75DD73769B74217F07095A5", "_encstr_989E2F3B66C3F296DD1C7936B7C9CA796BBD63F6E87BCECBCECC3CEBADBDC6B7D1BDCEFA951E83D8B76E5A7B37E29DCCF0" ], [ "_encstr_B3D0184B2F522038CF3B4619A0B8B068DB5FD7C5570A7B281497", "_encstr_B22D35B0A503D58737AF42B24886B8A020A8581FC3074DBF8C6B5B1FF54FA51F3BBA0B8775C3775DC8E0E2E573B1214C5FF2338EDB5D4B" ], [ "_encstr_A8D911EC33C3AF4CD54E9BF56EDAC6BE637BDD", "_encstr_82C436FBAF40428B33AA0FB7F77A4FFACF0780F397CF98B0DA8FA1BFA36694F890D188CBBDFE517812CB83A7EF8B51701F757023754650AB" ], [ "_encstr_9D26127327B839F69B1B055F2722C9F1707CD948", "_encstr_8914378D064022E38FCFA0D362AF276AD19E3B3DAD7DC838CB92C3D87BBEDCF8B0CFABB95F9311701B3B79C1F11719E081402B07F0ED80CC2B" ], [ "_encstr_BA7C166BC4090962AB98AB67B88054B181ED3667207942BF", "_encstr_A67837CE33C397A5EE705E77B258C179FA66A527CAF2D6B7C6EDD17B675EEC333CBEDAA37B9DEBDEE68EB0ECBED095B0197D1BF6BBB8D966E1" ], [ "_encstr_82E711CE333CBE4C5D93CDEBADB219F51BBDDD", "_encstr_87833667663C975ADD07E5EE2B0B8397D7335A39565EB57BB1EDA3ED9DF2D9331ED7D63AED67AFDBCDE858B3EBB65646FAB1F6EEE2CE991E" ], [ "_encstr_AB661246CA10E1500BC270992001C9BE203A4FBB", "_encstr_8BD6379CCE4B48636B3FBA70828609107F76AB1625EEC8A7955218A88BCDCDF1BB27218DB723F69FFDCBB8E0F1759309CF88BB8C181A1BC520" ], [ "_encstr_804811F3A06159032B46162F5113CF91E1506B", "_encstr_B8DA363476F3F0CBC3A752886A1EB1B8171E33AECD06603FEDFA804033A5656923BF49252FBB6E7755B31078998D25016724C01CF6D3F181" ], [ "_encstr_9C83123B99F0EB4CAB39CDAFC6E4B3FA0D96B3A1", "_encstr_ABD837FCAE2B28030B5F9A50A2A6E9F05F568B7605CE2847B53278886BEDAD919BC701ED97C3D6BF1DEBD8C0D1559D49AF689BECF87A3BE540" ] ];

    if ( !isdefined( level.g_effect ) )
        level.g_effect = [];

    for ( var_1 = 0; var_1 < var_0.size; var_1++ )
    {
        if ( !isdefined( level.g_effect[var_0[var_1][0]] ) )
            level.g_effect[var_0[var_1][0]] = loadfx( var_0[var_1][1] );
    }
}

allassassin_getsortedteams()
{
    if ( !scripts\engine\utility::flag_exist( "_encstr_97EC123360481CB793B883EB058A0FFBA2C91DF3" ) )
        scripts\engine\utility::flag_init( "_encstr_97EC123360481CB793B883EB058A0FFBA2C91DF3" );
}

spawnnewagent( var_0, var_1, var_2, var_3, var_4 )
{
    if ( !isdefined( var_1 ) )
        var_1 = ( 0, 0, 0 );

    if ( !isdefined( var_3 ) )
        var_3 = "_encstr_AF141201EED3E7CAEF60A26A58DBC9A3EB588AAA";

    if ( !isdefined( var_2 ) )
        var_2 = 0;

    if ( !isdefined( var_4 ) )
        var_4 = "_encstr_ADDB113BC0C19D011144DDD923CBCA5C0B78F3";

    var_5 = scripts\mp\mp_agent::spawnnewagent( var_3, var_4, var_0, var_1 );

    if ( !isdefined( var_5 ) )
        return;

    var_5.guid = var_5 getguid();
    var_5 ammobox_getbufferedattachmentsourceweapon();
    var_5 thread alwaysdoskyspawnontacinsert();
    var_5 thread activeparachutersfactionvo();
    var_5 scriptablecount( "_encstr_9E650DDBC151F67B187332FBB96F23" );
    var_5 thread activestate();

    if ( var_2 )
        var_5 scriptable_token_scriptable_touched_callback( 250 );

    level.deposit_from_compromised_convoy_delayed._id_1363D = scripts\engine\utility::array_add( level.deposit_from_compromised_convoy_delayed._id_1363D, var_5 );
    return var_5;
}

_encstr_A8F9140F98BE58E86382238A4A0796D0D7E1BFAB3E23( var_0, var_1, var_2, var_3, var_4, var_5 )
{
    if ( !isdefined( var_1 ) )
        var_1 = ( 0, 0, 0 );

    if ( !isdefined( var_3 ) )
        var_3 = "_encstr_932118CAB9566B2FBE8DEED74FDB6B892D2BFA235633165D1BD1";

    if ( !isdefined( var_2 ) )
        var_2 = 0;

    if ( !isdefined( var_5 ) )
        var_5 = "_encstr_ADDB113BC0C19D011144DDD923CBCA5C0B78F3";

    var_6 = access_card::_id_146FA( var_3, var_0, var_1, undefined, var_4 );

    if ( !isdefined( var_6 ) )
        return;

    var_6.guid = var_6 getguid();
    var_6 thread activeparachutersfactionvo();

    if ( var_2 )
        var_6 scriptable_token_scriptable_touched_callback( 250 );

    level.deposit_from_compromised_convoy_delayed._id_1363D = scripts\engine\utility::array_add( level.deposit_from_compromised_convoy_delayed._id_1363D, var_6 );
    return var_6;
}

_encstr_93F0176B53EFBFFD18BB0FF04B93C627836B93B2D9B48FB5E0( var_0, var_1, var_2, var_3, var_4 )
{
    if ( !isdefined( var_1 ) )
        var_1 = ( 0, 0, 0 );

    if ( !isdefined( var_3 ) )
        var_3 = "_encstr_AF141201EED3E7CAEF60A26A58DBC9A3EB588AAA";

    if ( !isdefined( var_2 ) )
        var_2 = 0;

    if ( !isdefined( var_4 ) )
        var_4 = "_encstr_ADDB113BC0C19D011144DDD923CBCA5C0B78F3";

    var_5 = spawnnewagent( var_0, var_1, var_2, var_3, var_4 );
    var_5 hide();
    var_5 [[ level._encstr_AF271A0C2ECB0BAF959278283AEA61A153C906F3AD3B51F73A2AE818 ]]( var_0 );
    return var_5;
}

ammobox_getbufferedattachmentsourceweapon()
{
    self.recentkillcount = 0;
    self.recentdefendcount = 0;
    self.kills = 0;
    self.deaths = 0;
    self.pers["_encstr_81C910A89FDA9F18A0527BA7DF74C830B630"] = 0;
    self.pers["_encstr_BD0511A7B743C848152EF38859EBA396EA4F0F"] = 0;
    self.pers["_encstr_8205197F1BD61983A850CD19AB18C2F2275F07F3877EC14EA09887"] = 0;
    self.tookweaponfrom = [];
    self.killedplayers = [];
    self._id_1407D = 0;
    self.name = "_encstr_A6F607E12737FA5CB9" + self.entity_number;
    self.scripted_long_deaths = 0;
    self.agentdamagefeedback = 1;
    self.maxhealth = 100;
    self.health = 100;
    self.health_remaining = 100;
    self.showseasonalcontent = 100;
    self.showsplashtoall = 100;
    self.meleedamageoverride = 25;
    self.baseaccuracy = 0.35;
    self.circleclosestarttime = spawnstruct();
    self.circleclosestarttime.maxhealth = self.maxhealth;
    self.circleclosestarttime.meleedamageoverride = self.meleedamageoverride;
    self.circleclosestarttime.baseaccuracy = self.baseaccuracy;
}

activestate()
{
    self endon( "_encstr_A3750609A5E61883" );

    for (;;)
    {
        self waittill( "_encstr_AD620DEC4ECA7358912BAF99B43959", var_0, var_1, var_2, var_3 );

        if ( !scripts\mp\utility\weapon::grenadethrown( var_0 ) )
            continue;

        scripts\mp\weapons::grenadeinitialize( var_0, var_1, var_2, var_3 );
        self notify( "_encstr_88E30E7639AC9BB08CCAAF47A1C9BDDD" );

        if ( !isdefined( var_0 ) )
            return;

        if ( !isdefined( var_0.weapon_name ) )
            return;

        var_0.spawnpos = var_0.origin;

        switch ( var_0.weapon_name )
        {
            case "_encstr_98730B19756A772BCF4369E043":
                thread scripts\mp\equipment\molotov::molotov_used( var_0 );
                break;
            case "_encstr_82B20FC7F7829E3F2B75B2566D5FF9105B":
                thread scripts\mp\equipment\gas_grenade::gas_used( var_0 );
                wait 0.1;
                var_0 notify( "_encstr_8AE90E7D08B8538A21DB77CF1155D2B3" );
                break;
        }
    }
}

scriptable_token_scriptable_touched_callback( var_0 )
{
    if ( scripts\mp\utility\game::getgametype() == "_encstr_9507034B25" )
    {
        _encstr_BD96220B5106E75AE8B7770D890AA70F2109F353DB5537C530DD0F0965F06D1BF8E11B7A::teamfriendlyto();
        _encstr_BD96220B5106E75AE8B7770D890AA70F2109F353DB5537C530DD0F0965F06D1BF8E11B7A::searchcirclesize();
        ammobox_canweaponuserandomattachments( var_0 );
    }
}

scriptablecount( var_0, var_1 )
{
    self.weapon = scripts\mp\class::buildweapon( var_0, [ "_encstr_AABA05236DC831", "_encstr_AABA05236DC831", "_encstr_AABA05236DC831", "_encstr_AABA05236DC831", "_encstr_AABA05236DC831", "_encstr_AABA05236DC831" ], "_encstr_AABA05236DC831", "_encstr_AABA05236DC831", var_1 );
    self giveweapon( self.weapon );
    self.bulletsinclip = weaponclipsize( self.weapon );
    self.primaryweapon = self.weapon;

    if ( !scripts\common\utility::isweaponinitialized( self.primaryweapon ) )
        scripts\common\utility::initweapon( self.primaryweapon );

    _encstr_81251843179D48BB7D835E93503BADB74B88F74DF1ED2810F3EA::attachweapon( self.primaryweapon, "_encstr_9353062E718710C9" );
}

scriptable_used_by_part_funcs( var_0, var_1 )
{
    if ( !isdefined( self.grenadeweapon ) || self.grenadeweapon.basename != var_0 )
        self.grenadeweapon = getcompleteweaponname( var_0 );

    self.grenadeammo = var_1;
}

alwaysdoskyspawnontacinsert()
{
    self endon( "_encstr_A3750609A5E61883" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    wait( randomfloatrange( 1.25, 2.75 ) );
    scripts\cp_mp\vehicles\cargo_truck_mg::autoassignquest( self );
    scripts\cp_mp\vehicles\cargo_truck_mg::playorderevent( "_encstr_B9A2058748FB5D", "_encstr_93EE0B80579E49272A8DFE77A3", anim.player );
}

ammobox_canweaponuserandomattachments( var_0 )
{
    if ( !isdefined( var_0 ) || var_0 < 0 )
        return;

    self.br_maxarmorhealth = var_0;
    self.br_armorhealth = var_0;
    var_1 = self.br_armorhealth / self.br_maxarmorhealth;

    if ( isplayer( self ) )
    {
        self setclientomnvar( "_encstr_B771132B12FF4EE8A1118DBB37D2B905AFCA2111BA", var_1 );
        scripts\mp\equipment\armor_plate::debug_state( self.br_armorhealth );
    }
}

_id_13122( var_0 )
{
    self.baseaccuracy = var_0;
}

_id_13123( var_0 )
{
    self.meleedamageoverride = var_0;
}

relic_mythic_next_pain_time()
{
    return self.enemy;
}

activeparachutersfactionvo()
{
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self waittill( "_encstr_A3750609A5E61883" );
    level.deposit_from_compromised_convoy_delayed._id_1363D = scripts\engine\utility::array_remove( level.deposit_from_compromised_convoy_delayed._id_1363D, self );
}

_id_12B0B( var_0, var_1 )
{
    if ( !isdefined( var_0 ) || !isdefined( var_1 ) )
        return;

    if ( !isdefined( level.agent_funcs ) )
        return;

    level.deposit_from_compromised_convoy_delayed._id_12010 = var_1;
    level.agent_funcs[var_0]["_encstr_AAB20B6A503033FEC073DFA501"] = var_1;
}

_id_12B0C( var_0, var_1 )
{
    if ( !isdefined( var_0 ) || !isdefined( var_1 ) )
        return;

    if ( !isdefined( level.agent_funcs ) )
        return;

    level.deposit_from_compromised_convoy_delayed._id_12011 = var_1;
    level.agent_funcs[var_0]["_encstr_A42E1CDF0968DFFCDB9827BFB8C8F82571E708580209A7AC48682793AFE9"] = var_1;
}

_id_12B0D( var_0, var_1 )
{
    if ( !isdefined( var_0 ) || !isdefined( var_1 ) )
        return;

    level.deposit_from_compromised_convoy_delayed._id_1201E = var_1;
    level.agent_funcs[var_0]["_encstr_8A0F13B3B0DACAA32F0756F5F6737DB65AB18DAC23"] = var_1;
}

binoculars_watchracelaststand( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9, var_10, var_11, var_12 )
{
    var_13 = var_2;

    if ( scripts\mp\utility\weapon::unset_relic_damage_from_above( var_5 ) )
    {
        var_14 = spawnstruct();
        var_14.attacker = var_1;
        var_14.damage = var_2;
        var_14.point = var_6;
        var_2 = scripts\cp\utility\cp_controlled_callbacks::_id_12EC3( var_14 );
    }

    if ( !istrue( self._id_14693 ) )
        scripts\mp\subway\fast_travel_subway_station::callbacksoldieragentdamaged( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9, var_10, var_11, var_12, var_13 );
}

binoculars_watchracetake( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9, var_10, var_11, var_12, var_13, var_14 )
{
    if ( isdefined( level._id_1203F ) )
        self [[ level._id_1203F ]]( var_1, var_6, self );

    if ( !istrue( self._id_14693 ) )
        scripts\mp\subway\fast_travel_subway_station::callbacksoldieragentgametypedamagefinished( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9, var_10, var_11, var_12, var_13, var_14 );
    else
        _encstr_8A3C25FEF20FBD6EBC7D31913DD0757FD03993FD29D16DEAAC40E08BB871654B672B91E8D9FA6B( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9, var_10, var_11, var_12, var_13, var_14 );
}

binocularsinited( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8 )
{
    scripts\mp\subway\fast_travel_subway_station::callbacksoldieragentgametypekilled( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8 );
}

_encstr_8A3C25FEF20FBD6EBC7D31913DD0757FD03993FD29D16DEAAC40E08BB871654B672B91E8D9FA6B( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9, var_10, var_11, var_12, var_13, var_14 )
{
    if ( isdefined( self._encstr_A19623F4B76B4CA5CAAFB1C2C68D135836B6BE7BE6BE190BB50BCE95D7992DE6969B43AC23 ) )
    {
        self [[ self._encstr_A19623F4B76B4CA5CAAFB1C2C68D135836B6BE7BE6BE190BB50BCE95D7992DE6969B43AC23 ]]( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9, undefined, var_11, var_12 );

        if ( self.health - var_2 > 0 )
            scripts\mp\subway\fast_travel_subway_station::process_damage_feedback( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9, self, var_13, var_14 );
    }
}
