// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

applyarchetype()
{
    equipextras();
}

equipextras()
{

}

removearchetype()
{

}

auraquickswap_run()
{
    self endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    self endon( "_encstr_A1171039ACB6DED9B2059C6C34CA8ECB072B" );
    self setclientomnvar( "_encstr_942E12AE96AF85573985AFB8BAA56CB6DCBB580E", 0 );

    for (;;)
    {
        self waittill( "_encstr_8B220BCF9A8BAFAB5920581491" );
        var_0 = scripts\common\utility::playersincylinder( self.origin, 384 );

        foreach ( var_2 in var_0 )
        {
            if ( var_2.team != self.team )
                continue;

            var_2 thread auraquickswap_bestowaura( self );
        }
    }
}

auraquickswap_bestowaura( var_0 )
{
    self endon( "_encstr_87DC14B3C0C903B191786B89AC8373FA90A51D5742F3" );
    self endon( "_encstr_A41712F05A531B5C6781D5588DD3E6FF3B22D0F0" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );

    if ( self != var_0 )
        var_0 thread scripts\mp\utility\points::giveunifiedpoints( "_encstr_A4D80E7963AB1CD13B45DBCB65A65055" );

    self setclientomnvar( "_encstr_942E12AE96AF85573985AFB8BAA56CB6DCBB580E", 1 );
    scripts\mp\utility\perk::giveperk( "_encstr_B9FE151A83CF7E72792BC5D85FBB632B045BEBE0AF06AA" );
    self playlocalsound( "_encstr_877511D0BB691F0B5FA266EB893B11C3C1D240" );
    thread cleanupafterplayerdeath();
    wait 5;
    self playlocalsound( "_encstr_A1D512D58F5E0F336330AA128065AFFFB6F82656" );
    self notify( "_encstr_82AD14ABBF8590D4A2FFEBED97099D782394338326E0" );
    scripts\mp\utility\perk::removeperk( "_encstr_B9FE151A83CF7E72792BC5D85FBB632B045BEBE0AF06AA" );
    self setclientomnvar( "_encstr_942E12AE96AF85573985AFB8BAA56CB6DCBB580E", 0 );
}

cleanupafterplayerdeath()
{
    self endon( "_encstr_8A820B4696CDB1ED3737AC1B3A" );
    level endon( "_encstr_AD1D0BEF9161A06F1F684ADA39" );
    self waittill( "_encstr_A3750609A5E61883" );
    self setclientomnvar( "_encstr_942E12AE96AF85573985AFB8BAA56CB6DCBB580E", 0 );
}
